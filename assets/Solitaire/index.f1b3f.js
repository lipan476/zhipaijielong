window.__require=function e(t,o,i){function n(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var p="function"==typeof __require&&__require;if(!s&&p)return p(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=o[a]={exports:{}};t[a][0].call(l.exports,function(e){return n(t[a][1][e]||e)},l,l.exports,e,t,o,i)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({ActionBreath:[function(e,t,o){"use strict";cc._RF.push(t,"d7066ffph9CM4waZgFYY0xM","ActionBreath");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_MaxScale=1.2,t.m_Interval=1.8,t.PlayOnStart=!1,t.m_InitScale=1,t.m_IsRunning=!1,t}return n(t,e),t.prototype.start=function(){this.m_InitScale=this.node.scale,this.PlayOnStart&&this.RunBreathAction()},t.prototype.RunBreathAction=function(){if(!this.m_IsRunning){this.m_IsRunning=!0;var e=cc.tween().delay(.9*this.m_Interval).to(this.m_Interval,{scale:this.m_MaxScale*this.m_InitScale},{easing:cc.easing.sineOut}).to(this.m_Interval,{scale:this.m_InitScale},{easing:cc.easing.sineIn});cc.tween(this.node).repeatForever(e).start()}},r([c],t.prototype,"m_MaxScale",void 0),r([c],t.prototype,"m_Interval",void 0),r([c],t.prototype,"PlayOnStart",void 0),r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],LoadingADUIPanel:[function(e,t,o){"use strict";cc._RF.push(t,"a912fmaIepNcKoFBsHSS6v4","LoadingADUIPanel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_LoadingProgressCircleSprite=null,t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){cc.Tween.stopAllByTarget(this.m_LoadingProgressCircleSprite.node)},t.prototype.OnOpenLoadingAD=function(e){var t=this;this.m_LoadingProgressCircleSprite.fillRange=0,cc.tween(this.m_LoadingProgressCircleSprite).to(e.duration,{fillRange:1}).call(function(){cc.Tween.stopAllByTarget(t.m_LoadingProgressCircleSprite),ii.Util.safeCall(e.cb),t.Close()}).start()},r([c({type:cc.Sprite,tooltip:"\u8fdb\u5ea6\u5706\u5708"})],t.prototype,"m_LoadingProgressCircleSprite",void 0),r([s],t)}(ii.ALoadingADUIPanel);o.default=p,cc._RF.pop()},{}],PokerGroup:[function(e,t,o){"use strict";cc._RF.push(t,"40f1e6BtilHQa6BAU8UOSHf","PokerGroup");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../SolitaireEnums"),a=function(e){function t(t){var o=e.call(this)||this;return o.index=null,o.pokers=[],o.location=null,o.m_Listeners=[],o.location=t,o}return n(t,e),Object.defineProperty(t.prototype,"top",{get:function(){return this.IsPokersEmpty()?null:this.pokers[this.pokers.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"underTop",{get:function(){return this.pokers.length<2?null:this.pokers[this.pokers.length-2]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zero",{get:function(){return this.IsPokersEmpty()?null:this.pokers[0]},enumerable:!1,configurable:!0}),t.prototype.IsPokersEmpty=function(){return 0===this.pokers.length},t.prototype.indexOfPoker=function(e){return this.pokers.indexOf(e)},Object.defineProperty(t.prototype,"rootOpenPoker",{get:function(){for(var e=0;e<this.pokers.length;++e)if(this.pokers[e].status===r.EPokerStatus.OPEN)return this.pokers[e];return null},enumerable:!1,configurable:!0}),t.prototype.Reset=function(){for(;this.m_Listeners.length>0;)this.RemoveEventListener(this.m_Listeners.pop());this.pokers=[]},t.prototype.AddEventListener=function(e){this.on(t.EVENT_POKERGROUP_STATE_CHANGED,e.OnGroupPokerStateChanged.bind(e),e),this.m_Listeners.push(e)},t.prototype.RemoveEventListener=function(e){this.targetOff(e)},t.prototype.AddPoker=function(e){switch(this.pokers.push(e),e.group=this,this.location){case r.ELocation.CLOSE:e.status!==r.EPokerStatus.CLOSE&&(e.status=r.EPokerStatus.CLOSE,this.emit(t.EVENT_POKERGROUP_STATE_CHANGED,e,e.status));break;case r.ELocation.OPEN:e.status!==r.EPokerStatus.OPEN&&(e.status=r.EPokerStatus.OPEN,this.emit(t.EVENT_POKERGROUP_STATE_CHANGED,e,e.status))}return e},t.prototype.IsAutoFlipOnRemovePoker=function(e){var t=this.pokers.indexOf(e);return console.assert(t>=0),this.location===r.ELocation.PLAY&&this.rootOpenPoker===e&&this.pokers[0].status!==r.EPokerStatus.OPEN},t.prototype.RemoveTop=function(){var e=this.top;return e&&(this.pokers.length=this.pokers.length-1,e.group=null,this.location!==r.ELocation.PLAY||this.IsPokersEmpty()||this.top.status===r.EPokerStatus.OPEN||(this.top.status=r.EPokerStatus.OPEN,this.emit(t.EVENT_POKERGROUP_STATE_CHANGED,this.top,e.status))),e},t.prototype.GetPoker=function(e){if(!this.IsPokersEmpty()){var t=e>=0?e:this.pokers.length+e;if(t<this.pokers.length&&t>=0)return this.pokers[t]}return null},t.prototype.IsConcatPoker=function(e){return this.IsPokersEmpty()?13==e.point:this.top.IsConcatable(e)},t.prototype.IsNextPoker=function(e){return this.top?this.top.suit===e.suit&&this.top.point+1===e.point:1===e.point},t.prototype.GetOpenPokers=function(){for(var e=[],t=0;t<this.pokers.length;++t)this.pokers[t].status==r.EPokerStatus.OPEN&&e.push(this.pokers[t]);return e},t.prototype.GetPokerIndexBySuitPoint=function(e,t,o){if(!this.IsPokersEmpty())for(var i=0;i<this.pokers.length;++i){var n=this.pokers[i];if(n.status===o&&n.suit==e&&n.point===t)return i}return-1},t.EVENT_POKERGROUP_STATE_CHANGED="EVENT_POKERGROUP_STATE_CHANGED",t}(ii.Entity);o.default=a,cc._RF.pop()},{"../../SolitaireEnums":"SolitaireEnums"}],Poker:[function(e,t,o){"use strict";cc._RF.push(t,"8f4c9GfcTtKSq4js7kXaocV","Poker"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../SolitaireEnums"),n=function(){function e(e,t,o){this.point=-1,this.suit=i.ESuit.HEITAO,this.status=i.EPokerStatus.CLOSE,this.view=null,this.group=null,this.initLocation=null,this.initStatus=i.EPokerStatus.CLOSE,this.point=e,this.suit=t,this.status=o,this.initStatus=o}return Object.defineProperty(e.prototype,"location",{get:function(){return this.group.location},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupIndex",{get:function(){return this.group.index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTop",{get:function(){return this.group.top===this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indexInGroup",{get:function(){return this.group.indexOfPoker(this)},enumerable:!1,configurable:!0}),e.prototype.IsConcatable=function(e){return e&&this.point===e.point+1&&!this.isSimilarSuit(e.suit)},e.prototype.isSimilarSuit=function(e){return(e+this.suit)%2==0},e.prototype.Snap=function(){return{point:this.point,suit:this.suit,status:this.status,initLocation:this.initLocation,initStatus:this.initStatus}},e}();o.default=n,cc._RF.pop()},{"../../SolitaireEnums":"SolitaireEnums"}],SolitaireActionUIPanel:[function(e,t,o){"use strict";cc._RF.push(t,"4ffa9iYjoFI2p35IOburuwI","SolitaireActionUIPanel");var i,n,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIActionType=void 0,function(e){e[e.POSITION=0]="POSITION",e[e.SCALE_OUT=1]="SCALE_OUT"}(n=o.UIActionType||(o.UIActionType={}));var s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Background=null,t.m_ActionNode=null,t.m_OriginActionNodePosition=null,t.m_OriginActionNodeOpacity=0,t.m_OriginActionNodeScale=1,t.m_OriginBackgroundOpacity=null,t}return r(t,e),t.prototype.GetBackground=function(){return this.m_Background},t.prototype.GetActionNode=function(){return this.m_ActionNode},t.prototype.EnterActionType=function(){return n.POSITION},t.prototype.EnterActionEasingType=function(){return cc.easing.backOut},t.prototype.EnterSpeedFactor=function(){return 1},t.prototype.EnterBackgroundSeconds=function(){return.6*this.EnterSpeedFactor()},t.prototype.EnterSeconds=function(){return.4*this.EnterSpeedFactor()},t.prototype.EnterDelaySeconds=function(){return.3*this.EnterSpeedFactor()},Object.defineProperty(t.prototype,"EnterActionSeconds",{get:function(){return this.EnterSeconds()+this.EnterDelaySeconds()},enumerable:!1,configurable:!0}),t.prototype.OnCreate=function(){switch(this.EnterActionType()){case n.SCALE_OUT:this.m_OriginActionNodeScale=this.GetActionNode().scale,this.m_OriginActionNodeOpacity=this.GetActionNode().opacity;break;default:this.m_OriginActionNodePosition=this.GetActionNode().position}this.m_OriginBackgroundOpacity=this.GetBackground().opacity,this.GetBackground().opacity=0},t.prototype.OnOpen=function(){var e=this;switch(ii.UIUtil.showAction(this.GetBackground(),this.EnterBackgroundSeconds(),{opacity:this.m_OriginBackgroundOpacity}),this.EnterActionType()){case n.SCALE_OUT:this.GetActionNode().active=!0,this.GetActionNode().scale=1,this.GetActionNode().opacity=0,cc.tween(this.GetActionNode()).delay(this.EnterDelaySeconds()).set({opacity:this.m_OriginActionNodeOpacity}).to(this.EnterSeconds(),{opacity:255}).start();break;default:this.GetActionNode().position=this.m_OriginActionNodePosition,ii.UIUtil.moveAction(this.GetActionNode(),!0,this.m_OriginActionNodePosition,this.EnterSeconds(),function(){return e.OnEnter()},this.EnterDelaySeconds(),this.EnterActionEasingType())}},t.prototype.OnRelease=function(){},t.prototype.ExitWithAction=function(e,t){var o=this;switch(void 0===t&&(t=!1),this.EnterActionType()){case n.SCALE_OUT:cc.tween(this.GetActionNode()).to(.3,{scale:this.m_OriginActionNodeScale,opacity:this.m_OriginActionNodeOpacity},{easing:cc.easing.backIn}).set({active:!1}).start();break;default:var i=t?cc.v3(-this.m_OriginActionNodePosition.x,-this.m_OriginActionNodePosition.y,0):this.m_OriginActionNodePosition;ii.UIUtil.moveAction(this.GetActionNode(),!1,i,.3)}ii.UIUtil.hideAction(this.GetBackground(),.3,{opacity:0},function(){o.Close(),e&&e()},.4)},t.prototype.OnEnter=function(){},a([p(cc.Node)],t.prototype,"m_Background",void 0),a([p(cc.Node)],t.prototype,"m_ActionNode",void 0),a([c],t)}(ii.UIPanel);o.default=l,cc._RF.pop()},{}],SolitaireAudioCfg:[function(e,t,o){"use strict";cc._RF.push(t,"571c0EvDEdNFb6Vv7Cqq7xW","SolitaireAudioCfg"),Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireAudioCfg=void 0;var i=function(){function e(){}return e.Register=function(e){console.info("SolitaireAudioCfg::Register("+e+") >> \u6ce8\u518c Audio \u8d44\u6e90"),ii.registerResDict(this.effect,e,ii.EResType.Audio),ii.registerResDict(this.music,e,ii.EResType.Audio)},e.GetFoundation=function(e){return this.effect["foundations"+e%10]},e.effect={default:"solitaire.effect.default",failed:"solitaire.effect.failed",flip:"solitaire.effect.flip",foundations0:"solitaire.effect.foundations0",foundations1:"solitaire.effect.foundations1",foundations2:"solitaire.effect.foundations2",foundations3:"solitaire.effect.foundations3",foundations4:"solitaire.effect.foundations4",foundations5:"solitaire.effect.foundations5",foundations6:"solitaire.effect.foundations6",foundations7:"solitaire.effect.foundations7",foundations8:"solitaire.effect.foundations8",foundations9:"solitaire.effect.foundations9",invalid:"solitaire.effect.invalid",move:"solitaire.effect.move",pop:"solitaire.effect.pop",successful:"solitaire.effect.successful",undo:"solitaire.effect.undo",jump:"solitaire.effect.jump",coin_drop:"solitaire.effect.coin_drop"},e.music={default:"solitaire.music.default"},e}();o.SolitaireAudioCfg=i,cc._RF.pop()},{}],SolitaireAutoAtlasCfg:[function(e,t,o){"use strict";cc._RF.push(t,"531b8d6bkNGH7lKFAlH+LtX","SolitaireAutoAtlasCfg"),Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireAutoAtlasCfg=void 0;var i=function(){function e(){}return Object.defineProperty(e,"sp",{get:function(){if(null===this._sp){this._sp={};for(var e=0;e<this.FaceSkinCnt;++e)for(var t=0;t<4;++t){var o=this.getFaceSuitSpritFrameUrl(e,t);this._sp[o]=o;for(var i=11;i<=13;++i){var n=this.getJQKSpriteFrameUrl(e,t,i);this._sp[n]=n}}for(e=0;e<this.FaceSkinCnt;++e)for(i=1;i<=13;++i){var r=this.getBlackPointSpriteFrameUrl(e,i);this._sp[r]=r;var a=this.getRedPointSpriteFrameUrl(e,i);this._sp[a]=a}}return this._sp},enumerable:!1,configurable:!0}),e.getFaceSuitSpritFrameUrl=function(e,t){return"p_face/p_face_"+e+"_"+t},e.getJQKSpriteFrameUrl=function(e,t,o){return"p_face_point/p_face_point_"+e+"_"+t+"_"+o},e.getBlackPointSpriteFrameUrl=function(e,t){return"p_num/p_num_"+e+"_b_"+t},e.getRedPointSpriteFrameUrl=function(e,t){return"p_num/p_num_"+e+"_r_"+t},e.Register=function(e){console.info("SolitaireAutoAtlasCfg::Register("+e+") >> \u6ce8\u518c AutoAtlas \u8d44\u6e90"),ii.registerResDict(this.sp,e,ii.EResType.AutoAtlas)},e.FaceSkinCnt=4,e._sp=null,e}();o.SolitaireAutoAtlasCfg=i,cc._RF.pop()},{}],SolitaireAutoPlayerDataCache:[function(e,t,o){"use strict";cc._RF.push(t,"0d4d480XNRJqZ+VJXhDuTeN","SolitaireAutoPlayerDataCache");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireAutoPlayerDataCache=void 0;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.kAutoPlayMinInterval=.15,t.kAutoCollectDuration=.15,t.autoSpeedBV=null,t.MaxSpeed=4,t}return n(t,e),Object.defineProperty(t.prototype,"LSKey",{get:function(){return"ls_solitaire_autoplayer"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DefaultLSData",{get:function(){return{autoSpeed:1}},enumerable:!1,configurable:!0}),t.prototype.OnRegister=function(){var e=this;this.autoSpeedBV=ii.NumberBV.Borrow(this.data.autoSpeed).ReturnBy(this).Bind(function(t){e.data.autoSpeed=t,e.markDirty(1)},!1,this)},t.prototype.OnUnRegister=function(){},Object.defineProperty(t.prototype,"AutoPlayInterval",{get:function(){return this.kAutoPlayMinInterval*Math.pow(2,4-this.autoSpeedBV.v)},enumerable:!1,configurable:!0}),t.prototype.SpeedUp=function(e){this.IsMaxSpeed()||(this.autoSpeedBV.v+=1,e.ChangeAutoPlayInterval(this.AutoPlayInterval))},t.prototype.SpeedDown=function(e){this.IsMinSpeed()||(this.autoSpeedBV.v-=1,e.ChangeAutoPlayInterval(this.AutoPlayInterval))},t.prototype.IsMaxSpeed=function(){return this.autoSpeedBV.v>=this.MaxSpeed},t.prototype.IsMinSpeed=function(){return this.autoSpeedBV.v<=0},t}(ii.LSDataCache);o.SolitaireAutoPlayerDataCache=r,cc._RF.pop()},{}],SolitaireCfg:[function(e,t,o){"use strict";cc._RF.push(t,"4da9dkXT8dIGYDOEU0mfXyj","SolitaireCfg"),Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireCfg=void 0;var i=function(){function e(){}return e.BUNDLE_NAME="Solitaire",e.SOLITAIRE_DATACACHE="SolitaireDataCache",e.SOLITAIRE_SKIN_DATACACHE="SolitaireSkinDataCache",e.SOLITAIRE_AUTOPLAYER_DATACACHE="SolitaireAutoPlayerDataCache",e}();o.SolitaireCfg=i,cc._RF.pop()},{}],SolitaireConfigGenerator:[function(e,t,o){"use strict";cc._RF.push(t,"7024dOD9e9Ea5PHN3Ja9CBu","SolitaireConfigGenerator");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../SolitaireEnums"),s=e("./SolitaireJu"),c=cc._decorator,p=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_ResultList=[],t.m_Scheduler=null,t.m_Seed=0,t.m_PreLength=0,t.m_GameType=a.EGameType.EASY,t.m_IsVegasMode=!1,t.m_IsCard3Mode=!1,t}return n(t,e),t.prototype.start=function(){this.Test_GenerateValidDungents(a.EGameType.EASY,!0,!0)},t.prototype.Test_GenerateValidDungents=function(e,t,o){this.m_GameType=e,this.m_IsVegasMode=t,this.m_IsCard3Mode=o,this.m_ResultList=[],this.m_Seed=1,this.m_PreLength=0,this.m_JudgeFunc=this.GetDifficultFunc(e),this.StartScheduler()},t.prototype.StartScheduler=function(){null===this.m_Scheduler&&(this.m_Scheduler=this.Tick.bind(this),this.schedule(this.m_Scheduler,0,cc.macro.REPEAT_FOREVER))},t.prototype.StopScheduler=function(){null!==this.m_Scheduler&&(this.unschedule(this.m_Scheduler),this.m_Scheduler=null)},t.prototype.Tick=function(){for(;;){if(!(this.m_ResultList.length<800))return this.StopScheduler(),void this.Save();var e=s.SolitaireJu.ServerPlay(this.m_GameType,this.m_Seed,this.m_IsVegasMode,this.m_IsCard3Mode);if(++this.m_Seed,e.pass&&this.m_JudgeFunc(e)){this.m_ResultList.push(e);var t=this.m_ResultList.length;if(t>=this.m_PreLength+100)return this.m_PreLength=t,void console.log("["+t+"] is done")}}},t.prototype.Save=function(){var e=this.m_ResultList.sort(function(e,t){return e.flipCloseCnt===t.flipCloseCnt?e.step-t.step:e.flipCloseCnt-t.flipCloseCnt}).map(function(e){return e.seed});if(cc.sys.isNative&&cc.sys.os===cc.sys.OS_OSX){var t=jsb.fileUtils.getWritablePath()+"Auto/JSON/";jsb.fileUtils.isDirectoryExist(t)||jsb.fileUtils.createDirectory(t);var o=t+"level_"+this.m_GameType+"_"+(this.m_IsVegasMode?1:0)+"_"+(this.m_IsCard3Mode?1:0)+".json";jsb.fileUtils.writeStringToFile(JSON.stringify(e),o),console.info("done >> write to "+o)}else console.info(JSON.stringify(e))},t.prototype.GetDifficultFunc=function(e){switch(e){case a.EGameType.EASY:return this.IsDifficultEasy.bind(this);case a.EGameType.HARD:return this.IsDifficultHard.bind(this)}},t.prototype.IsDifficultEasy=function(e){return e.flipCloseCnt<=3},t.prototype.IsDifficultHard=function(e){return e.flipCloseCnt>3},r([p],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../../SolitaireEnums":"SolitaireEnums","./SolitaireJu":"SolitaireJu"}],SolitaireDataCache:[function(e,t,o){"use strict";cc._RF.push(t,"01fc3SXq7hIfo2frEoAmFYl","SolitaireDataCache");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireDataCache=o.SolitaireDataCacheUtil=void 0;var r=e("../SolitaireEnums"),a=e("../SolitaireJsonCfg"),s=function(){function e(){}return e.MODE_2_INDEX=function(e,t){return(e?2:0)+(t?1:0)},e.MODE_2_INDEX_BY_JU=function(e){return this.MODE_2_INDEX(e.isVegasMode,e.isCard3Mode)},e}();o.SolitaireDataCacheUtil=s;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinBV=null,t.helpBV=null,t.recordBV=null,t.leftHandBV=null,t.cards3ModeBV=null,t.vegasModeBV=null,t.passCountBV=null,t.loseCountBV=null,t.__SORT_FUNC=function(e,t){return e.t===t.t?e.st-t.st:e.t-t.t},t}return n(t,e),Object.defineProperty(t.prototype,"LSKey",{get:function(){return"ls_solitaire_v2"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DefaultLSData",{get:function(){return{coin:100,help:3,record:3,leftHand:!1,cards3Mode:!1,vegasMode:!1,passCount:0,loseCount:0,markSeeds:[[{t:r.EGameType.EASY,s:1987,st:0}],[{t:r.EGameType.EASY,s:1987,st:0}],[{t:r.EGameType.EASY,s:1987,st:0}],[{t:r.EGameType.EASY,s:1987,st:0}]]}},enumerable:!1,configurable:!0}),t.prototype.OnUnRegister=function(){},t.prototype.OnRegister=function(){var e=this;this.coinBV=ii.NumberBV.Borrow(this.data.coin).ReturnBy(this).Bind(function(t){e.data.coin=t,e.markDirty(1)},!1,this),this.helpBV=ii.NumberBV.Borrow(this.data.help).ReturnBy(this).Bind(function(t){e.data.help=t,e.markDirty(1)},!1,this),this.recordBV=ii.NumberBV.Borrow(this.data.record).ReturnBy(this).Bind(function(t){e.data.record=t,e.markDirty(1)},!1,this),this.leftHandBV=ii.BooleanBV.Borrow(this.data.leftHand).ReturnBy(this).Bind(function(t){e.data.leftHand=t,e.markDirty(1)},!1,this),this.cards3ModeBV=ii.BooleanBV.Borrow(this.data.cards3Mode).ReturnBy(this).Bind(function(t){e.data.cards3Mode=t,e.markDirty(1)},!1,this),this.vegasModeBV=ii.BooleanBV.Borrow(this.data.vegasMode).ReturnBy(this).Bind(function(t){e.data.vegasMode=t,e.markDirty(1)},!1,this),this.passCountBV=ii.NumberBV.Borrow(this.data.passCount).ReturnBy(this).Bind(function(t){e.data.passCount=t,e.markDirty(1)},!1,this),this.loseCountBV=ii.NumberBV.Borrow(this.data.loseCount).ReturnBy(this).Bind(function(t){e.data.loseCount=t,e.markDirty(1)},!1,this);for(var t=0;t<2;++t)for(var o=0;o<2;++o){var i=this.__ModeHistoryLSKey(1===t,1===o);this.SetUserData(i,ii.ObjectBV.BorrowAsUserLS(i,this.defaultModeData,!0).ReturnBy(this))}},t.prototype.ChangeCoins=function(e,o){this.coinBV.v+=e,null!=o&&o(e),this.emitGlobal(t.event.SYNC_UICOIN,this.coinBV.v),e>0&&ii.App.ins.p.user.SetGameCenterVal("ScoreAsCoin",ii.App.ins.p.user.GetGameCenterVal("ScoreAsCoin")+1)},t.prototype.SnapDataKey=function(e,t,o){return"ls_solitaire_snap_data_"+(e?1:0)+"_"+(t?1:0)+"_"+o},t.prototype.HasSnapData=function(e,t,o){return ii.UserLSMgr.ins.hasKey(this.SnapDataKey(e,t,o))},t.prototype.ReadSnapData=function(e,t,o){return ii.UserLSMgr.ins.getObjectWithDefault(this.SnapDataKey(e,t,o),null)},t.prototype.ClearSnapData=function(e,t,o){ii.UserLSMgr.ins.deleteKey(this.SnapDataKey(e,t,o))},t.prototype.WriteSnapData=function(e,t){ii.UserLSMgr.ins.setObject(this.SnapDataKey(e.vegas,e.card3,t),e,!0)},t.prototype.LoadEasyLevel=function(e,t,o){var i=this.__GetLevelJsonAsset(e,t).json;o(e,t,i[this.GetModeHistory(e,t).v.easyLevelIndex%i.length])},t.prototype.__GetLevelJsonAsset=function(e,t){return ii.ResMgr.ins.GetRes(a.SolitaireJsonCfg.GetLevelJsonResKey(e,t))},Object.defineProperty(t.prototype,"defaultModeData",{get:function(){return{easyLevelIndex:0,passCount:0,loseCount:0,gameTimeBest:0,gameTimeAverage:0,gameTimeTotal:0,moveStepBest:0,moveStepAverage:0,moveStepTotal:0,moveStepWorest:0,scoreBest:0,scoreAverage:0,scoreTotal:0}},enumerable:!1,configurable:!0}),t.prototype.__ModeHistoryLSKey=function(e,t){return"ls_mode_history_"+(e?1:0)+"_"+(t?1:0)},t.prototype.GetModeHistory=function(e,t){return this.GetUserData(this.__ModeHistoryLSKey(e,t))},t.prototype.SkipLevelIndex=function(e,t,o,i){this.ClearSnapData(e,t,o);var n=this.GetModeHistory(e,t),a=n.v;i&&(this.loseCountBV.v+=1,a.loseCount+=1),o===r.EGameType.EASY&&(a.easyLevelIndex+=1),n.v=a},t.prototype.ResetModeHistory=function(e,t){this.GetModeHistory(e,t).v=this.defaultModeData},t.prototype.HandleGameWin=function(e){var t=this.GetModeHistory(e.isVegasMode,e.isCard3Mode),o=t.v;e.gameType===r.EGameType.EASY&&(o.easyLevelIndex=o.easyLevelIndex+1),this.passCountBV.v+=1,o.passCount+=1,ii.App.ins.p.user.SetGameCenterVal("GameWins",ii.App.ins.p.user.GetGameCenterVal("GameWins")+1);var i=e.gameTime;o.gameTimeTotal+=i,(i<o.gameTimeBest||0==o.gameTimeBest)&&(o.gameTimeBest=i),o.gameTimeAverage=Math.ceil(o.gameTimeTotal/o.passCount);var n=e.moveStepCountBV.v;o.moveStepTotal+=n,(n<o.moveStepBest||0==o.moveStepBest)&&(o.moveStepBest=n),(n>o.moveStepWorest||0==o.moveStepWorest)&&(o.moveStepWorest=n),o.moveStepAverage=Math.ceil(o.moveStepTotal/o.passCount);var a=e.scoreBV.v;o.scoreTotal+=a,a>o.scoreBest&&(o.scoreBest=a),o.scoreAverage=Math.ceil(o.scoreAverage/o.passCount),t.v=o,this.ClearSnapData(e.isVegasMode,e.isCard3Mode,e.gameType)},t.prototype.GetMarkSeedsList=function(e,t){return this.data.markSeeds[s.MODE_2_INDEX(e,t)]},t.prototype.GetMarkSeedsListByJu=function(e){return this.data.markSeeds[s.MODE_2_INDEX_BY_JU(e)]},t.prototype.GetNextMarkSeed=function(e,t,o){for(var i=this.GetMarkSeedsList(e,t),n=i.length-1;n>=0;--n)if(i[n].s===o)return i[(n+1)%i.length].s;return console.error("SEED \u7c7b\u578b\u5173\u5361 >> \u627e\u4e0d\u5230\u4e0b\u4e00\u5173"),1},t.prototype.RecordSeed=function(e,t){for(var o=this.GetMarkSeedsListByJu(e),i=!1,n=o.length-1;n>=0;--n){var a=o[n];a.s===e.Seed&&(i=!0,a.st=e.moveStepCountBV.v,o.sort(this.__SORT_FUNC),this.markDirty(1))}i||e.gameType===r.EGameType.SEED||(o.push({t:e.gameType,s:e.Seed,st:t?e.moveStepCountBV.v:0}),o.sort(this.__SORT_FUNC),this.markDirty(1))},t.prototype.RemoveSeed=function(e,t,o){for(var i=this.GetMarkSeedsList(e,t),n=i.length-1;n>=0;--n)if(i[n].s===o.s)return i.splice(n,1),this.markDirty(1),!0;return!1},t.prototype.IsLevelRecorded=function(e){for(var t=this.GetMarkSeedsListByJu(e),o=!1,i=t.length-1;i>=0;--i)t[i].s===e.Seed&&(o=!0);return o},t.prototype.IsCanRecordJuSeed=function(e){return e.gameType!==r.EGameType.SEED&&!this.IsLevelRecorded(e)},t.event={SYNC_UICOIN:"dc.SOLITAIRE.COIN_CHANGED"},t}(ii.LSDataCache);o.SolitaireDataCache=c,cc._RF.pop()},{"../SolitaireEnums":"SolitaireEnums","../SolitaireJsonCfg":"SolitaireJsonCfg"}],SolitaireEnums:[function(e,t,o){"use strict";cc._RF.push(t,"c4f07+VE9xNk4lu6JzuRDeM","SolitaireEnums"),Object.defineProperty(o,"__esModule",{value:!0}),o.EGameType=o.EScoreType=o.ELocation=o.EPokerStatus=o.ESuit=void 0,function(e){e[e.HEITAO=0]="HEITAO",e[e.HONGXIN=1]="HONGXIN",e[e.MEIHUA=2]="MEIHUA",e[e.FANGKUAI=3]="FANGKUAI"}(o.ESuit||(o.ESuit={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.OPEN=1]="OPEN"}(o.EPokerStatus||(o.EPokerStatus={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.OPEN=1]="OPEN",e[e.RECEIVE=2]="RECEIVE",e[e.PLAY=3]="PLAY"}(o.ELocation||(o.ELocation={})),function(e){e[e.ONCE=0]="ONCE",e[e.TWICE=1]="TWICE"}(o.EScoreType||(o.EScoreType={})),function(e){e[e.EASY=0]="EASY",e[e.HARD=1]="HARD",e[e.SEED=2]="SEED"}(o.EGameType||(o.EGameType={})),cc._RF.pop()},{}],SolitaireEvent:[function(e,t,o){"use strict";cc._RF.push(t,"c1927PiUGJMQ7yYqGw4p9vu","SolitaireEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireEvent=void 0,function(e){e[e.SC_INIT=0]="SC_INIT",e[e.SC_UI_SUBSCRIB=1]="SC_UI_SUBSCRIB",e[e.SC_REFRESH_POKERS=2]="SC_REFRESH_POKERS",e[e.SC_PLAY=3]="SC_PLAY",e[e.SC_SEND_POKERS=4]="SC_SEND_POKERS",e[e.SC_MOVE_POKER_FROM_PLAY_TO_RECEIVE=5]="SC_MOVE_POKER_FROM_PLAY_TO_RECEIVE",e[e.SC_MOVE_POKER_FROM_PLAY_TO_PLAY=6]="SC_MOVE_POKER_FROM_PLAY_TO_PLAY",e[e.SC_MOVE_POKERS_FROM_PLAY_TO_PLAY=7]="SC_MOVE_POKERS_FROM_PLAY_TO_PLAY",e[e.SC_MOVE_POKER_FROM_OPEN_TO_RECEIVE=8]="SC_MOVE_POKER_FROM_OPEN_TO_RECEIVE",e[e.SC_MOVE_POKER_FROM_OPEN_TO_PLAY=9]="SC_MOVE_POKER_FROM_OPEN_TO_PLAY",e[e.SC_FLIP_POKER=10]="SC_FLIP_POKER",e[e.SC_MOVE_POKER_FROM_CLOSE_TO_OPEN=11]="SC_MOVE_POKER_FROM_CLOSE_TO_OPEN",e[e.SC_MOVE_POKERS_FROM_CLOSE_TO_OPEN=12]="SC_MOVE_POKERS_FROM_CLOSE_TO_OPEN",e[e.SC_MOVE_ALL_POKERS_FROM_OPEN_TO_CLOSE=13]="SC_MOVE_ALL_POKERS_FROM_OPEN_TO_CLOSE",e[e.SC_MOVE_POKER_FROM_RECEIVE_TO_PLAY=14]="SC_MOVE_POKER_FROM_RECEIVE_TO_PLAY",e[e.SC_DRAG_POKER_FROM_PLAY_TO_RECEIVE=15]="SC_DRAG_POKER_FROM_PLAY_TO_RECEIVE",e[e.SC_DRAG_POKER_FROM_OPEN_TO_RECEIVE=16]="SC_DRAG_POKER_FROM_OPEN_TO_RECEIVE",e[e.SC_DRAG_POKER_FROM_RECEIVE_TO_RECEIVE=17]="SC_DRAG_POKER_FROM_RECEIVE_TO_RECEIVE",e[e.SC_DRAG_POKER_FROM_PLAY_TO_PLAY=18]="SC_DRAG_POKER_FROM_PLAY_TO_PLAY",e[e.SC_DRAG_POKER_FROM_RECEIVE_TO_PLAY=19]="SC_DRAG_POKER_FROM_RECEIVE_TO_PLAY",e[e.SC_DRAG_POKER_FROM_OPEN_TO_PLAY=20]="SC_DRAG_POKER_FROM_OPEN_TO_PLAY",e[e.SC_DRAG_POKERS_FROM_PLAY_TO_PLAY=21]="SC_DRAG_POKERS_FROM_PLAY_TO_PLAY",e[e.SC_DRAG_POKER_NO_CHANGE=22]="SC_DRAG_POKER_NO_CHANGE",e[e.SC_CLICK_POKER_NO_CHANGE=23]="SC_CLICK_POKER_NO_CHANGE",e[e.SC_MOVE_POKERS_FOR_UNDO_FROM_PLAY_TO_PLAY=24]="SC_MOVE_POKERS_FOR_UNDO_FROM_PLAY_TO_PLAY",e[e.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_PLAY=25]="SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_PLAY",e[e.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_OPEN=26]="SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_OPEN",e[e.SC_MOVE_POKER_FOR_UNDO_FROM_RECEIVE_TO_OPEN=27]="SC_MOVE_POKER_FOR_UNDO_FROM_RECEIVE_TO_OPEN",e[e.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_RECEIVE=28]="SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_RECEIVE",e[e.SC_MOVE_POKER_FOR_UNDO_FROM_RECEIVE_TO_PLAY=29]="SC_MOVE_POKER_FOR_UNDO_FROM_RECEIVE_TO_PLAY",e[e.SC_MOVE_ALL_POKERS_FOR_UNDO_FROM_CLOSE_TO_OPEN=30]="SC_MOVE_ALL_POKERS_FOR_UNDO_FROM_CLOSE_TO_OPEN",e[e.SC_MOVE_POKER_FOR_UNDO_FROM_OPEN_TO_CLOSE=31]="SC_MOVE_POKER_FOR_UNDO_FROM_OPEN_TO_CLOSE",e[e.SC_MOVE_POKERS_FOR_UNDO_FROM_OPEN_TO_CLOSE=32]="SC_MOVE_POKERS_FOR_UNDO_FROM_OPEN_TO_CLOSE",e[e.SC_TIME_CHANGED=33]="SC_TIME_CHANGED",e[e.SC_WIN=34]="SC_WIN",e[e.SC_LOSE=35]="SC_LOSE"}(o.SolitaireEvent||(o.SolitaireEvent={})),cc._RF.pop()},{}],SolitaireGameBottomMenuUI:[function(e,t,o){"use strict";cc._RF.push(t,"9e806/sBOZMioewTGzvLdvm","SolitaireGameBottomMenuUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../Logic/SolitaireLogic"),s=e("../../SolitaireEvent"),c=e("../../SolitairePrefabCfg"),p=e("./SolitaireGameDesktopUI"),l=cc._decorator,u=l.ccclass,h=l.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mui_ThemesDotNode=null,t.mui_HintDotNode=null,t.mui_NewGameDotNode=null,t.hintCountLabel=null,t._undoRoot=null,t.undoCountLabel=null,t.mui_HelpDotNode=null,t.helpCountLabel=null,t.expandActionNode=null,t._undoNodeForGameType=null,t._hintNodeForGameType=null,t.undoNode=null,t.autoCollectNode=null,t.autoPlayerRoot=null,t.startAutoPlayNode=null,t.pauseAutoPlayNode=null,t.preStepAutoPlayNode=null,t.nextStepAutoPlayNode=null,t.mui_SpeedUp=null,t.mui_SpeedDown=null,t.blockInput=null,t.speedProgressRoot=null,t.speedProgress=null,t.helpADIconNode=null,t.m_IsExpandedBV=null,t.isShowUIAutoCollect=null,t.isShowUIUndo=null,t.isShowUIPlayer=null,t.isShowUIPlayerStart=null,t.isShowUIPlayerPause=null,t.isShowUIPlayerPreStep=null,t.isShowUIPlayerNextStep=null,t.isShowUIBlockInput=null,t.isShowUIExpand=null,t.isShowUIPlayerSpeedUp=null,t.isShowUIPlayerSpeedDown=null,t.m_Ju=null,t}return n(t,e),Object.defineProperty(t.prototype,"isAutoCollecting",{get:function(){return this.m_Ju.isAutoCollectingBV.v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllPokersOpen",{get:function(){return this.m_Ju.isAllPokersOpenBV.v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAutoPlaying",{get:function(){return this.m_Ju.isAutoPlayingBV.v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPlayerOpened",{get:function(){return this.m_Ju.isPlayerOpenedBV.v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasUndoCmd",{get:function(){return this.m_Ju.undoLengthBV.v>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNext",{get:function(){return this.m_Ju.hasNextBV.v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isGameWin",{get:function(){return this.m_Ju.isGameWinBV.v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isGameLose",{get:function(){return this.m_Ju.isGameLoseBV.v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVegasMode",{get:function(){return this.m_Ju.isVegasMode},enumerable:!1,configurable:!0}),t.prototype.UpdateStatus=function(){this.isShowUIAutoCollect.v=!this.isAutoCollecting&&!this.isAutoPlaying&&!this.isPlayerOpened&&this.isAllPokersOpen&&!this.isGameWin&&!this.isGameLose&&!this.isVegasMode,this.isShowUIUndo.v=!this.isAutoPlaying&&!this.isAutoCollecting&&this.hasUndoCmd&&!this.isGameWin&&!this.isGameLose,this.isShowUIPlayer.v=this.isPlayerOpened&&!this.isAutoCollecting&&!this.isGameWin&&!this.isGameLose,this.isShowUIPlayerStart.v=!this.isAutoPlaying,this.isShowUIPlayerPause.v=this.isAutoPlaying,this.isShowUIPlayerPreStep.v=this.isPlayerOpened&&!this.isAutoPlaying&&this.hasUndoCmd,this.isShowUIPlayerNextStep.v=this.isPlayerOpened&&!this.isAutoPlaying&&this.hasNext,this.isShowUIBlockInput.v=(this.isAutoPlaying||this.isAutoCollecting)&&!this.isGameWin&&!this.isGameLose,this.isShowUIExpand.v=this.m_IsExpandedBV.v&&!this.isAutoCollecting,this.isShowUIPlayerSpeedUp.v=this.isAutoPlaying&&!a.SolitaireLogic.player.IsMaxSpeed(),this.isShowUIPlayerSpeedDown.v=this.isAutoPlaying&&!a.SolitaireLogic.player.IsMinSpeed()},t.prototype.RefreshUI_HelpAD=function(){this.helpADIconNode.active=ii.App.ins.p.ad.RewardedVideoBV.v&&!this.m_Ju.isHelpedBV.v&&0===a.SolitaireLogic.dataCache.helpBV.v,this.mui_HelpDotNode.active=a.SolitaireLogic.dataCache.helpBV.v>0},t.prototype.OnCreate=function(){this.m_IsExpandedBV=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.isShowUIAutoCollect=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.isShowUIUndo=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.isShowUIPlayer=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.isShowUIPlayerStart=ii.BooleanBV.Borrow(!0).ReturnBy(this),this.isShowUIPlayerPause=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.isShowUIPlayerPreStep=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.isShowUIPlayerNextStep=ii.BooleanBV.Borrow(!0).ReturnBy(this),this.isShowUIBlockInput=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.isShowUIExpand=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.isShowUIPlayerSpeedUp=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.isShowUIPlayerSpeedDown=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.SetUserData("K_AUTO_PLAYER_POSITION",this.autoPlayerRoot.position),this.SetUserData("K_EXPAND_NODE_POSITION",this.expandActionNode.position)},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){this.SetIIClickHandler("OnThemes",this.OnThemes.bind(this)),this.SetIIClickHandler("OnHint",this.OnHint.bind(this)),this.SetIIClickHandler("OnNewGame",this.OnNewGame.bind(this)),this.SetIIClickHandler("OnUndo",this.OnUndo.bind(this)),this.SetIIClickHandler("OnHelp",this.OnHelp.bind(this)),this.SetIIClickHandler("OnHelpCancel",this.OnHelpCancel.bind(this)),this.SetIIClickHandler("OnHelpNextStep",this.OnHelpNextStep.bind(this)),this.SetIIClickHandler("OnHelpPreStep",this.OnHelpPreStep.bind(this)),this.SetIIClickHandler("OnHelpStart",this.OnHelpStart.bind(this)),this.SetIIClickHandler("OnHelpPause",this.OnHelpPause.bind(this)),this.SetIIClickHandler("OnHelpSpeedUp",this.OnHelpSpeedUp.bind(this)),this.SetIIClickHandler("OnHelpSpeedDown",this.OnHelpSpeedDown.bind(this)),this.SetIIClickHandler("OnAutoCollect",this.OnAutoCollect.bind(this)),this.SetIIClickHandler("OnExpand",this.OnExpand.bind(this)),this.mui_HintDotNode.active=!1,this.mui_ThemesDotNode.active=!1,this.mui_NewGameDotNode.active=!1},t.prototype.Enter=function(e){this.m_Ju=e,e.AddEventListener(this)},t.prototype.Exit=function(e){e.RemoveEventListener(this),this.UnbindAllBV()},Object.defineProperty(t.prototype,"SolitaireJuEventTarget",{get:function(){return this.node},enumerable:!1,configurable:!0}),t.prototype.OnSolitaireDesktopEvent=function(e,t){switch(t){case s.SolitaireEvent.SC_UI_SUBSCRIB:this.SubScribModelEvents(e)}},t.prototype.SubScribModelEvents=function(e){var t=this;this.BindBV(ii.App.ins.p.ad.RewardedVideoBV,function(){return t.RefreshUI_HelpAD()},!1),this.BindBV(e.isHelpedBV,function(){return t.RefreshUI_HelpAD()},!0),this.BindBV(e.isAutoCollectingBV,function(){return t.UpdateStatus()},!1),this.BindBV(e.isAllPokersOpenBV,function(){return t.UpdateStatus()},!1),this.BindBV(e.isAutoPlayingBV,function(){return t.UpdateStatus()},!1),this.BindBV(e.isPlayerOpenedBV,function(){return t.UpdateStatus()},!1),this.BindBV(e.hasNextBV,function(){return t.UpdateStatus()},!1),this.BindBV(e.isGameWinBV,function(){return t.UpdateStatus()},!1),this.BindBV(e.isGameLoseBV,function(){return t.UpdateStatus()},!1),this.BindBV(this.m_IsExpandedBV,function(){return t.UpdateStatus()},!1),this.BindBV(a.SolitaireLogic.player.autoSpeedBV,function(e){t.UpdateStatus(),t.speedProgress.width=t.speedProgress.parent.width*e/a.SolitaireLogic.player.MaxSpeed},!0),this.BindBV(e.undoLengthBV,function(e){t.UpdateStatus(),t.undoCountLabel.string=""+e,t._undoRoot.active=e>0},!0),this.BindBV(a.SolitaireLogic.dataCache.helpBV,function(e){t.helpCountLabel.string=""+e,t.RefreshUI_HelpAD()},!0),this.BindBV(this.isShowUIAutoCollect,function(e){return t.autoCollectNode.active=e},!0),this.BindBV(this.isShowUIPlayer,function(e){return ii.UIUtil.moveAction(t.autoPlayerRoot,e,t.GetUserData("K_AUTO_PLAYER_POSITION"),.3)},!0),this.BindBV(this.isShowUIUndo,function(e){return t.preStepAutoPlayNode.active=e},!0),this.BindBV(this.isShowUIPlayerStart,function(e){return t.startAutoPlayNode.active=e},!0),this.BindBV(this.isShowUIPlayerPause,function(e){t.pauseAutoPlayNode.active=e,t.speedProgressRoot.active=e},!0),this.BindBV(this.isShowUIPlayerPreStep,function(e){return t.preStepAutoPlayNode.active=e},!0),this.BindBV(this.isShowUIPlayerNextStep,function(e){return t.nextStepAutoPlayNode.active=e},!0),this.BindBV(this.isShowUIBlockInput,function(e){return t.blockInput.active=e},!0),this.BindBV(this.isShowUIExpand,function(e){return ii.UIUtil.moveAction(t.expandActionNode,e,t.GetUserData("K_EXPAND_NODE_POSITION"),.3)},!0),this.BindBV(this.isShowUIPlayerSpeedUp,function(e){return t.mui_SpeedUp.active=e},!0),this.BindBV(this.isShowUIPlayerSpeedDown,function(e){return t.mui_SpeedDown.active=e},!0),this.onGlobal(p.default.EVENT_GAMEVIEW_POKERS_READY,function(){return t.m_IsExpandedBV.v=!0}),this.m_IsExpandedBV.v=!0},t.prototype.OnExpand=function(){this.m_IsExpandedBV.v=!0},t.prototype.OnAutoCollect=function(){this.m_Ju.AutoCollect(a.SolitaireLogic.player.kAutoCollectDuration)},t.prototype.OnThemes=function(){ii.UIMgr.ins.Open(c.SolitairePrefabCfg.pfb.panel.SolitaireThemesUIPanel.key)},t.prototype.OnHint=function(){a.SolitaireLogic.UseHint(this.m_Ju)},t.prototype.OnNewGame=function(){ii.UIMgr.ins.Open(c.SolitairePrefabCfg.pfb.panel.UINewGame.key,{ju:this.m_Ju})},t.prototype.OnUndo=function(){this.m_Ju.Undo()},t.prototype.OnHelp=function(){a.SolitaireLogic.UseAutoPlayer(this.m_Ju)},t.prototype.OnHelpCancel=function(){this.m_Ju.StopAutoPlay(),this.m_Ju.isPlayerOpenedBV.v=!1},t.prototype.OnHelpPreStep=function(){this.m_Ju.Undo(!0)},t.prototype.OnHelpNextStep=function(){this.m_Ju.NextStep()},t.prototype.OnHelpStart=function(){this.m_Ju.AutoPlay(a.SolitaireLogic.player.AutoPlayInterval)},t.prototype.OnHelpPause=function(){this.m_Ju.StopAutoPlay()},t.prototype.OnHelpSpeedUp=function(){a.SolitaireLogic.player.SpeedUp(this.m_Ju)},t.prototype.OnHelpSpeedDown=function(){a.SolitaireLogic.player.SpeedDown(this.m_Ju)},r([h({type:cc.Node,visible:!0})],t.prototype,"mui_ThemesDotNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"mui_HintDotNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"mui_NewGameDotNode",void 0),r([h({type:cc.Label,visible:!0})],t.prototype,"hintCountLabel",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"_undoRoot",void 0),r([h({type:cc.Label,visible:!0})],t.prototype,"undoCountLabel",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"mui_HelpDotNode",void 0),r([h({type:cc.Label,visible:!0})],t.prototype,"helpCountLabel",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"expandActionNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"_undoNodeForGameType",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"_hintNodeForGameType",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"undoNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"autoCollectNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"autoPlayerRoot",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"startAutoPlayNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"pauseAutoPlayNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"preStepAutoPlayNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"nextStepAutoPlayNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"mui_SpeedUp",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"mui_SpeedDown",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"blockInput",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"speedProgressRoot",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"speedProgress",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"helpADIconNode",void 0),r([ii.Util.block(.6)],t.prototype,"OnExpand",null),r([ii.Util.block(.2)],t.prototype,"OnAutoCollect",null),r([ii.Util.block(.2)],t.prototype,"OnThemes",null),r([ii.Util.block(.3)],t.prototype,"OnHint",null),r([ii.Util.block(.2)],t.prototype,"OnNewGame",null),r([ii.Util.block(.5)],t.prototype,"OnHelp",null),r([ii.Util.block(.2)],t.prototype,"OnHelpCancel",null),r([ii.Util.block(.05)],t.prototype,"OnHelpPreStep",null),r([ii.Util.block(.05)],t.prototype,"OnHelpNextStep",null),r([ii.Util.block(.3)],t.prototype,"OnHelpStart",null),r([ii.Util.block(.2)],t.prototype,"OnHelpPause",null),r([ii.Util.block(.2)],t.prototype,"OnHelpSpeedUp",null),r([ii.Util.block(.2)],t.prototype,"OnHelpSpeedDown",null),r([u],t)}(ii.UIComp);o.default=_,cc._RF.pop()},{"../../Logic/SolitaireLogic":"SolitaireLogic","../../SolitaireEvent":"SolitaireEvent","../../SolitairePrefabCfg":"SolitairePrefabCfg","./SolitaireGameDesktopUI":"SolitaireGameDesktopUI"}],SolitaireGameDesktopUI:[function(e,t,o){"use strict";cc._RF.push(t,"748daeeel5MQJmDZI5HFYpJ","SolitaireGameDesktopUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../Logic/SolitaireLogic"),s=e("../../SolitaireAudioCfg"),c=e("../../SolitaireCfg"),p=e("../../SolitaireEnums"),l=e("../../SolitaireEvent"),u=e("../../SolitairePrefabCfg"),h=e("../../SolitaireSpriteFrameCfg"),_=cc._decorator,f=_.ccclass,d=_.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSprite=null,t.bgPatternSprite=null,t._bottomMenuContainer=null,t.actionNode=null,t.mui_Container_Hint=null,t.pokerRoot=null,t.closeAreaButton=null,t.closeArea=null,t.closeAreaBackground=null,t.openArea=null,t.rotateNode=null,t.receiveAreaList=[],t.playAreaList=[],t.mui_closeAreaBottomSprite=null,t.md_closeAreaSpriteFrameList=[],t.POKER_WIDTH=82,t.POKER_HEIGHT=126,t.TIME_MOVE=.2,t.TIME_FLIP_HALF=.2,t.m_UIPokerList=[],t.m_UIHintMgr=null,t.OFFSET_TOP=200,t.PADDING_PLAY=90,t.m_DataCache=null,t.m_BottomMenuUI=null,t.m_Ju=null,t._bIsUISubscrib=!1,t.m_isTouchStart=!1,t.m_isDragStart=!1,t.m_MoveCount=0,t.m_EventTouch=null,t}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"CloseAreaBackground",{get:function(){return this.closeAreaBackground},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ReceiveAreaList",{get:function(){return this.receiveAreaList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PlayAreaList",{get:function(){return this.playAreaList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"OpenArea",{get:function(){return this.openArea},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CloseArea",{get:function(){return this.closeArea},enumerable:!1,configurable:!0}),t.prototype.__x=function(e){return e*this.PADDING_PLAY-270},t.prototype.__y=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),-this.OFFSET_TOP-140*e-o.PLAY_CLOSE_POKER_PADDING_Y*t},t.prototype.OnCreate=function(){for(var e=0;e<7;++e){var t=this.playAreaList[e];t.active=!0,t.position=cc.v3(this.__x(e),this.__y(1),0)}this.closeAreaButton.zIndex=-1,this.actionNode.zIndex=1e3,this.mui_Container_Hint.zIndex=1001,this.setPlaceHolderVisiable(!1),this.m_DataCache=this.GetDataCache(c.SolitaireCfg.SOLITAIRE_DATACACHE),this.m_BottomMenuUI=ii.UIMgr.ins.Create(u.SolitairePrefabCfg.pfb.comp.SolitaireGameBottomMenuUI.key,{},this._bottomMenuContainer).CloseBy(this)},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnCloseArea",function(){return e.OnClickCloseBottom()})},t.prototype.OnClickCloseBottom=function(){this.m_Ju.OnClickCloseBottom()},t.prototype.Enter=function(e){var t=this;this.m_Ju=e,this.setPlaceHolderVisiable(!0),this.BindBV(this.m_DataCache.leftHandBV,this.LayoutWithHand.bind(this),!0),this.BindBV(a.SolitaireLogic.skin.skinBV,function(e){t.m_UIPokerList.forEach(function(t){return t.setSkin(e)}),t.LoadRes(h.SolitaireSpriteFrameCfg.bgSkinUrl(e.bgSkin),function(e){return t.bgSprite.spriteFrame=t.SetAssetProperty("BG_SKIN",e)},!1,t.UUID_GROUP_KEY("BG_SKIN")),t.bgPatternSprite.node.active=-1!==e.bgPatternSkin,e.bgPatternSkin>=0&&t.LoadRes(h.SolitaireSpriteFrameCfg.bgPatternSkinUrl(e.bgPatternSkin),function(e){return t.bgPatternSprite.spriteFrame=t.SetAssetProperty("BG_PATTERN_SKIN",e)},!1,t.UUID_GROUP_KEY("BG_PATTERN_SKIN"))},!0),e.AddEventListener(this),this.m_UIHintMgr=ii.UIMgr.ins.Create(u.SolitairePrefabCfg.pfb.comp.UIHintMgr.key,{ju:this.m_Ju,desktop:this},this.mui_Container_Hint),this.m_BottomMenuUI.Enter(this.m_Ju)},t.prototype.Exit=function(e){this.m_BottomMenuUI.Exit(this.m_Ju),this.m_UIHintMgr.Close();for(var t=this.m_UIPokerList.length-1;t>=0;--t)this.m_UIPokerList[t].Close(),this.m_UIPokerList.length=this.m_UIPokerList.length-1;this.setPlaceHolderVisiable(!1),this._bIsUISubscrib=!1,e.RemoveEventListener(this),this.UnbindAllBV()},t.prototype.setPlaceHolderVisiable=function(e){for(var t=0;t<7;++t)this.playAreaList[t].active=e;for(t=0;t<4;++t)this.receiveAreaList[t].active=e;this.closeAreaButton.active=e},t.prototype.LayoutWithHand=function(e){if(e){for(var t=0;t<4;++t)this.receiveAreaList[t].position=cc.v3(this.__x(3+t),this.__y(0),0);this.openArea.position=cc.v3(this.__x(1),this.__y(0),0),this.closeArea.position=cc.v3(this.__x(0),this.__y(0),0),this.closeAreaButton.position=cc.v3(this.__x(0),this.__y(),0)}else{for(t=0;t<4;++t)this.receiveAreaList[t].position=cc.v3(this.__x(t),this.__y(0),0);this.openArea.position=cc.v3(this.__x(4),this.__y(0),0),this.closeArea.position=cc.v3(this.__x(6),this.__y(0),0),this.closeAreaButton.position=cc.v3(this.__x(6),this.__y(),0)}},Object.defineProperty(t.prototype,"SolitaireJuEventTarget",{get:function(){return this.node},enumerable:!1,configurable:!0}),t.prototype.OnSolitaireDesktopEvent=function(e,t,o){var i=this;switch(t){case l.SolitaireEvent.SC_INIT:this.HandleModelEventInit(o);break;case l.SolitaireEvent.SC_UI_SUBSCRIB:this._bIsUISubscrib=!0,this.BindBV(e.foundationCounts,function(e){return e>=0&&ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.GetFoundation(e))},!1),this.BindBV(e.flipCloseCardsCountBV,function(){var t=e.IsCanReflip()?0:1;i.mui_closeAreaBottomSprite.spriteFrame=i.md_closeAreaSpriteFrameList[t]},!0)}if(this._bIsUISubscrib)switch(t){case l.SolitaireEvent.SC_INIT:case l.SolitaireEvent.SC_UI_SUBSCRIB:case l.SolitaireEvent.SC_TIME_CHANGED:break;case l.SolitaireEvent.SC_PLAY:this.HandleModelEventPlay(o);break;case l.SolitaireEvent.SC_SEND_POKERS:this.HandleModelEventSendPokers(o);break;case l.SolitaireEvent.SC_FLIP_POKER:this.HandleFlipPoker(o);break;case l.SolitaireEvent.SC_MOVE_POKER_FROM_CLOSE_TO_OPEN:this.HandleMovePokerFromCloseToOpen(o);break;case l.SolitaireEvent.SC_MOVE_POKERS_FROM_CLOSE_TO_OPEN:this.HandleMovePokersFromCloseToOpen(o);break;case l.SolitaireEvent.SC_MOVE_POKER_FROM_PLAY_TO_RECEIVE:this.HandleMovePokerFormPlayToReceive(o);break;case l.SolitaireEvent.SC_MOVE_POKER_FROM_OPEN_TO_RECEIVE:this.HandleMoveFromOpenToReceive(o);break;case l.SolitaireEvent.SC_DRAG_POKER_FROM_PLAY_TO_RECEIVE:this.HandleMovePokerFormPlayToReceive(o);break;case l.SolitaireEvent.SC_DRAG_POKER_FROM_OPEN_TO_RECEIVE:this.HandleMoveFromOpenToReceive(o);break;case l.SolitaireEvent.SC_DRAG_POKER_FROM_RECEIVE_TO_RECEIVE:this.HandleMovePokerToTarget(o);break;case l.SolitaireEvent.SC_MOVE_POKER_FROM_OPEN_TO_PLAY:this.HandleMovePokerFromOpenToPlay(o);break;case l.SolitaireEvent.SC_MOVE_POKER_FROM_PLAY_TO_PLAY:case l.SolitaireEvent.SC_MOVE_POKER_FROM_RECEIVE_TO_PLAY:case l.SolitaireEvent.SC_DRAG_POKER_FROM_PLAY_TO_PLAY:case l.SolitaireEvent.SC_DRAG_POKER_FROM_RECEIVE_TO_PLAY:this.HandleMovePokerToTarget(o);break;case l.SolitaireEvent.SC_DRAG_POKER_FROM_OPEN_TO_PLAY:this.HandleMovePokerFromOpenToPlay(o);break;case l.SolitaireEvent.SC_MOVE_POKERS_FROM_PLAY_TO_PLAY:case l.SolitaireEvent.SC_DRAG_POKERS_FROM_PLAY_TO_PLAY:this.HandleMovePokersToTarget(o);break;case l.SolitaireEvent.SC_MOVE_ALL_POKERS_FROM_OPEN_TO_CLOSE:this.HandleMoveAllPokersFromOpenToClose(o);break;case l.SolitaireEvent.SC_DRAG_POKER_NO_CHANGE:this.HandleMovePokerNoChange(o);break;case l.SolitaireEvent.SC_CLICK_POKER_NO_CHANGE:this.HandleClickPokerNoChange(o);break;case l.SolitaireEvent.SC_MOVE_POKERS_FOR_UNDO_FROM_PLAY_TO_PLAY:this.HandleUndoMovePokersToTarget(o);break;case l.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_PLAY:this.HandleUndoMovePokerToTarget(o);break;case l.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_OPEN:case l.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_RECEIVE_TO_OPEN:this.HandleUndoMovePokerToOpen(o);break;case l.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_RECEIVE:case l.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_RECEIVE_TO_PLAY:this.HandleUndoMovePokerToTarget(o);break;case l.SolitaireEvent.SC_MOVE_ALL_POKERS_FOR_UNDO_FROM_CLOSE_TO_OPEN:this.HandleMoveAllPokersForUndoFromCloseToOpen(o);break;case l.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_OPEN_TO_CLOSE:this.HandleMovePokerForUndoFromOpenToClose(o);break;case l.SolitaireEvent.SC_MOVE_POKERS_FOR_UNDO_FROM_OPEN_TO_CLOSE:this.HandleMovePokersForUndoFromOpenToClose(o);break;case l.SolitaireEvent.SC_REFRESH_POKERS:this.HandleRefreshPokers(o);break;case l.SolitaireEvent.SC_WIN:this.HandleGameWin(e);break;case l.SolitaireEvent.SC_LOSE:this.HandleGameLose(e)}},t.prototype.HandleModelEventInit=function(e){var t=this,o=a.SolitaireLogic.skin.skinBV.v;e.forEach(function(e){var i=ii.UIMgr.ins.Create(u.SolitairePrefabCfg.pfb.comp.UIPoker.key,e).Init(o.faceSkin,o.backSkin,o.frontSkin);i.node.position=cc.v3(0,0,0),t.pokerRoot.addChild(i.node),t.m_UIPokerList.push(i),i.SetTouchDelegate(t)})},t.prototype.HandleModelEventPlay=function(e){for(var t=(r=e.CloseAreaGroup.pokers).length-1;t>=0;--t){var o=r[t];ii.UIUtil.transferTo(o.view.node,this.closeArea),o.view.node.zIndex=o.indexInGroup,o.view.node.position=this.positionInTarget(o)}for(t=(r=e.OpenAreaGroup.pokers).length-1;t>=0;--t)o=r[t],ii.UIUtil.transferTo(o.view.node,this.openArea),o.view.node.zIndex=o.indexInGroup,o.view.node.position=this.positionInTarget(o);for(var i=0;i<7;++i)for(t=(r=e.PlayGroups[i].pokers).length-1;t>=0;--t)o=r[t],ii.UIUtil.transferTo(o.view.node,this.playAreaList[i]),o.view.node.zIndex=o.indexInGroup,o.view.node.position=this.positionInTarget(o);for(var n=0;n<4;++n){var r;for(t=(r=e.ReceiveGroups[n].pokers).length-1;t>=0;--t)o=r[t],ii.UIUtil.transferTo(o.view.node,this.receiveAreaList[n]),o.view.node.zIndex=o.indexInGroup,o.view.node.position=this.positionInTarget(o)}},t.prototype.HandleModelEventSendPokers=function(e){var t=this;e.forEach(function(i,n){var r=n/20,a=n===e.length-1;ii.UIUtil.transferTo(i.view.node,t.actionNode);var c=t.getTargetAndPositionInParent(i),l=c.position,u=c.target,h=t.__timeOfDistance(i.view.node.position,l);cc.tween(i.view.node).delay(r).call(function(){return ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.move)}).to(h,{position:l}).call(function(){ii.UIUtil.transferTo(i.view.node,u),i.view.node.zIndex=i.indexInGroup,a&&(e.forEach(function(e){e.status==p.EPokerStatus.OPEN&&t.FlipPoker(e)}),t.emitGlobal(o.EVENT_GAMEVIEW_POKERS_READY))}).start()})},t.prototype.HandleFlipPoker=function(e){this.FlipPoker(e)},t.prototype.HandleMovePokerFromCloseToOpen=function(e){if(ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.flip),this.__FlipAndMoveToTarget(e),e.group.pokers.length>=4)for(var t=0;t<2;++t)this.__AdjustOpenPokerByIndex(-t-2)},t.prototype.HandleMovePokersFromCloseToOpen=function(e){var t=this;ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.flip),e.forEach(function(e){t.__FlipAndMoveToTarget(e)});var o=this.m_Ju.OpenAreaGroup.pokers.length-e.length;o>3&&(o=3);for(var i=0;i<o;++i)this.__AdjustOpenPokerByIndex(-i-1-e.length)},t.prototype.HandleMoveFromOpenToReceive=function(e){if(this.MovePokerToTarget(e),this.m_Ju.OpenAreaGroup.pokers.length>=3)for(var t=0;t<2;++t)this.__AdjustOpenPokerByIndex(-1-t)},t.prototype.HandleMovePokerFormPlayToReceive=function(e){this.MovePokerToTarget(e)},t.prototype.HandleMovePokerFromOpenToPlay=function(e){if(this.HandleMovePokerToTarget(e),this.m_Ju.OpenAreaGroup.pokers.length>=3)for(var t=0;t<2;++t)this.__AdjustOpenPokerByIndex(-1-t)},t.prototype.HandleMovePokerToTarget=function(e){ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.move),this.MovePokerToTarget(e)},t.prototype.HandleMoveAllPokersFromOpenToClose=function(e){var t=this;e.forEach(function(e){e.view.node.stopAllActions(),t.__FlipAndMoveToTarget(e)})},t.prototype.HandleMovePokerNoChange=function(e){this.MovePokerBack(e)},t.prototype.HandleMovePokersToTarget=function(e){ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.move),this.MovePokersToTarget(e)},t.prototype.HandleClickPokerNoChange=function(e){ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.invalid),ii.App.ins.p.vibrate.Default(),this.ShakePoker(e)},t.prototype.HandleUndoMovePokersToTarget=function(e){ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.undo),this.MovePokersToTarget(e)},t.prototype.HandleUndoMovePokerToOpen=function(e){if(this.HandleUndoMovePokerToTarget(e),e.group.pokers.length>=4)for(var t=0;t<2;++t)this.__AdjustOpenPokerByIndex(-t-2)},t.prototype.HandleUndoMovePokerToTarget=function(e){ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.undo),this.MovePokerToTarget(e)},t.prototype.HandleMoveAllPokersForUndoFromCloseToOpen=function(e){ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.undo),this.MoveAllPokersForUndoFromCloseToOpen(e)},t.prototype.HandleMovePokerForUndoFromOpenToClose=function(e){if(ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.undo),this.__FlipAndMoveToTargetByActionNode(e),this.m_Ju.OpenAreaGroup.pokers.length>=3)for(var t=0;t<2;++t)this.__AdjustOpenPokerByIndex(-1-t)},t.prototype.HandleMovePokersForUndoFromOpenToClose=function(e){ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.undo);for(var t=e.length-1;t>=0;--t)this.__FlipAndMoveToTargetByActionNode(e[t]);var o=this.m_Ju.OpenAreaGroup.pokers.length,i=0;for(o>=3?i=2:2==o&&(i=1),t=0;t<i;++t)this.__AdjustOpenPokerByIndex(-1-t)},t.prototype.HandleRefreshPokers=function(e){var t=this;e.forEach(function(e){var o=t.getTargetNode(e),i=t.positionInTarget(e);e.view.node.parent=o,e.view.node.position=i,e.view.node.zIndex=e.indexInGroup,e.view.Refresh()}),this.emitGlobal(o.EVENT_GAMEVIEW_POKERS_READY)},t.prototype.HandleGameWin=function(e){this.__RunWinAction(e,function(){a.SolitaireLogic.HandleGameWin(e,function(){ii.UIMgr.ins.Open(u.SolitairePrefabCfg.pfb.panel.UIGameWin.key,{ju:e})})})},t.prototype.HandleGameLose=function(e){ii.UIMgr.ins.Open(u.SolitairePrefabCfg.pfb.panel.UIGameLose.key,{ju:e})},t.prototype.__AdjustOpenPokerByIndex=function(e){var t=this.m_Ju.OpenAreaGroup.GetPoker(e);t&&this.__MovePokerByTimeDirectly(t,this.TIME_MOVE)},t.prototype.__RunWinAction=function(e,t){var o=this,i=ii.Util.onceCall(function(){t(),ii.UIMgr.ins.DecBlockRef()},1);ii.UIMgr.ins.AddBlockRef(),cc.Tween.stopAllByTarget(this.rotateNode),this.rotateNode.angle=0;for(var n=240*Math.cos(-45),r=-240*Math.sin(-45),a=this.rotateNode.convertToWorldSpaceAR(cc.v2(n,r)),c=this.rotateNode.parent.convertToNodeSpaceAR(a),p=cc.v3(c.x,c.y,0),l=0,u=0;u<4;++u)for(var h=e.getReceiveGroup(u),_=function(t){var n=h.pokers[t];n.view.StopAllAction(),ii.UIUtil.transferTo(n.view.node,f.rotateNode.parent);var r=l;cc.tween(n.view.node).delay(.05*l).call(function(e){e.zIndex=999+r,ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.move)}).to(.2,{position:p,angle:-45}).call(function(e){ii.UIUtil.transferTo(e,o.rotateNode),e.angle=360*r/51-45,e.zIndex=52.5-r}).start(),0==l&&(cc.tween(f.rotateNode).delay(.2).to(7.21875,{angle:-990}).start(),cc.tween(f.node).delay(4.79375).call(function(){o.__RunWinExitAction(e,i,.05,45)}).start()),++l},f=this,d=h.pokers.length-1;d>=0;--d)_(d)},t.prototype.__RunWinExitAction=function(e,t,o,i){for(var n=this,r=0,a=this.rotateNode.parent.convertToNodeSpaceAR(this.closeArea.convertToWorldSpaceAR(cc.Vec3.ZERO)),c=0;c<4;++c)for(var p=e.getReceiveGroup(c),l=function(e){var c=p.pokers[e],l=r;cc.tween(c.view.node).delay(l*o).call(function(e){ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.move),ii.UIUtil.transferTo(e,n.rotateNode.parent),e.zIndex=52+l,e.angle=i}).to(.2,{position:a,angle:0}).call(function(){51==l&&t()}).start(),++r},u=p.pokers.length-1;u>=0;--u)l(u)},t.prototype.MoveAllPokersForUndoFromCloseToOpen=function(e){var t=this;e.forEach(function(e){e.view.StopAllAction(),t.__FlipAndMoveToTarget(e)})},t.prototype.MovePokerBack=function(e){if(e.isTop)this.MovePokerToTarget(e,!1);else for(var t=e.indexInGroup,o=e.group.pokers.length,i=t;i<o;++i){var n=e.group.GetPoker(i);this.MovePokerToTarget(n,!1)}},t.prototype.ShakePoker=function(e){if(e.isTop)this.__ShakePoker(e);else for(var t=e.indexInGroup,o=e.group.pokers.length,i=t;i<o;++i){var n=e.group.GetPoker(i);this.__ShakePoker(n)}},t.prototype.__ShakePoker=function(e){var t=this;e.view.StopAllAction();var o=function(e){cc.Tween.stopAllByTarget(e.node);var o=t.positionInTarget(e.vm);e.node.position=o};e.view.AddStopActionCall(o),cc.tween(e.view.node).by(.05,{position:cc.v3(-4,0,0)}).by(.1,{position:cc.v3(8,0,0)}).by(.05,{position:cc.v3(-4,0,0)}).call(function(){e.view.RemoveStopCall(o),o(e.view)}).start()},t.prototype.__FlipAndMoveToTarget=function(e){e.view.Refresh();var t=this.getTargetNode(e);ii.UIUtil.transferTo(e.view.node,t),e.view.node.zIndex=e.indexInGroup,this.__MovePokerByTimeDirectly(e,this.TIME_MOVE)},t.prototype.__FlipAndMoveToTargetByActionNode=function(e){e.view.StopAllAction(),e.view.Refresh(),ii.UIUtil.transferTo(e.view.node,this.actionNode);var t=this.getTargetAndPositionInParent(e),o=t.position,i=t.target,n=this.__timeOfDistance(o,e.view.node.position),r=function(e){e.node.position=o,ii.UIUtil.transferTo(e.node,i),e.node.zIndex=e.vm.indexInGroup};e.view.AddStopActionCall(r),cc.tween(e.view.node).to(n,{position:o}).call(function(){e.view.RemoveStopCall(r),r(e.view)}).start()},t.prototype.MovePokerToTarget=function(e,t){void 0===t&&(t=!0),e.view.StopAllAction(),ii.UIUtil.transferTo(e.view.node,this.actionNode);var o=this.getTargetAndPositionInParent(e),i=o.position,n=o.target,r=this.__timeOfDistance(i,e.view.node.position),a=function(o){o.node.position=i,ii.UIUtil.transferTo(o.node,n),t&&(o.node.zIndex=e.view.vm.indexInGroup)};e.view.AddStopActionCall(a),cc.tween(e.view.node).to(r,{position:i}).call(function(){a(e.view),e.view.RemoveStopCall(a)}).start()},t.prototype.MovePokersToTarget=function(e){for(var t=e.length-1;t>=0;--t){var o=e[t];this.MovePokerToTarget(o)}},t.prototype.FlipPoker=function(e){e.view.StopAllAction();var t=function(e){e.Refresh(),e.node.scaleX=1};e.view.AddStopActionCall(t),cc.tween(e.view.node).to(this.TIME_FLIP_HALF,{scaleX:0}).call(function(){e.view.Refresh()}).to(this.TIME_FLIP_HALF,{scaleX:1}).call(function(){e.view.RemoveStopCall(t)}).start()},t.prototype.__MovePokerByTimeDirectly=function(e,t){e.view.StopAllAction();var o=this.positionInTarget(e),i=function(e){e.node.position=o};e.view.AddStopActionCall(i),cc.tween(e.view.node).to(t,{position:o}).call(function(){return e.view.RemoveStopCall(i)}).start()},t.prototype.topZIndexByPoker=function(e){return this.topZIndex(e.location,e.groupIndex)},t.prototype.topZIndex=function(e,t){void 0===t&&(t=0),this.__setZIndex(e,t,999)},t.prototype.__setZIndex=function(e,t,o){switch(e){case p.ELocation.PLAY:this.closeArea.zIndex=0,this.openArea.zIndex=0,this.playAreaList.forEach(function(e,i){return e.zIndex=i===t?o:0}),this.receiveAreaList.forEach(function(e){return e.zIndex=0});break;case p.ELocation.OPEN:this.closeArea.zIndex=0,this.openArea.zIndex=o,this.playAreaList.forEach(function(e){return e.zIndex=0}),this.receiveAreaList.forEach(function(e){return e.zIndex=0});break;case p.ELocation.CLOSE:this.closeArea.zIndex=o,this.openArea.zIndex=0,this.playAreaList.forEach(function(e){return e.zIndex=0}),this.receiveAreaList.forEach(function(e){return e.zIndex=0});break;default:console.assert(e==p.ELocation.RECEIVE),this.closeArea.zIndex=0,this.openArea.zIndex=0,this.playAreaList.forEach(function(e){return e.zIndex=0}),this.receiveAreaList.forEach(function(e,i){return e.zIndex=i===t?o:0})}},t.prototype.resetZIndex=function(){this.closeArea.zIndex=0,this.openArea.zIndex=0,this.playAreaList.forEach(function(e){return e.zIndex=0}),this.receiveAreaList.forEach(function(e){return e.zIndex=0})},t.prototype.getReceiveIndexByUIPoker=function(e){for(var t=e.node.convertToWorldSpaceAR(cc.Vec3.ZERO),o=0;o<4;++o){var i=this.receiveAreaList[o].convertToWorldSpaceAR(cc.Vec3.ZERO);if(Math.abs(i.x-t.x)<60&&Math.abs(i.y-t.y)<100)return o}return-1},t.prototype.getPlayIndexByPoker=function(e){for(var t=e.location==p.ELocation.PLAY,o=e.view.node.convertToWorldSpaceAR(cc.Vec3.ZERO),i=0;i<7;++i)if(!t||e.groupIndex!==i){var n=this.m_Ju.getPlayGroup(i),r=(null===n.top?this.playAreaList[i]:n.top.view.node).convertToWorldSpaceAR(cc.Vec3.ZERO);if(r.x-this.POKER_WIDTH<o.x&&o.x<r.x+this.POKER_WIDTH&&r.y-this.POKER_HEIGHT<o.y&&o.y<r.y+this.POKER_HEIGHT)return i}return-1},t.prototype.getTargetNode=function(e){var t=e.location,o=e.groupIndex;switch(t){case p.ELocation.PLAY:return this.playAreaList[o];case p.ELocation.OPEN:return this.openArea;case p.ELocation.CLOSE:return this.closeArea;default:return console.assert(t==p.ELocation.RECEIVE),this.receiveAreaList[o]}},t.prototype.positionInTarget=function(e){var t=e.location;switch(t){case p.ELocation.PLAY:var i=e.indexInGroup,n=e.group.rootOpenPoker.indexInGroup;return i<=n?cc.v3(0,-o.PLAY_CLOSE_POKER_PADDING_Y*i,0):cc.v3(0,-o.PLAY_CLOSE_POKER_PADDING_Y*n-o.PLAY_OPEN_POKER_PADDING_Y*(i-n),0);case p.ELocation.OPEN:var r=e.indexInGroup,a=e.group.pokers.length;return a>=3?r==a-1?cc.v3(this.PADDING_PLAY,0,0):r==a-2?cc.v3(this.PADDING_PLAY/2,0,0):cc.Vec3.ZERO:2==a&&r==a-1?cc.v3(this.PADDING_PLAY/2,0,0):cc.Vec3.ZERO;case p.ELocation.CLOSE:return cc.Vec3.ZERO;default:return console.assert(t==p.ELocation.RECEIVE),cc.Vec3.ZERO}},t.prototype.getTargetAndPositionInParent=function(e){var t=this.getTargetNode(e),o=this.positionInTarget(e),i=t.convertToWorldSpaceAR(o);return{target:t,position:e.view.node.parent.convertToNodeSpaceAR(i)}},t.prototype.__timeOfDistance=function(e,t,o){return void 0===o&&(o=1),cc.Vec3.distance(e,t)/(1500*o)},t.prototype.OnDragTouchStart=function(e,t){var o=this;return!this.m_isTouchStart&&(e.DragStartTest()?(this.m_isTouchStart=!0,this.m_isDragStart=!1,this.m_MoveCount=0,this.m_EventTouch=t,this.StartScheduler("JU_TOUCH_TIME",function(){o.m_isDragStart||(o.m_isDragStart=!0,e.OnDragStart(o.m_EventTouch))},.3,1),!0):void this.ClickUIPoker(e))},t.prototype.OnDragTouchMove=function(e,t){this.m_isTouchStart&&(this.m_isDragStart?e.OnDragMove(t):(++this.m_MoveCount,this.m_MoveCount>5?(this.StopScheduler("JU_TOUCH_TIME"),this.m_isDragStart=!0,this.topZIndexByPoker(e.vm),e.OnDragStart(t)):this.m_EventTouch=t))},t.prototype.OnDragTouchEnd=function(e){if(this.m_isTouchStart)if(this.m_isTouchStart=!1,this.StopScheduler("JU_TOUCH_TIME"),this.m_isDragStart){this.m_isDragStart=!1,this.m_MoveCount=0,e.OnDragEnd(),this.resetZIndex();var t=this.getPlayIndexByPoker(e.vm);if(-1!==t)return void this.m_Ju.OnDragToPlay(e.vm,t);var o=this.getReceiveIndexByUIPoker(e);if(-1!==o)return void this.m_Ju.OnDragToReceive(e.vm,o);this.MovePokerBack(e.vm)}else this.ClickUIPoker(e)},t.prototype.ClickUIPoker=function(e){var t=e.vm.location;switch(t){case p.ELocation.PLAY:e.isOpen()&&this.m_Ju.OnPlayPokerClick(e.vm);break;case p.ELocation.CLOSE:e.vm.isTop&&this.m_Ju.OnClosePokerClick(e.vm);break;case p.ELocation.OPEN:e.vm.isTop&&this.m_Ju.OnOpenPokerClick(e.vm);break;default:console.assert(t===p.ELocation.RECEIVE),this.m_Ju.OnReceivePokerClick(e.vm)}},t.EVENT_GAMEVIEW_POKERS_READY="EVENT_GAMEVIEW_POKERS_READY",t.PLAY_CLOSE_POKER_PADDING_Y=20,t.PLAY_OPEN_POKER_PADDING_Y=40,r([d({type:cc.Sprite,visible:!0})],t.prototype,"bgSprite",void 0),r([d({type:cc.Sprite,visible:!0})],t.prototype,"bgPatternSprite",void 0),r([d({type:cc.Node,visible:!0})],t.prototype,"_bottomMenuContainer",void 0),r([d({type:cc.Node,visible:!0})],t.prototype,"actionNode",void 0),r([d({type:cc.Node,visible:!0})],t.prototype,"mui_Container_Hint",void 0),r([d({type:cc.Node,visible:!0})],t.prototype,"pokerRoot",void 0),r([d({type:cc.Node,visible:!0})],t.prototype,"closeAreaButton",void 0),r([d({type:cc.Node,visible:!0})],t.prototype,"closeArea",void 0),r([d({type:cc.Node,visible:!0})],t.prototype,"closeAreaBackground",void 0),r([d({type:cc.Node,visible:!0})],t.prototype,"openArea",void 0),r([d({type:cc.Node,visible:!0})],t.prototype,"rotateNode",void 0),r([d({type:[cc.Node],visible:!0})],t.prototype,"receiveAreaList",void 0),r([d({type:[cc.Node],visible:!0})],t.prototype,"playAreaList",void 0),r([d({type:cc.Sprite,visible:!0})],t.prototype,"mui_closeAreaBottomSprite",void 0),r([d({type:[cc.SpriteFrame],visible:!0})],t.prototype,"md_closeAreaSpriteFrameList",void 0),r([ii.Util.block(.5)],t.prototype,"OnClickCloseBottom",null),o=r([f],t)}(ii.UIComp);o.default=S,cc._RF.pop()},{"../../Logic/SolitaireLogic":"SolitaireLogic","../../SolitaireAudioCfg":"SolitaireAudioCfg","../../SolitaireCfg":"SolitaireCfg","../../SolitaireEnums":"SolitaireEnums","../../SolitaireEvent":"SolitaireEvent","../../SolitairePrefabCfg":"SolitairePrefabCfg","../../SolitaireSpriteFrameCfg":"SolitaireSpriteFrameCfg"}],SolitaireGameTopInfoUI:[function(e,t,o){"use strict";cc._RF.push(t,"fc8a8ATiJpD0ZLEh2SxN5xZ","SolitaireGameTopInfoUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../SolitaireEvent"),s=e("../../SolitairePrefabCfg"),c=cc._decorator,p=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._scoreLabel=null,t._timeLabel=null,t._moveStepLabel=null,t._effectLabel=null,t._visiableNode=null,t._bHideMenuUIBV=null,t._bAutoCollecting=!1,t._bAutoPlaying=!1,t}return n(t,e),t.prototype.UpdateStatus=function(){this._bHideMenuUIBV.v=this._bAutoCollecting||this._bAutoPlaying},t.prototype.OnCreate=function(){this._effectLabel.node.active=!1},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnBack",this.args.OnBack),this.SetIIClickHandler("OnOptions",function(){return ii.UIMgr.ins.Open(s.SolitairePrefabCfg.pfb.panel.SolitaireOptionsUIPanel.key)}),this._bHideMenuUIBV=ii.BooleanBV.Borrow(!1).ReturnBy(this),this._bHideMenuUIBV.Bind(function(t){return e._visiableNode.active=!t},!0,this)},Object.defineProperty(t.prototype,"SolitaireJuEventTarget",{get:function(){return this.node},enumerable:!1,configurable:!0}),t.prototype.OnSolitaireDesktopEvent=function(e,t,o){switch(t){case a.SolitaireEvent.SC_TIME_CHANGED:this.UpdateUITime(o);break;case a.SolitaireEvent.SC_UI_SUBSCRIB:this.SubScribModelEvents(e)}},t.prototype.UpdateUITime=function(e){this._timeLabel.string=ii.date.Format(e,"mm:ss")},t.prototype.SubScribModelEvents=function(e){e.scoreBV.Bind(this.OnScoreValueChanged.bind(this),!1,this)},t.prototype.OnScoreValueChanged=function(e,t){var o=e-t;this._effectLabel.string=(o>0?"+":"")+o,this._effectLabel.node.active=!0,cc.Tween.stopAllByTarget(this._effectLabel.node),this._effectLabel.node.position=cc.Vec3.ZERO,cc.tween(this._effectLabel.node).by(1,{position:cc.v3(0,30,0)}).call(function(e){return e.active=!1}).start()},t.prototype.Enter=function(e){var t=this;this._effectLabel.node.active=!1,this.BindBV(e.scoreBV,function(e){return t._scoreLabel.string=""+e},!0),this.BindBV(e.isAutoPlayingBV,function(e){t._bAutoPlaying=e,t.UpdateStatus()},!0),this.BindBV(e.isAutoCollectingBV,function(e){t._bAutoCollecting=e,t.UpdateStatus()},!0),this.BindBV(e.moveStepCountBV,function(e){return t._moveStepLabel.string=""+e},!0),e.AddEventListener(this)},t.prototype.Exit=function(e){e.RemoveEventListener(this),this.UnbindAllBV()},r([l({type:cc.Label,visible:!0})],t.prototype,"_scoreLabel",void 0),r([l({type:cc.Label,visible:!0})],t.prototype,"_timeLabel",void 0),r([l({type:cc.Label,visible:!0})],t.prototype,"_moveStepLabel",void 0),r([l({type:cc.Label,visible:!0})],t.prototype,"_effectLabel",void 0),r([l({type:cc.Node,visible:!0})],t.prototype,"_visiableNode",void 0),r([p],t)}(ii.UIComp);o.default=u,cc._RF.pop()},{"../../SolitaireEvent":"SolitaireEvent","../../SolitairePrefabCfg":"SolitairePrefabCfg"}],SolitaireGameUIPanel:[function(e,t,o){"use strict";cc._RF.push(t,"af16cHkE0NCm7/4KivSfdBL","SolitaireGameUIPanel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../Logic/SolitaireLogic"),s=e("../../SolitaireEnums"),c=e("../../SolitairePrefabCfg"),p=e("../Model/SolitaireJu"),l=e("../Model/SolitaireTestData"),u=cc._decorator,h=u.ccclass,_=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_IsTest=!1,t.m_DesktopUI=null,t.m_TopInfoUI=null,t.m_Ju=null,t}var o;return n(t,e),o=t,t.prototype.OnCreate=function(){this.onGlobal(o.event.EVENT_GAMESCENE_REPLAY_GAME,this.HandleReplayGame.bind(this)),this.onGlobal(o.event.EVENT_GAMESCENE_SKIP_GAME,this.HandleSkipGame.bind(this)),this.onGlobal(o.event.EVENT_GAMESCENE_NEXT_GAME,this.HandleNextGame.bind(this)),this.onGlobal(o.event.EVENT_GAMESCENE_BACK,this.OnBack.bind(this)),this.onGlobal(o.event.EVENT_GAMESCENE_SEED,this.HandleOpenSeedList.bind(this))},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;if(this.SetIIClickHandler("OnBack",this.OnBack.bind(this)),this.m_DesktopUI=ii.UIMgr.ins.Create(c.SolitairePrefabCfg.pfb.comp.SolitaireGameDesktopUI.key,null,this.node).CloseBy(this),this.m_TopInfoUI=ii.UIMgr.ins.Create(c.SolitairePrefabCfg.pfb.comp.SolitaireGameTopInfoUI.key,{OnBack:this.OnBack.bind(this)},this.node).CloseBy(this),this.m_IsTest)this.CreateGameWithTestData(this.args.vegas,this.args.card3,s.EGameType.EASY);else if(this.args.resume){var t=a.SolitaireLogic.dataCache.ReadSnapData(this.args.vegas,this.args.card3,this.args.gameType);this.EnterGame(t.gameType,t.vegas,t.card3,function(){return e.m_Ju.EnterWithSnap(t)})}else switch(this.args.gameType){case s.EGameType.EASY:this.__CreateEasyGame(this.args.vegas,this.args.card3);break;case s.EGameType.HARD:this.__CreateHardGame(this.args.vegas,this.args.card3);break;case s.EGameType.SEED:this.__CreateSeedGame(this.args.vegas,this.args.card3,this.args.markSeed.s)}},t.prototype.__CreateEasyGame=function(e,t){var o=this;a.SolitaireLogic.dataCache.LoadEasyLevel(e,t,function(e,t,i){o.CreateGame(e,t,s.EGameType.EASY,i)})},t.prototype.__CreateHardGame=function(e,t){this.CreateGame(e,t,s.EGameType.HARD,new ii.MCGRand(ii.date.getMilliTimeStamp()).range(1,1e4))},t.prototype.__CreateSeedGame=function(e,t,o){this.CreateGame(e,t,s.EGameType.SEED,o)},t.prototype.CreateGameWithTestData=function(e,t,o){var i=this;this.EnterGame(o,e,t,function(){i.m_Ju.EnterWithTestData(l.SolitaireTestData.data1)})},t.prototype.CreateGame=function(e,t,o,i){var n=this;this.EnterGame(o,e,t,function(){return n.m_Ju.Enter(i)})},t.prototype.EnterGame=function(e,t,o,i){var n=this;ii.App.ins.p.ad.LoadInterstitialIfNotAvalable(),this.ExitGame(function(){n.m_Ju=new p.SolitaireJu(e,t,o),n.m_DesktopUI.Enter(n.m_Ju),n.m_TopInfoUI.Enter(n.m_Ju),i(),n.StartScheduler("SOLITAIRE_GAME_TICK",function(){return n.m_Ju.Tick()},1)})},t.prototype.ExitGame=function(e){this.m_Ju&&(this.StopScheduler("SOLITAIRE_GAME_TICK"),this.m_TopInfoUI.Exit(this.m_Ju),this.m_DesktopUI.Exit(this.m_Ju),this.m_Ju.Exit(),this.m_Ju=null),e()},t.prototype.HandleReplayGame=function(){a.SolitaireLogic.dataCache.ClearSnapData(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode,this.m_Ju.gameType),this.CreateGame(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode,this.m_Ju.gameType,this.m_Ju.Seed)},t.prototype.HandleSkipGame=function(){switch(a.SolitaireLogic.dataCache.SkipLevelIndex(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode,this.m_Ju.gameType,!1),this.m_Ju.gameType){case s.EGameType.EASY:this.__CreateEasyGame(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode);break;case s.EGameType.HARD:this.__CreateHardGame(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode);break;case s.EGameType.SEED:var e=a.SolitaireLogic.dataCache.GetNextMarkSeed(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode,this.m_Ju.Seed);this.__CreateSeedGame(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode,e)}},t.prototype.HandleNextGame=function(){switch(a.SolitaireLogic.dataCache.SkipLevelIndex(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode,this.m_Ju.gameType,!0),this.m_Ju.gameType){case s.EGameType.EASY:this.__CreateEasyGame(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode);break;case s.EGameType.HARD:this.__CreateHardGame(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode);break;case s.EGameType.SEED:var e=a.SolitaireLogic.dataCache.GetNextMarkSeed(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode,this.m_Ju.Seed);this.__CreateSeedGame(this.m_Ju.isVegasMode,this.m_Ju.isCard3Mode,e)}},t.prototype.OnBack=function(){var e=this;a.SolitaireLogic.dataCache.WriteSnapData(this.m_Ju.Snap(),this.m_Ju.gameType),this.LoadResList([c.SolitairePrefabCfg.pfb.panel.SolitaireMenuUIPanel.key],function(){e.ExitGame(function(){ii.UIMgr.ins.Open(c.SolitairePrefabCfg.pfb.panel.SolitaireMenuUIPanel.key,null,function(){return e.Close()})})})},t.prototype.HandleOpenSeedList=function(){var e=this;ii.UIMgr.ins.Open(c.SolitairePrefabCfg.pfb.panel.SolitaireSeedListUIPanel.key,{vegas:this.m_Ju.isVegasMode,card3:this.m_Ju.isCard3Mode,OnSelect:function(t,o,i){e.__CreateSeedGame(o,i,t.s)}})},t.event={EVENT_GAMESCENE_REPLAY_GAME:"EVT_SOLITAIRE_GAMEUI_REPLAY_GAME",EVENT_GAMESCENE_SKIP_GAME:"EVT_SOLITAIRE_GAMEUI_SKIP_GAME",EVENT_GAMESCENE_NEXT_GAME:"EVT_SOLITAIRE_GAMEUI_NEXT_GAME",EVENT_GAMESCENE_BACK:"EVT_SOLITAIRE_GAMEUI_BACK",EVENT_GAMESCENE_SEED:"EVENT_GAMESCENE_SEED"},o=r([h],t)}(ii.UIPanel));o.default=_,cc._RF.pop()},{"../../Logic/SolitaireLogic":"SolitaireLogic","../../SolitaireEnums":"SolitaireEnums","../../SolitairePrefabCfg":"SolitairePrefabCfg","../Model/SolitaireJu":"SolitaireJu","../Model/SolitaireTestData":"SolitaireTestData"}],SolitaireHowToPlayUIPanel:[function(e,t,o){"use strict";cc._RF.push(t,"118ceuFAblOjpWbpbnasfgm","SolitaireHowToPlayUIPanel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../_Public/SolitaireActionUIPanel"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_RichTexts=[],t.s_Strings=["<color=#000000>1\u3001In our solitaire, the goal is to create a stack of cards from ace to king in each of the four foundations. Each foundation can contain only one suit, which begin with ace and end with king.</c>","<color=#000000>2\u3001There are seven columns in Column Piles where you can move one column to another. Cards in columns must be placed in descending order and alternate red with black. For example, you can put a black 8 on a red 7.</c>","<color=#000000>3\u3001You can also sequential stack of cards between columns. Just tap the deepest card in the stack and drag them all to another column.</c>","<color=#000000>4\u3001If you have an empty column, you can place a king or any sequential stack with a king in it.</c>","<color=#000000>5\u3001You can upturned cards by tapping the <color=#000000>SOURCE</c>,  If the <color=#000000>SOURCE</c> is empty, tap the empty to turn the <color=#000000>WASTE</c> back.</c>","<color=#000000>6\u3001The initial score is 1000, each move costs -1 points, each card value 15 points in total. you can receive 15 points when a card is moved to the foundation from any <color=#000000>COLUMN</c> or <color=#000000>WASTE</c> directly. each card that is moved from <color=#000000>WASTE</c> to a tableau column receives 5 points . each card that is turned over in the tableau column receives 5 pionts. The rewarded points will be deducted when undo.</c>","<color=#000000>7\u3001Vegas scoring: If Vegas Mode is on, you start with -52 points and win 5 points each time you move a card to the foundations. In Card 1 Mode, you can recyle only once, while you can recyle 3 times in Card 3 Mode before you are out of flip.</c>"],t}return n(t,e),t.prototype.OnCreate=function(){var t=this;e.prototype.OnCreate.call(this),this.SetIIClickHandler("OnBack",this.OnBack.bind(this)),this.m_RichTexts.forEach(function(e,o){return e.string=t.s_Strings[o]})},t.prototype.OnBack=function(){this.ExitWithAction(this.Close.bind(this))},r([p([cc.RichText])],t.prototype,"m_RichTexts",void 0),r([c],t)}(a.default);o.default=l,cc._RF.pop()},{"../_Public/SolitaireActionUIPanel":"SolitaireActionUIPanel"}],SolitaireJsonCfg:[function(e,t,o){"use strict";cc._RF.push(t,"b61a41RyndMa7irtmjNPW9h","SolitaireJsonCfg"),Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireJsonCfg=void 0;var i=function(){function e(){}return e.GetLevelJsonResKey=function(e,t){return this.key["level_"+(e?1:0)+"_"+(t?1:0)]},e.Register=function(e){console.info("SolitairePrefabCfg::Register("+e+") >> \u6ce8\u518c Prefab \u8d44\u6e90"),ii.registerResDict(this.key,e,ii.EResType.Json)},e.key={level_0_0:"level_0_0",level_1_0:"level_1_0",level_0_1:"level_0_1",level_1_1:"level_1_1"},e}();o.SolitaireJsonCfg=i,cc._RF.pop()},{}],SolitaireJu:[function(e,t,o){"use strict";cc._RF.push(t,"21c54AYILpPzrrUrojPb1qG","SolitaireJu");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireJu=void 0;var r=e("./Poker"),a=e("./PokerGroup"),s=e("../../SolitaireEnums"),c=e("../../SolitaireEvent"),p=e("../SolitaireType"),l=function(e){function t(t,o,i){var n=e.call(this)||this;return n.flipCloseCardsCountBV=ii.NumberBV.Borrow(0),n.foundationCounts=ii.NumberBV.Borrow(-1),n._isCard3Mode=!1,n._isVegasMode=!1,n.cardMode=1,n._gameType=s.EGameType.EASY,n._CONST_SHUFFLE=256,n.m_Rander=null,n._receiveGroups=[],n._playGroups=[],n._closeAreaGroup=null,n._openAreaGroup=null,n._pokers=[],n._gameTime=0,n._isTimerActive=!1,n._isPauseTimer=!1,n.hasNextBV=null,n.isContinueBV=null,n.isGameLoseBV=null,n.isGameWinBV=ii.BooleanBV.Borrow(!1),n.moveStepCountBV=ii.NumberBV.Borrow(0),n.pokerReceiveScoreBV=ii.NumberBV.Borrow(0),n.vegasReceiveScoreBV=ii.NumberBV.Borrow(-52),n.scoreBV=null,n.m_OperationHintIndex=0,n.m_OperationHintList=[],n.m_IsStepOperationHintCalculated=!1,n.isHintedBV=null,n.hasUsedUndo=null,n.undoLengthBV=ii.NumberBV.Borrow(0),n.undoCmdStack=new p.CmdStack(n.OnUndoStatusChanged.bind(n)),n.isHelpedBV=null,n.isAllPokersOpenBV=ii.BooleanBV.Borrow(!1),n.isAutoCollectingBV=ii.BooleanBV.Borrow(!1),n.isPlayerOpenedBV=null,n.isAutoPlayingBV=null,n.m_AutoPlayingInterval=null,n.m_strategyFn=null,n._gameType=t,n._isCard3Mode=i,n._isVegasMode=o,n.cardMode=n._isCard3Mode?3:1,n.hasNextBV=ii.BooleanBV.Borrow(!0).ReturnBy(n),n.isHintedBV=ii.BooleanBV.Borrow(!1).ReturnBy(n),n.isHelpedBV=ii.BooleanBV.Borrow(!1).ReturnBy(n),n.isPlayerOpenedBV=ii.BooleanBV.Borrow(!1).ReturnBy(n),n.isAutoPlayingBV=ii.BooleanBV.Borrow(!1).ReturnBy(n),n.hasUsedUndo=ii.BooleanBV.Borrow(!1).ReturnBy(n),n.scoreBV=ii.NumberBV.Borrow(n._isVegasMode?0:1e3).ReturnBy(n),n.isContinueBV=ii.BooleanBV.Borrow(!1).ReturnBy(n),n.isGameLoseBV=ii.BooleanBV.Borrow(!1).ReturnBy(n),n.hasNextBV.Bind(function(){return n.__UpdateGameLose()},!0,n),n.isContinueBV.Bind(function(){return n.__UpdateGameLose()},!0,n),n}return n(t,e),t.prototype.__AddFoundationsCount=function(){this.foundationCounts.v+=1},t.prototype.__StopFoundationsCount=function(){this.foundationCounts.SetValueWithoutNotification(-1)},Object.defineProperty(t.prototype,"isCard3Mode",{get:function(){return this._isCard3Mode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVegasMode",{get:function(){return this._isVegasMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameType",{get:function(){return this._gameType},enumerable:!1,configurable:!0}),t.prototype.AddEventListener=function(e){this.on("__g_SolitaireJuEvent",e.OnSolitaireDesktopEvent.bind(e,this),e.SolitaireJuEventTarget)},t.prototype.RemoveEventListener=function(e){this.targetOff(e.SolitaireJuEventTarget)},t.prototype.NotifyGameEvent=function(e,t,o,i,n){this.emit("__g_SolitaireJuEvent",e,t,o,i,n)},Object.defineProperty(t.prototype,"Seed",{get:function(){return this.m_Rander.seed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CloseAreaGroup",{get:function(){return this._closeAreaGroup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"OpenAreaGroup",{get:function(){return this._openAreaGroup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PlayGroups",{get:function(){return this._playGroups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ReceiveGroups",{get:function(){return this._receiveGroups},enumerable:!1,configurable:!0}),t.prototype.getPoker=function(e,t){return this._pokers[4*(e-1)+t]},t.prototype.getPlayGroup=function(e){return this._playGroups[e]},t.prototype.getReceiveGroup=function(e){return this._receiveGroups[e]},t.prototype.getOpenGroupPoker=function(e){return this._openAreaGroup.GetPoker(e)},t.prototype.getCloseGroupPoker=function(e){return this._closeAreaGroup.GetPoker(e)},t.prototype.OnGroupPokerStateChanged=function(e,t){this.__refreshAllPokerOpenStatus(),e.location===s.ELocation.PLAY&&t===s.EPokerStatus.OPEN&&this.NotifyGameEvent(c.SolitaireEvent.SC_FLIP_POKER,e)},t.prototype.Reset=function(){var e=this;this.SetTimerActive(!1),this._playGroups.forEach(function(t){return t.targetOff(e)})},t.prototype.Enter=function(e){var t={resume:!1,vegas:this._isVegasMode,card3:this._isCard3Mode,seed:e,tick:0,hinted:!1,helped:!1,player:!1,undo:!1};this.EnterWithSnap(t)},t.prototype.Exit=function(){this.Return()},t.prototype.EnterWithTestData=function(e){var t=this;this.m_Rander=new ii.MCGRand(0),this.scoreBV.SetValueWithoutNotification(this._isVegasMode?0:1e3),this.hasNextBV.SetValueWithoutNotification(!0),this.resetMoveStepCount(0),this.isHelpedBV.SetValueWithoutNotification(!0),this.isHintedBV.SetValueWithoutNotification(!0),this.isPlayerOpenedBV.v=!0,this.hasUsedUndo.SetValueWithoutNotification(!1),this._gameTime=0,this.SetTimerActive(!0),this._closeAreaGroup=new a.default(s.ELocation.CLOSE).ReturnBy(this),this._closeAreaGroup.AddEventListener(this),this._openAreaGroup=new a.default(s.ELocation.OPEN).ReturnBy(this),this._openAreaGroup.AddEventListener(this);for(var o=0;o<4;++o)(i=new a.default(s.ELocation.RECEIVE).ReturnBy(this)).index=this._receiveGroups.length,this._receiveGroups.push(i);for(o=0;o<7;++o){var i;(i=new a.default(s.ELocation.PLAY).ReturnBy(this)).index=this._playGroups.length,this._playGroups.push(i),i.AddEventListener(this)}this.m_strategyFn=this.__CreateStrategyFunc(),e.receives.forEach(function(e,o){e.forEach(function(e){var i=new r.default(e[1],e[0],e[2]);i.initLocation=s.ELocation.RECEIVE,t._pokers.push(i),t._receiveGroups[o].AddPoker(i)})}),e.plays.forEach(function(e,o){e.forEach(function(e){var i=new r.default(e[1],e[0],e[2]);i.initLocation=s.ELocation.PLAY,t._pokers.push(i),t._playGroups[o].AddPoker(i)})}),e.open.forEach(function(e){var o=new r.default(e[1],e[0],e[2]);o.initLocation=s.ELocation.OPEN,t._pokers.push(o),t._openAreaGroup.AddPoker(o)}),e.close.forEach(function(e){var o=new r.default(e[1],e[0],e[2]);o.initLocation=s.ELocation.CLOSE,t._pokers.push(o),t._closeAreaGroup.AddPoker(o)}),this.NotifyGameEvent(c.SolitaireEvent.SC_INIT,this._pokers),this.NotifyGameEvent(c.SolitaireEvent.SC_PLAY,this),this.NotifyGameEvent(c.SolitaireEvent.SC_UI_SUBSCRIB),this.NotifyGameEvent(c.SolitaireEvent.SC_REFRESH_POKERS,this._pokers),this.BindBV(this.isGameWinBV,function(e){e&&t.PauseTimer()},!0),this.BindBV(this.isGameLoseBV,function(e){e?t.PauseTimer():t.ResumeTimer()},!0)},t.prototype.EnterWithSnap=function(e){var t=this;this.m_Rander=new ii.MCGRand(e.seed),console.log("Seed: "+this.m_Rander.seed+" Vegas: "+this._isVegasMode+" 3Cards: "+this._isCard3Mode),this.scoreBV.SetValueWithoutNotification(this._isVegasMode?0:1e3),this.hasNextBV.SetValueWithoutNotification(!0),this.resetMoveStepCount(0),this.isHelpedBV.SetValueWithoutNotification(e.helped),this.isHintedBV.SetValueWithoutNotification(e.hinted),this.isPlayerOpenedBV.v=e.player,this.hasUsedUndo.SetValueWithoutNotification(e.undo),this._gameTime=e.tick,this.SetTimerActive(!0),this._closeAreaGroup=new a.default(s.ELocation.CLOSE).ReturnBy(this),this._closeAreaGroup.AddEventListener(this),this._openAreaGroup=new a.default(s.ELocation.OPEN).ReturnBy(this),this._openAreaGroup.AddEventListener(this);for(var o=0;o<4;++o)(i=new a.default(s.ELocation.RECEIVE).ReturnBy(this)).index=this._receiveGroups.length,this._receiveGroups.push(i);for(o=0;o<7;++o){var i;(i=new a.default(s.ELocation.PLAY).ReturnBy(this)).index=this._playGroups.length,this._playGroups.push(i),i.AddEventListener(this)}this.m_strategyFn=this.__CreateStrategyFunc();for(var n=1;n<=13;++n)for(var p=0;p<4;++p){var l=new r.default(n,p,s.EPokerStatus.CLOSE);this._pokers.push(l)}for(this.NotifyGameEvent(c.SolitaireEvent.SC_INIT,this._pokers),o=this._pokers.length-1;o>=0;--o)this._pokers[o].initLocation=s.ELocation.CLOSE,this._pokers[o].initStatus=s.EPokerStatus.CLOSE,this._closeAreaGroup.AddPoker(this._pokers[o]);this.__shufflePokers(this._closeAreaGroup.pokers),e.resume||this.NotifyGameEvent(c.SolitaireEvent.SC_UI_SUBSCRIB,this),this.NotifyGameEvent(c.SolitaireEvent.SC_PLAY,this);for(var u=[],h=7;h>=1;--h)for(o=0;o<h;++o){var _=7-h+o,f=this._playGroups[_];(l=this._closeAreaGroup.RemoveTop()).initLocation=s.ELocation.PLAY,l.status=0===o?s.EPokerStatus.OPEN:s.EPokerStatus.CLOSE,l.initStatus=l.status,f.AddPoker(l),u.push(l)}e.resume||this.NotifyGameEvent(c.SolitaireEvent.SC_SEND_POKERS,u),e.resume&&(this.RedoCmds(e.cmds),this.NotifyGameEvent(c.SolitaireEvent.SC_UI_SUBSCRIB),this.NotifyGameEvent(c.SolitaireEvent.SC_REFRESH_POKERS,this._pokers)),this.BindBV(this.isGameWinBV,function(e){e&&t.PauseTimer()},!0),this.BindBV(this.isGameLoseBV,function(e){e?t.PauseTimer():t.ResumeTimer()},!0)},t.prototype.Snap=function(){return{gameType:this._gameType,resume:!0,vegas:this._isVegasMode,card3:this._isCard3Mode,seed:this.Seed,cmds:this.SnapUndoCmds(),tick:this._gameTime,score:this.scoreBV.v,helped:this.isHelpedBV.v,player:this.isPlayerOpenedBV.v,hinted:this.isHintedBV.v,undo:this.hasUsedUndo.v}},t.prototype.__shufflePokers=function(e){for(var t=0;t<this._CONST_SHUFFLE;++t){var o=this.m_Rander.range(0,e.length-1),i=this.m_Rander.range(0,e.length-1),n=e[o];e[o]=e[i],e[i]=n}},Object.defineProperty(t.prototype,"gameTime",{get:function(){return this._gameTime},enumerable:!1,configurable:!0}),t.prototype.SetTimerActive=function(e){this._isTimerActive=e},t.prototype.PauseTimer=function(){this._isPauseTimer=!0},t.prototype.ResumeTimer=function(){this._isPauseTimer=!1},t.prototype.Tick=function(){!this._isPauseTimer&&this._isTimerActive&&(this._gameTime=this._gameTime+1,this.NotifyGameEvent(c.SolitaireEvent.SC_TIME_CHANGED,this._gameTime))},t.prototype.UpdateHasNextStep=function(){this.hasNextBV.v=this.__DoNextStep(!0)},t.prototype.__UpdateGameLose=function(){var e=this.isGameLoseBV.v;this.isGameLoseBV.v=!this.isGameWinBV.v&&!this.isContinueBV.v&&!this.hasNextBV.v;var t=this.isGameLoseBV.v;t&&t!==e&&this.NotifyGameEvent(c.SolitaireEvent.SC_LOSE)},t.prototype.__CheckGameWin=function(){if(!this.isGameWinBV.v){for(var e=0;e<4;++e){var t=this._receiveGroups[e];if(!t.top||13!==t.top.point)return}this.isGameWinBV.v=!0,this.NotifyGameEvent(c.SolitaireEvent.SC_WIN)}},t.prototype.UpdateMoveStep=function(e){this.m_IsStepOperationHintCalculated=!1,e?--this.moveStepCountBV.v:++this.moveStepCountBV.v},t.prototype.resetMoveStepCount=function(e){this.m_IsStepOperationHintCalculated=!1,this.moveStepCountBV.v=e,this.UpdateScore()},t.prototype.ChangeReceiveScore=function(e){this.pokerReceiveScoreBV.v+=e},t.prototype.ChangeVegasReceiveScore=function(e){this.vegasReceiveScoreBV.v+=e},t.prototype.UpdateScore=function(e){void 0===e&&(e=!1),e||(this._isVegasMode?this.scoreBV.v=this.vegasReceiveScoreBV.v:this.scoreBV.v=this.pokerReceiveScoreBV.v+(1e3-this.moveStepCountBV.v))},t.prototype.__UpdateOperationHintStatus=function(){this.m_IsStepOperationHintCalculated||(this.m_OperationHintList=this.__CalculateOperationHints(),this.m_OperationHintIndex=0,this.m_IsStepOperationHintCalculated=!0)},t.prototype.HasOperationHint=function(){return this.__UpdateOperationHintStatus(),this.m_OperationHintList.length>0},t.prototype.DoOperationHint=function(){this.__UpdateOperationHintStatus(),console.assert(this.HasOperationHint());var e=this.m_OperationHintIndex;return this.m_OperationHintIndex=(this.m_OperationHintIndex+1)%this.m_OperationHintList.length,this.m_OperationHintList[e]},t.prototype.__CalculateOperationHints=function(){for(var e=[],t=0;t<7;++t)for(var o=this._playGroups[t],i=0;i<7;++i)!(n=this._playGroups[i]).IsPokersEmpty()&&o.IsConcatPoker(n.rootOpenPoker)&&e.push({type:p.ETOperationHint.PLAY_TO_PLAY,from:i,to:t});for(i=0;i<7;++i){var n;if(!(n=this._playGroups[i]).IsPokersEmpty())for(var r=0;r<4;++r)if(this._receiveGroups[r].IsNextPoker(n.top)){e.push({type:p.ETOperationHint.PLAY_TO_RECEIVE,from:i,to:r});break}}if(this._openAreaGroup.top)for(r=0;r<4;++r)this._receiveGroups[r].IsNextPoker(this._openAreaGroup.top)&&e.push({type:p.ETOperationHint.OPEN_TO_RECEIVE,to:r});if(this._openAreaGroup.top)for(t=0;t<7;++t)(o=this._playGroups[t]).IsConcatPoker(this._openAreaGroup.top)&&e.push({type:p.ETOperationHint.OPEN_TO_PLAY,to:t});for(this._closeAreaGroup.IsPokersEmpty()||e.push({type:p.ETOperationHint.CLOSE_TO_OPEN}),!this._openAreaGroup.IsPokersEmpty()&&this._closeAreaGroup.IsPokersEmpty()&&this.IsCanReflip()&&e.push({type:p.ETOperationHint.OPEN_TO_CLOSE}),t=0;t<7;++t){o=this._playGroups[t];for(var a=0;a<4;++a){var s=this._receiveGroups[a];!s.IsPokersEmpty()&&o.IsConcatPoker(s.top)&&e.push({type:p.ETOperationHint.RECEIVE_TO_PLAY,from:a,to:t})}}return e},t.prototype.OnPlayPokerClick=function(e){if(console.assert(e.status===s.EPokerStatus.OPEN&&e.location===s.ELocation.PLAY),e.isTop){for(var t=0;t<4;++t)if(this._receiveGroups[t].IsNextPoker(e))return this.__MoveFromPlayToReceive(e,t);for(var o=0;o<7;++o)if(this._playGroups[o].IsConcatPoker(e))return this.__MoveFromPlayToPlay(e,o);this.NotifyGameEvent(c.SolitaireEvent.SC_CLICK_POKER_NO_CHANGE,e)}else{for(o=0;o<7;++o)if(this._playGroups[o].IsConcatPoker(e))return this.__MoveFromPlayToPlay(e,o);this.NotifyGameEvent(c.SolitaireEvent.SC_CLICK_POKER_NO_CHANGE,e)}},t.prototype.OnClosePokerClick=function(e){this.__MoveFromCloseToOpen(e)},t.prototype.OnReceivePokerClick=function(e){console.assert(e.group.top===e);for(var t=0;t<7;++t)if(this._playGroups[t].IsConcatPoker(e))return this.__MoveFromReceiveToPlay(e,t);this.NotifyGameEvent(c.SolitaireEvent.SC_CLICK_POKER_NO_CHANGE,e)},t.prototype.OnOpenPokerClick=function(e){console.assert(e.location===s.ELocation.OPEN&&e.isTop);for(var t=0;t<4;++t)if(this._receiveGroups[t].IsNextPoker(e))return this.__MoveFromOpenToReceive(e,t);for(var o=0;o<7;++o)if(this._playGroups[o].IsConcatPoker(e))return this.__MoveFromOpenToPlay(e,o);this.NotifyGameEvent(c.SolitaireEvent.SC_CLICK_POKER_NO_CHANGE,e)},t.prototype.OnClickCloseBottom=function(){this.IsCanReflip()&&this.__MoveFromOpenToClose()},t.prototype.OnDragToReceive=function(e,t){if(e.isTop&&this._receiveGroups[t].IsNextPoker(e))return e.group,e.location===s.ELocation.PLAY?this.__MoveFromPlayToReceive(e,t,p.EActionType.DRAG):e.location===s.ELocation.OPEN?this.__MoveFromOpenToReceive(e,t,p.EActionType.DRAG):this.__MoveFromReceiveToReceive(e,t,p.EActionType.DRAG);this.NotifyGameEvent(c.SolitaireEvent.SC_DRAG_POKER_NO_CHANGE,e)},t.prototype.OnDragToPlay=function(e,t){e.isTop?this._playGroups[t].IsConcatPoker(e)?e.location==s.ELocation.PLAY?this.__MoveFromPlayToPlay(e,t,p.EActionType.DRAG):e.location===s.ELocation.RECEIVE?this.__MoveFromReceiveToPlay(e,t,p.EActionType.DRAG):this.__MoveFromOpenToPlay(e,t,p.EActionType.DRAG):this.NotifyGameEvent(c.SolitaireEvent.SC_DRAG_POKER_NO_CHANGE,e):(console.assert(e.location==s.ELocation.PLAY),this._playGroups[t].IsConcatPoker(e)?this.__MoveFromPlayToPlay(e,t,p.EActionType.DRAG):this.NotifyGameEvent(c.SolitaireEvent.SC_DRAG_POKER_NO_CHANGE,e))},t.prototype.IsCanReflip=function(){return this.__isCanReflipByCount(this.flipCloseCardsCountBV.v)},t.prototype.__isCanReflipByCount=function(e){if(this._isVegasMode){if(!this._isCard3Mode)return!1;if(e>=2)return!1}return!0},t.prototype.__MoveFromPlayToPlay=function(e,t,o,i,n){void 0===o&&(o=p.EActionType.CLICK),void 0===i&&(i=!1),void 0===n&&(n=!1),console.assert(e.location==s.ELocation.PLAY);var r=this._playGroups[t];if(e.isTop){var a=(_=e.group).IsAutoFlipOnRemovePoker(e),l=e.groupIndex,u=t;if(e.group.RemoveTop(),r.AddPoker(e),this.__StopFoundationsCount(),o!==p.EActionType.UNDO){var h=this.NewCmd(p.ETUndoCmd.PLAY_TO_PLAY).AddChange({typ:p.EChangeType.MOVE,poker:e,fromIndex:l,toIndex:u});a&&(h.AddChange({typ:p.EChangeType.FLIP,poker:_.top,status:s.EPokerStatus.OPEN}),console.assert(_.top.initLocation===s.ELocation.PLAY&&_.top.initStatus===s.EPokerStatus.CLOSE),this.ChangeReceiveScore(5))}switch(this.UpdateMoveStep(i),this.UpdateScore(n),o){case p.EActionType.CLICK:this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FROM_PLAY_TO_PLAY,e);break;case p.EActionType.DRAG:this.NotifyGameEvent(c.SolitaireEvent.SC_DRAG_POKER_FROM_PLAY_TO_PLAY,e);break;case p.EActionType.UNDO:this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_PLAY,e)}}else{a=(_=e.group).IsAutoFlipOnRemovePoker(e),l=e.groupIndex,u=t;for(var _,f=[];;){var d=_.RemoveTop();if(f.push(d),d==e)break}for(var S=f.length-1;S>=0;--S){var y=f[S];r.AddPoker(y)}switch(this.__StopFoundationsCount(),o!==p.EActionType.UNDO&&(h=this.NewCmd(p.ETUndoCmd.PLAY_TO_PLAY).AddChange({typ:p.EChangeType.MOVE,poker:e,fromIndex:l,toIndex:u}),a&&(h.AddChange({typ:p.EChangeType.FLIP,poker:_.top,status:s.EPokerStatus.OPEN}),console.assert(_.top.initLocation===s.ELocation.PLAY&&_.top.initStatus===s.EPokerStatus.CLOSE),this.ChangeReceiveScore(5))),this.UpdateMoveStep(i),this.UpdateScore(),o){case p.EActionType.CLICK:this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKERS_FROM_PLAY_TO_PLAY,f);break;case p.EActionType.DRAG:this.NotifyGameEvent(c.SolitaireEvent.SC_DRAG_POKERS_FROM_PLAY_TO_PLAY,f);break;case p.EActionType.UNDO:this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKERS_FOR_UNDO_FROM_PLAY_TO_PLAY,f)}}this.UpdateHasNextStep()},t.prototype.__MoveFromPlayToReceive=function(e,t,o,i,n){void 0===o&&(o=p.EActionType.CLICK),void 0===i&&(i=!1),void 0===n&&(n=!1),console.assert(e.location==s.ELocation.PLAY);var r=e.group,a=r.index,l=r.IsAutoFlipOnRemovePoker(e),u=this._receiveGroups[t],h=e.group.RemoveTop();if(console.assert(h===e),u.AddPoker(e),this.__AddFoundationsCount(),o!==p.EActionType.UNDO){var _=this.NewCmd(p.ETUndoCmd.PLAY_TO_RECEIVE).AddChange({typ:p.EChangeType.MOVE,poker:e,fromIndex:a,toIndex:t});l&&(_.AddChange({typ:p.EChangeType.FLIP,poker:r.top,status:s.EPokerStatus.OPEN}),console.assert(r.top.initLocation===s.ELocation.PLAY&&r.top.initStatus===s.EPokerStatus.CLOSE),this.ChangeReceiveScore(5)),this.ChangeReceiveScore(e.initLocation===s.ELocation.PLAY&&e.initStatus===s.EPokerStatus.OPEN?15:10),this.ChangeVegasReceiveScore(5)}switch(this.UpdateMoveStep(i),this.UpdateScore(n),o){case p.EActionType.CLICK:this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FROM_PLAY_TO_RECEIVE,e);break;case p.EActionType.DRAG:this.NotifyGameEvent(c.SolitaireEvent.SC_DRAG_POKER_FROM_PLAY_TO_RECEIVE,e);break;case p.EActionType.UNDO:this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_RECEIVE,e)}this.__CheckGameWin(),this.UpdateHasNextStep()},t.prototype.__MoveFromReceiveToPlay=function(e,t,o,i,n){void 0===o&&(o=p.EActionType.CLICK),void 0===i&&(i=!1),void 0===n&&(n=!1),console.assert(e.location==s.ELocation.RECEIVE);var r=e.group.index,a=this._playGroups[t],l=e.group.RemoveTop();switch(console.assert(l===e),a.AddPoker(e),this.__StopFoundationsCount(),o!==p.EActionType.UNDO&&this.NewCmd(p.ETUndoCmd.RECEIVE_TO_PLAY).AddChange({typ:p.EChangeType.MOVE,poker:e,fromIndex:r,toIndex:t}),this.ChangeReceiveScore(e.initLocation===s.ELocation.PLAY&&e.initStatus===s.EPokerStatus.OPEN?-15:-10),this.ChangeVegasReceiveScore(-5),this.UpdateMoveStep(i),this.UpdateScore(n),o){case p.EActionType.CLICK:this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FROM_RECEIVE_TO_PLAY,e);break;case p.EActionType.DRAG:this.NotifyGameEvent(c.SolitaireEvent.SC_DRAG_POKER_FROM_RECEIVE_TO_PLAY,e);break;case p.EActionType.UNDO:this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_RECEIVE_TO_PLAY,e)}this.UpdateHasNextStep()},t.prototype.__MoveFromOpenToPlay=function(e,t,o,i){void 0===o&&(o=p.EActionType.CLICK),void 0===i&&(i=!1),console.assert(e.location==s.ELocation.OPEN&&o!==p.EActionType.UNDO);var n=this._playGroups[t],r=e.group.RemoveTop();switch(console.assert(r===e),n.AddPoker(e),this.__StopFoundationsCount(),this.NewCmd(p.ETUndoCmd.OPEN_TO_PLAY).AddChange({typ:p.EChangeType.MOVE,poker:e,toIndex:t}),console.assert(e.initLocation===s.ELocation.CLOSE),this.ChangeReceiveScore(5),this.UpdateMoveStep(i),this.UpdateScore(),o){case p.EActionType.CLICK:this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FROM_OPEN_TO_PLAY,e);break;case p.EActionType.DRAG:this.NotifyGameEvent(c.SolitaireEvent.SC_DRAG_POKER_FROM_OPEN_TO_PLAY,e);break;case p.EActionType.UNDO:console.error("\u4e0d\u53ef\u80fd\u51fa\u73b0")}this.UpdateHasNextStep()},t.prototype.__MoveFromOpenToReceive=function(e,t,o,i){void 0===o&&(o=p.EActionType.CLICK),void 0===i&&(i=!1);var n=this._receiveGroups[t];switch(e.group.RemoveTop(),n.AddPoker(e),this.__AddFoundationsCount(),this.NewCmd(p.ETUndoCmd.OPEN_TO_RECEIVE).AddChange({typ:p.EChangeType.MOVE,poker:e,toIndex:t}),console.assert(e.initLocation===s.ELocation.CLOSE),this.ChangeReceiveScore(15),this.ChangeVegasReceiveScore(5),this.UpdateMoveStep(i),this.UpdateScore(),o){case p.EActionType.CLICK:this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FROM_OPEN_TO_RECEIVE,e);break;case p.EActionType.DRAG:this.NotifyGameEvent(c.SolitaireEvent.SC_DRAG_POKER_FROM_OPEN_TO_RECEIVE,e);break;case p.EActionType.UNDO:console.error("\u4e0d\u53ef\u80fd\u51fa\u73b0")}this.__CheckGameWin(),this.UpdateHasNextStep()},t.prototype.__MoveFromReceiveToReceive=function(e,t,o,i,n){void 0===o&&(o=p.EActionType.CLICK),void 0===i&&(i=!1),void 0===n&&(n=!1);var r=e.group,a=r.index,s=this._receiveGroups[t];r.RemoveTop(),s.AddPoker(e),o!==p.EActionType.UNDO&&this.NewCmd(p.ETUndoCmd.RECEIVE_TO_RECEIVE).AddChange({typ:p.EChangeType.MOVE,poker:e,fromIndex:a,toIndex:t}),this.UpdateMoveStep(i),this.UpdateScore(n),this.NotifyGameEvent(c.SolitaireEvent.SC_DRAG_POKER_FROM_RECEIVE_TO_RECEIVE,e),this.UpdateHasNextStep()},t.prototype.__MoveFromCloseToOpen=function(e,t){if(void 0===t&&(t=!1),this._isCard3Mode){for(var o=e.group,i=[],n=this.NewCmd(p.ETUndoCmd.CLOSES_TO_OPEN);i.push(o.RemoveTop()),this._openAreaGroup.AddPoker(i[i.length-1]),3!=i.length&&!o.IsPokersEmpty(););n.AddChange({typ:p.EChangeType.MOVE,pokers:i}),this.UpdateMoveStep(t),this.UpdateScore(),this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKERS_FROM_CLOSE_TO_OPEN,i)}else e.group.RemoveTop(),this._openAreaGroup.AddPoker(e),this.NewCmd(p.ETUndoCmd.CLOSE_TO_OPEN).AddChange({typ:p.EChangeType.MOVE,poker:e}),this.UpdateMoveStep(t),this.UpdateScore(),this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FROM_CLOSE_TO_OPEN,e);this.UpdateHasNextStep()},t.prototype.__MoveFromOpenToClose=function(e){if(void 0===e&&(e=!1),this._closeAreaGroup.IsPokersEmpty()&&(this.flipCloseCardsCountBV.v+=1,!this._openAreaGroup.IsPokersEmpty())){for(var t=[];!this._openAreaGroup.IsPokersEmpty();){var o=this._openAreaGroup.RemoveTop();this._closeAreaGroup.AddPoker(o),t.push(o)}this.NewCmd(p.ETUndoCmd.OPEN_TO_CLOSE).AddChange({typ:p.EChangeType.MOVE,pokers:t}),this.UpdateMoveStep(e),this.UpdateScore(),this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_ALL_POKERS_FROM_OPEN_TO_CLOSE,t),this.UpdateHasNextStep()}},t.prototype.__MoveFromPlayToOpenForUndo=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),e.group.RemoveTop(),this._openAreaGroup.AddPoker(e),console.assert(e.initLocation===s.ELocation.CLOSE),this.ChangeReceiveScore(-5),this.UpdateMoveStep(t),this.UpdateScore(o),this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_PLAY_TO_OPEN,e),this.UpdateHasNextStep()},t.prototype.__MoveFromReceiveToOpenForUndo=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),e.group.RemoveTop(),this._openAreaGroup.AddPoker(e),console.assert(e.initLocation===s.ELocation.CLOSE),this.ChangeReceiveScore(-15),this.ChangeVegasReceiveScore(-5),this.UpdateMoveStep(t),this.UpdateScore(o),this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_RECEIVE_TO_OPEN,e),this.UpdateHasNextStep()},t.prototype.__MoveFromCloseToOpenForUndo=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1);for(var i=[],n=e.length-1;n>=0;--n){var r=e[n];this._closeAreaGroup.RemoveTop(),this._openAreaGroup.AddPoker(r),i.push(r)}this.flipCloseCardsCountBV.v-=1,this.UpdateMoveStep(t),this.UpdateScore(o),this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_ALL_POKERS_FOR_UNDO_FROM_CLOSE_TO_OPEN,i),this.UpdateHasNextStep()},t.prototype.__MoveFromOpenToCloseForUndo=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),e.group.RemoveTop(),this._closeAreaGroup.AddPoker(e),this.UpdateMoveStep(t),this.UpdateScore(o),this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKER_FOR_UNDO_FROM_OPEN_TO_CLOSE,e),this.UpdateHasNextStep()},t.prototype.__MovePokersFromOpenToCloseForUndo=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1);for(var i=e.length-1;i>=0;--i){var n=e[i];n.group.RemoveTop(),this._closeAreaGroup.AddPoker(n)}this.UpdateMoveStep(t),this.UpdateScore(o),this.NotifyGameEvent(c.SolitaireEvent.SC_MOVE_POKERS_FOR_UNDO_FROM_OPEN_TO_CLOSE,e),this.UpdateHasNextStep()},t.prototype.OnUndoStatusChanged=function(e){this.undoLengthBV.v=e},t.prototype.Undo=function(e){if(void 0===e&&(e=!1),this.undoLengthBV.v>0){this.hasUsedUndo.v=!0;for(var t=this.undoCmdStack.pop(),o=t.cmdChanges.length-1;o>=0;--o){var i=t.cmdChanges[o];switch(i.typ){case p.EChangeType.FLIP:this.UndoFlip(i,o>0);break;case p.EChangeType.MOVE:this.UndoMoveChangeByCmdType(t.cmdType,i,e,o>0)}}}else ii.UIMgr.ins.ShowMsg("solitaire.no_undo_step")},t.prototype.NewCmd=function(e){var t=new p.Cmd(e,[]);return this.undoCmdStack.push(t),t},t.prototype.UndoFlip=function(e,t){e.poker.status=e.status===s.EPokerStatus.OPEN?s.EPokerStatus.CLOSE:s.EPokerStatus.OPEN,console.assert(e.poker.initLocation===s.ELocation.PLAY&&e.poker.initStatus===s.EPokerStatus.CLOSE),this.ChangeReceiveScore(-5),this.UpdateScore(t),this.NotifyGameEvent(c.SolitaireEvent.SC_FLIP_POKER,e.poker)},t.prototype.SnapUndoCmds=function(){return this.undoCmdStack.Snap()},t.prototype.RedoCmds=function(e){var t=this;this.ConvertCmds(e).forEach(function(e){t.ResumeCmd(e.cmdType,e.cmdChanges)})},t.prototype.ConvertCmds=function(e){var t=this;return e.map(function(e){var o=new p.Cmd(e.cmdType,[]);return e.cmdChanges.forEach(function(e){return o.AddChange({typ:e.typ,poker:null==e.poker?null:t.getPoker(e.poker.point,e.poker.suit),pokers:null==e.pokers?null:e.pokers.map(function(e){return t.getPoker(e.point,e.suit)}),fromIndex:e.fromIndex,toIndex:e.toIndex,status:e.status})}),o})},t.prototype.UndoMoveChangeByCmdType=function(e,t,o,i){switch(e){case p.ETUndoCmd.PLAY_TO_PLAY:this.__MoveFromPlayToPlay(t.poker,t.fromIndex,p.EActionType.UNDO,o,i);break;case p.ETUndoCmd.PLAY_TO_RECEIVE:this.__MoveFromReceiveToPlay(t.poker,t.fromIndex,p.EActionType.UNDO,o,i);break;case p.ETUndoCmd.RECEIVE_TO_PLAY:this.__MoveFromPlayToReceive(t.poker,t.fromIndex,p.EActionType.UNDO,o,i);break;case p.ETUndoCmd.RECEIVE_TO_RECEIVE:this.__MoveFromReceiveToReceive(t.poker,t.fromIndex,p.EActionType.UNDO,o,i);break;case p.ETUndoCmd.OPEN_TO_PLAY:this.__MoveFromPlayToOpenForUndo(t.poker,o,i);break;case p.ETUndoCmd.OPEN_TO_RECEIVE:this.__MoveFromReceiveToOpenForUndo(t.poker,o,i);break;case p.ETUndoCmd.OPEN_TO_CLOSE:this.__MoveFromCloseToOpenForUndo(t.pokers,o,i);break;case p.ETUndoCmd.CLOSE_TO_OPEN:this.__MoveFromOpenToCloseForUndo(t.poker,o,i);break;case p.ETUndoCmd.CLOSES_TO_OPEN:this.__MovePokersFromOpenToCloseForUndo(t.pokers,o,i)}},t.prototype.ResumeCmd=function(e,t){var o=this;switch(e){case p.ETUndoCmd.PLAY_TO_PLAY:this.__ResumeOnceForTypeOfMove(t,function(e){return o.__MoveFromPlayToPlay(e.poker,e.toIndex)});break;case p.ETUndoCmd.PLAY_TO_RECEIVE:this.__ResumeOnceForTypeOfMove(t,function(e){return o.__MoveFromPlayToReceive(e.poker,e.toIndex)});break;case p.ETUndoCmd.RECEIVE_TO_PLAY:this.__ResumeOnceForTypeOfMove(t,function(e){return o.__MoveFromReceiveToPlay(e.poker,e.toIndex)});break;case p.ETUndoCmd.RECEIVE_TO_RECEIVE:this.__ResumeOnceForTypeOfMove(t,function(e){return o.__MoveFromReceiveToReceive(e.poker,e.toIndex)});break;case p.ETUndoCmd.OPEN_TO_PLAY:this.__ResumeOnceForTypeOfMove(t,function(e){return o.__MoveFromOpenToPlay(e.poker,e.toIndex)});break;case p.ETUndoCmd.OPEN_TO_RECEIVE:this.__ResumeOnceForTypeOfMove(t,function(e){return o.__MoveFromOpenToReceive(e.poker,e.toIndex)});break;case p.ETUndoCmd.OPEN_TO_CLOSE:this.__ResumeOnceForTypeOfMove(t,function(){return o.__MoveFromOpenToClose()});break;case p.ETUndoCmd.CLOSE_TO_OPEN:this.__ResumeOnceForTypeOfMove(t,function(e){return o.__MoveFromCloseToOpen(e.poker)});break;case p.ETUndoCmd.CLOSES_TO_OPEN:this.__ResumeOnceForTypeOfMove(t,function(e){return o.__MoveFromCloseToOpen(e.pokers[0])})}},t.prototype.__ResumeOnceForTypeOfMove=function(e,t){for(var o=0;o<e.length;++o){var i=e[o];if(i.typ==p.EChangeType.MOVE){t(i);break}}},t.prototype.OnUseHelp=function(){this.isHelpedBV.v=!0,this.isPlayerOpenedBV.v=!0},t.prototype.AutoServerPlay=function(){return this.AutoServerPlayStepNext()},t.prototype.AutoServerPlayStepNext=function(){return!!this.isGameWinBV.v||!!this.m_strategyFn(!1)&&this.AutoServerPlayStepNext()},t.prototype.__refreshAllPokerOpenStatus=function(){this.isAllPokersOpenBV.v=this._pokers.reduce(function(e,t){return e&&t.status===s.EPokerStatus.OPEN},!0)},t.prototype.ChangeAutoPlayInterval=function(e){this.m_AutoPlayingInterval=e},t.prototype.AutoPlayStepNext=function(e){var t=this;if(this.isAutoPlayingBV.v||this.isAutoCollectingBV.v){if(this.isGameWinBV.v)return this.isAutoPlayingBV.v=!1,this.isAutoCollectingBV.v=!1,e?e(!0,this.Seed,this):void 0;if(this.m_strategyFn(!1)){if(0===this.m_AutoPlayingInterval)return this.AutoPlayStepNext(e);ii.App.ins.delayCall(this.m_AutoPlayingInterval,function(){return t.AutoPlayStepNext(e)})}else if(this.isAutoPlayingBV.v=!1,this.isAutoCollectingBV.v=!1,e)return e(!1,this.Seed,this)}},t.prototype.AutoPlay=function(e,t){var o=this;console.assert(!this.isAutoPlayingBV.v&&!this.isAutoCollectingBV.v),this.ChangeAutoPlayInterval(e),this.isAutoPlayingBV.v=!0,ii.App.ins.delayCall(this.m_AutoPlayingInterval,function(){return o.AutoPlayStepNext(t)})},t.prototype.AutoCollect=function(e){console.assert(this.isAllPokersOpenBV.v&&!this.isAutoPlayingBV.v&&!this.isAutoCollectingBV.v),this.ChangeAutoPlayInterval(e),this.isAutoCollectingBV.v=!0,this.AutoPlayStepNext()},t.prototype.StopAutoPlay=function(){this.isAutoPlayingBV.v=!1},t.prototype.NextStep=function(){this.__DoNextStep(!1)},t.prototype.__DoNextStep=function(e){return!(this.isGameWinBV.v||!this.m_strategyFn)&&this.m_strategyFn(e)},t.prototype.__CreateStrategyFunc=function(){var e=this;return this._isCard3Mode?function(t){return e.AutoPlayFlipOnPlayToReceive(t)||e.AutoPlayFlipOnPlayToPlay(t)||e.AutoPlayNoFlipOpenToReceive(t)||e.AutoPlayNoFlipOnPlayToReceiveToCreateEmptyPlayGroup(t)||e.AutoPlayFlipOnOpenToPlay(t)||e.AutoPlayFlipOnReceiveToPlay(t)||e.AutoPlayFlipOnCloseToPlay(t)||e.AutoPlayFlipOnUnderOpenToPlay(t)||e.AutoPlayNoFlipOnPlayToPlayToCreateEmptyPlayGroup(t)||e.AutoPlayNoFlipOnPlayToReceive(t)||e.AutoPlayNoFlipCloseToReceive(t)||e.AutoPlayNoFlipOnOpenToPlay(t)||e.AutoPlayNoFlipUnderOpenToReceive(t)||e.AutoPlayNoFlipOnCloseToPlay(t)||e.AutoPlayNoFlipOnUnderOpenToPlay(t)}:function(t){return e.AutoPlayBestFitPlayToReceive(t)||e.AutoPlayBestFitOpenToReceive(t)||e.AutoPlayBestFitTopCloseToReceive(t)||e.AutoPlayBestFitBottomOpenToReceive(t)||e.AutoPlayFlipOnPlayToReceive(t)||e.AutoPlayFlipOnPlayToPlay(t)||e.AutoPlayNoFlipOnPlayToReceiveToCreateEmptyPlayGroup(t)||e.AutoPlayFlipOnOpenToPlay(t)||e.AutoPlayFlipOnReceiveToPlay(t)||e.AutoPlayNoFlipOpenToReceive(t)||e.AutoPlayNoFlipOnOpenToPlay(t)||e.AutoPlayFlipOnCloseToPlay(t)||e.AutoPlayFlipOnUnderOpenToPlay(t)||e.AutoPlayFlipOnOpenToPlayByTwoPokers(t)||e.AutoPlayFlipOnReceiveToPlayByTwoPokers(t)||e.AutoPlayFlipOnCloseToPlayByTwoPokers(t)||e.AutoPlayFlipOnUnderOpenToPlayByTwoPokers(t)||e.AutoPlayNoFlipOnPlayToPlayToCreateEmptyPlayGroup(t)||e.AutoPlayNoFlipOnPlayToReceive(t)||e.AutoPlayNoFlipCloseToReceive(t)||e.AutoPlayNoFlipUnderOpenToReceive(t)||e.AutoPlayNoFlipOnCloseToPlay(t)||e.AutoPlayNoFlipOnUnderOpenToPlay(t)||e.AutoPlayNoFlipOnPlayToPlayToMakeReceive(t)}},t.prototype.AutoPlayBestFitPlayToReceive=function(e){void 0===e&&(e=!1);for(var t=!1,o=13,i=0;i<4;++i)if((r=this._receiveGroups[i]).IsPokersEmpty()){t=!0;for(var n=0;n<7;++n)if((s=this._playGroups[n].top)&&1==s.point)return e||this.__MoveFromPlayToReceive(s,i),!0}else(a=r.top).point<o&&(o=a.point);if(t)return!1;if(13===o)return!1;for(i=0;i<4;++i){var r,a;if((a=(r=this._receiveGroups[i]).top).point==o)for(n=0;n<7;++n){var s;if((s=this._playGroups[n].top)&&r.IsNextPoker(s))return e||this.__MoveFromPlayToReceive(s,i),!0}}return!1},t.prototype.AutoPlayBestFitOpenToReceive=function(e){if(void 0===e&&(e=!1),this._openAreaGroup.IsPokersEmpty())return!1;for(var t=!1,o=13,i=0;i<4;++i)if((n=this._receiveGroups[i]).IsPokersEmpty()){if(t=!0,(a=this._openAreaGroup.top)&&1==a.point)return e||this.__MoveFromOpenToReceive(a,i),!0}else(r=n.top).point<o&&(o=r.point);if(t)return!1;if(13===o)return!1;for(i=0;i<4;++i){var n,r,a;if((r=(n=this._receiveGroups[i]).top).point==o&&(a=this._openAreaGroup.top)&&n.IsNextPoker(a))return e||this.__MoveFromOpenToReceive(a,i),!0}return!1},t.prototype.AutoPlayFlipOnPlayToReceive=function(e){void 0===e&&(e=!1);for(var t=0;t<4;++t)for(var o=this._receiveGroups[t],i=0;i<7;++i){var n=this._playGroups[i],r=n.top;if(r&&o.IsNextPoker(r)&&n.IsAutoFlipOnRemovePoker(r))return e||this.__MoveFromPlayToReceive(r,t),!0}return!1},t.prototype.AutoPlayFlipOnPlayToPlay=function(e){void 0===e&&(e=!1);for(var t=0;t<7;++t)for(var o=this._playGroups[t],i=0;i<7;++i){var n=this._playGroups[i],r=n.rootOpenPoker;if(r&&o.IsConcatPoker(r)&&n.IsAutoFlipOnRemovePoker(r))return e||this.__MoveFromPlayToPlay(r,t),!0}return!1},t.prototype.AutoPlayBestFitTopCloseToReceive=function(e){if(void 0===e&&(e=!1),this._closeAreaGroup.IsPokersEmpty())return!1;for(var t=!1,o=13,i=0;i<4;++i)if((r=this._receiveGroups[i]).IsPokersEmpty()){t=!0;var n=this._closeAreaGroup.top;if(n&&1==n.point)return e||this.__MoveFromCloseToOpen(n),!0}else(a=r.top).point<o&&(o=a.point);if(t)return!1;if(13===o)return!1;for(i=0;i<4;++i){var r,a;if((a=(r=this._receiveGroups[i]).top).point==o){var s=this._closeAreaGroup.top;if(s&&r.IsNextPoker(s))return e||this.__MoveFromCloseToOpen(s),!0}}return!1},t.prototype.AutoPlayBestFitBottomOpenToReceive=function(e){if(void 0===e&&(e=!1),!this.IsCanReflip())return!1;if(!this._closeAreaGroup.IsPokersEmpty())return!1;if(this._openAreaGroup.IsPokersEmpty())return!1;for(var t=!1,o=13,i=0;i<4;++i)if((n=this._receiveGroups[i]).IsPokersEmpty()){if(t=!0,(a=this._openAreaGroup.zero)&&1==a.point)return e||this.__MoveFromOpenToClose(),!0}else(r=n.top).point<o&&(o=r.point);if(t)return!1;if(13===o)return!1;for(i=0;i<4;++i){var n,r,a;if((r=(n=this._receiveGroups[i]).top).point==o&&(a=this._openAreaGroup.zero)&&n.IsNextPoker(a))return e||this.__MoveFromOpenToClose(),!0}return!1},t.prototype.AutoPlayNoFlipOpenToReceive=function(e){void 0===e&&(e=!1);var t=this.__receiveIndexForPoker(this._openAreaGroup.top);return-1!==t&&(e||this.__MoveFromOpenToReceive(this._openAreaGroup.top,t),!0)},t.prototype.AutoPlayNoFlipOnOpenToPlay=function(e){void 0===e&&(e=!1);var t=this.__playIndexForPoker(this._openAreaGroup.top);return-1!==t&&(e||this.__MoveFromOpenToPlay(this._openAreaGroup.top,t),!0)},t.prototype.AutoPlayNoFlipOnPlayToReceiveToCreateEmptyPlayGroup=function(e){void 0===e&&(e=!1);for(var t=0;t<4;++t)for(var o=this._receiveGroups[t],i=0;i<7;++i){var n=this._playGroups[i],r=n.top;if(r&&o.IsNextPoker(r)&&r===n.zero)return e||this.__MoveFromPlayToReceive(r,t),!0}return!1},t.prototype.AutoPlayFlipOnOpenToPlay=function(e){void 0===e&&(e=!1);var t=this.__playIndexOfFlipThrough_Play_Poker_Play(this._openAreaGroup.top);return-1!==t&&(e||this.__MoveFromOpenToPlay(this._openAreaGroup.top,t),!0)},t.prototype.AutoPlayFlipOnCloseToPlay=function(e){void 0===e&&(e=!1);for(var t=this._closeAreaGroup.pokers.length-this.cardMode;t>=0;){if(-1!==this.__playIndexOfFlipThrough_Play_Poker_Play(this._closeAreaGroup.pokers[t]))return e||this.__MoveFromCloseToOpen(this._closeAreaGroup.top),!0;this._isCard3Mode&&t-this.cardMode<0&&t>0?t=0:t-=this.cardMode}return!1},t.prototype.AutoPlayFlipOnUnderOpenToPlay=function(e){if(void 0===e&&(e=!1),!this.IsCanReflip())return!1;for(var t=this.cardMode-1;t<this._openAreaGroup.pokers.length-1;t+=this.cardMode)if(-1!==this.__playIndexOfFlipThrough_Play_Poker_Play(this._openAreaGroup.pokers[t]))return e||(this._closeAreaGroup.top?this.__MoveFromCloseToOpen(this._closeAreaGroup.top):this.__MoveFromOpenToClose()),!0;return!1},t.prototype.AutoPlayFlipOnOpenToPlayByTwoPokers=function(e){if(void 0===e&&(e=!1),this._isCard3Mode)return!1;var t=this._openAreaGroup.top,o=this.__playIndexForPoker(t);if(-1!==o){if(t.IsConcatable(this._openAreaGroup.underTop)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(this._openAreaGroup.underTop))return e||this.__MoveFromOpenToPlay(t,o),!0;for(var i=0;i<4;++i){var n=this._receiveGroups[i].top;if(t.IsConcatable(n)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(n))return e||this.__MoveFromOpenToPlay(t,o),!0}for(var r=this._closeAreaGroup.pokers.length-1;r>=0;--r){var a=this._closeAreaGroup.pokers[r];if(t.IsConcatable(a)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(a))return e||this.__MoveFromOpenToPlay(t,o),!0}if(this.IsCanReflip())for(r=0;r<this._openAreaGroup.pokers.length-2;++r){var s=this._openAreaGroup.pokers[r];if(t.IsConcatable(s)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(s))return e||this.__MoveFromOpenToPlay(t,o),!0}}return!1},t.prototype.AutoPlayFlipOnReceiveToPlayByTwoPokers=function(e){if(void 0===e&&(e=!1),this._isCard3Mode)return!1;for(var t=0;t<4;++t){var o=this._receiveGroups[t].top,i=this.__playIndexForPoker(o);if(-1!==i){if(o.IsConcatable(this._openAreaGroup.top)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(this._openAreaGroup.top))return e||this.__MoveFromReceiveToPlay(o,i),!0;for(var n=0;n<4;++n){var r=this._receiveGroups[n].top;if(o.IsConcatable(r)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(r))return e||this.__MoveFromReceiveToPlay(o,i),!0}for(var a=this._closeAreaGroup.pokers.length-1;a>=0;--a){var s=this._closeAreaGroup.pokers[a];if(o.IsConcatable(s)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(s))return e||this.__MoveFromReceiveToPlay(o,i),!0}if(this.IsCanReflip())for(a=0;a<this._openAreaGroup.pokers.length-1;++a){var c=this._openAreaGroup.pokers[a];if(o.IsConcatable(c)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(c))return e||this.__MoveFromReceiveToPlay(o,i),!0}}}return!1},t.prototype.AutoPlayFlipOnCloseToPlayByTwoPokers=function(e){if(void 0===e&&(e=!1),this._isCard3Mode)return!1;for(var t=this._closeAreaGroup.pokers.length-1;t>=0;--t){var o=this._closeAreaGroup.pokers[t];if(-1!==this.__playIndexForPoker(o)){for(var i=0;i<4;++i){var n=this._receiveGroups[i].top;if(o.IsConcatable(n)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(n))return e||this.__MoveFromCloseToOpen(this._closeAreaGroup.top),!0}var r=t+1;if(r<this._closeAreaGroup.pokers.length){var a=this._closeAreaGroup.pokers[r];if(o.IsConcatable(a)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(a))return e||this.__MoveFromCloseToOpen(this._closeAreaGroup.top),!0}for(var s=t-1;s>=0;--s)if(a=this._closeAreaGroup.pokers[s],o.IsConcatable(a)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(a))return e||this.__MoveFromCloseToOpen(this._closeAreaGroup.top),!0;if(this.IsCanReflip())for(s=0;s<this._openAreaGroup.pokers.length;++s){var c=this._openAreaGroup.pokers[s];if(o.IsConcatable(c)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(c))return e||this.__MoveFromCloseToOpen(this._closeAreaGroup.top),!0}for(s=this._closeAreaGroup.pokers.length-1;s>t;--s)if(a=this._closeAreaGroup.pokers[s],o.IsConcatable(a)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(a))return e||this.__MoveFromCloseToOpen(this._closeAreaGroup.top),!0}}return!1},t.prototype.AutoPlayFlipOnUnderOpenToPlayByTwoPokers=function(e){if(void 0===e&&(e=!1),this._isCard3Mode)return!1;if(!this.IsCanReflip())return!1;for(var t=0;t<this._openAreaGroup.pokers.length-1;++t){var o=this._closeAreaGroup.pokers[t];if(-1!==this.__playIndexForPoker(o)){for(var i=0;i<4;++i){var n=this._receiveGroups[i].top;if(o.IsConcatable(n)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(n))return e||(this._closeAreaGroup.top?this.__MoveFromCloseToOpen(this._closeAreaGroup.top):this.__MoveFromOpenToClose()),!0}var r=t-1;if(r>=0){var a=this._openAreaGroup.pokers[r];if(o.IsConcatable(a)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(a))return e||(this._closeAreaGroup.top?this.__MoveFromCloseToOpen(this._closeAreaGroup.top):this.__MoveFromOpenToClose()),!0}for(var s=t+1;s<this._openAreaGroup.pokers.length;++s){var c=this._openAreaGroup.pokers[s];if(o.IsConcatable(c)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(c))return e||(this._closeAreaGroup.top?this.__MoveFromCloseToOpen(this._closeAreaGroup.top):this.__MoveFromOpenToClose()),!0}for(s=this._closeAreaGroup.pokers.length-1;s>=0;--s){var p=this._closeAreaGroup.pokers[s];if(o.IsConcatable(p)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(p))return e||(this._closeAreaGroup.top?this.__MoveFromCloseToOpen(this._closeAreaGroup.top):this.__MoveFromOpenToClose()),!0}if(this.__isCanReflipByCount(this.flipCloseCardsCountBV.v+1))for(s=0;s<t-1;++s)if(c=this._openAreaGroup.pokers[s],o.IsConcatable(c)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(c))return e||(this._closeAreaGroup.top?this.__MoveFromCloseToOpen(this._closeAreaGroup.top):this.__MoveFromOpenToClose()),!0}}return!1},t.prototype.AutoPlayNoFlipOnPlayToPlayToCreateEmptyPlayGroup=function(e){if(void 0===e&&(e=!1),this._playGroups.reduce(function(e,t){return e&&!t.IsPokersEmpty()},!0))for(var t=0;t<7;++t)for(var o=this._playGroups[t],i=0;i<7;++i){var n=this._playGroups[i],r=n.rootOpenPoker;if(r&&o.IsConcatPoker(r)&&n.zero.status===s.EPokerStatus.OPEN&&13!==n.zero.point)return e||this.__MoveFromPlayToPlay(r,t),!0}return!1},t.prototype.AutoPlayFlipOnReceiveToPlay=function(e){void 0===e&&(e=!1);for(var t=0;t<4;++t){var o=this.__playIndexOfFlipThrough_Play_Poker_Play(this._receiveGroups[t].top);if(-1!==o)return e||this.__MoveFromReceiveToPlay(this._receiveGroups[t].top,o),!0}return!1},t.prototype.AutoPlayNoFlipOnPlayToReceive=function(e){void 0===e&&(e=!1);for(var t=0;t<7;++t){var o=this.__receiveIndexForPoker(this._playGroups[t].top);if(-1!==o){if(!e){var i=this._playGroups[t];this.__MoveFromPlayToReceive(i.top,o)}return!0}}return!1},t.prototype.AutoPlayNoFlipCloseToReceive=function(e){void 0===e&&(e=!1);for(var t=this._closeAreaGroup.pokers.length-this.cardMode;t>=0;){if(-1!==this.__receiveIndexForPoker(this._closeAreaGroup.pokers[t]))return e||this.__MoveFromCloseToOpen(this._closeAreaGroup.top),!0;this._isCard3Mode&&t-this.cardMode<0&&t>0?t=0:t-=this.cardMode}return!1},t.prototype.AutoPlayNoFlipUnderOpenToReceive=function(e){if(void 0===e&&(e=!1),this.IsCanReflip())for(var t=this.cardMode-1;t<this._openAreaGroup.pokers.length-1;t+=this.cardMode)if(-1!==this.__receiveIndexForPoker(this._openAreaGroup.pokers[t]))return e||(this._closeAreaGroup.top?this.__MoveFromCloseToOpen(this._closeAreaGroup.top):this.__MoveFromOpenToClose()),!0;return!1},t.prototype.AutoPlayNoFlipOnCloseToPlay=function(e){void 0===e&&(e=!1);for(var t=this._closeAreaGroup.pokers.length-this.cardMode;t>=0;){if(-1!==this.__playIndexForPoker(this._closeAreaGroup.pokers[t]))return e||this.__MoveFromCloseToOpen(this._closeAreaGroup.top),!0;this._isCard3Mode&&t-this.cardMode<0&&t>0?t=0:t-=this.cardMode}return!1},t.prototype.AutoPlayNoFlipOnUnderOpenToPlay=function(e){if(void 0===e&&(e=!1),this.IsCanReflip())for(var t=this.cardMode-1;t<this._openAreaGroup.pokers.length-1;t+=this.cardMode)if(-1!==this.__playIndexForPoker(this._openAreaGroup.pokers[t]))return e||(this._closeAreaGroup.top?this.__MoveFromCloseToOpen(this._closeAreaGroup.top):this.__MoveFromOpenToClose()),!0;return!1},t.prototype.AutoPlayNoFlipOnPlayToPlayToMakeReceive=function(e){void 0===e&&(e=!1);for(var t=0;t<4;++t){var o=this._receiveGroups[t];if(!o.IsPokersEmpty()){var i=o.top,n=i.point+1;if(n<=13)for(var r=0;r<7;++r){var a=this._playGroups[r],c=a.GetPokerIndexBySuitPoint(i.suit,n,s.EPokerStatus.OPEN);if(-1!=c){var p=a.GetPoker(c+1),l=this.__playIndexForPoker(p);if(-1!==l)return this.__MoveFromPlayToPlay(p,l),!0}}}}return!1},t.prototype.__playIndexOfFlipThrough_Play_Poker_Play=function(e){if(e)for(var t=0;t<7;++t)if(this._playGroups[t].IsConcatPoker(e)&&-1!==this.__playIndexOfFlipOnPlayConcatedAfterPoker(e))return t;return-1},t.prototype.__playIndexOfFlipOnPlayConcatedAfterPoker=function(e){for(var t=0;t<7;++t)if(this.__isFlipOnPlayConcatedAfterPoker(t,e))return t;return-1},t.prototype.__isFlipOnPlayConcatedAfterPoker=function(e,t){var o=this._playGroups[e];if(o.IsPokersEmpty())return!1;var i=o.rootOpenPoker;return!(i!=o.top||!t.IsConcatable(i))&&o.IsAutoFlipOnRemovePoker(i)},t.prototype.__receiveIndexForPoker=function(e){if(e)for(var t=0;t<4;++t)if(this._receiveGroups[t].IsNextPoker(e))return t;return-1},t.prototype.__playIndexForPoker=function(e){if(e)for(var t=0;t<7;++t)if(this._playGroups[t].IsConcatPoker(e))return t;return-1},t.ServerPlay=function(e,o,i,n){var r=new t(e,i,n);r.Enter(o);var a=r.AutoServerPlay(),s=r.moveStepCountBV.v,c=r.flipCloseCardsCountBV.v;return r.Exit(),{seed:o,pass:a,step:s,flipCloseCnt:c}},t.Test_DataBattle=function(){var e=t.ServerPlay(s.EGameType.EASY,this._s_Seed++,!1,!1);e.pass&&console.log(" pass :: seed >> "+e.seed+" step >> "+e.step+" flip >> "+e.flipCloseCnt)},t.event={EVENT_LEVEL_MODEL_USING_HINT:"EVENT_LEVEL_MODEL_USING_HINT"},t._s_Seed=0,t}(ii.Entity);o.SolitaireJu=l,cc._RF.pop()},{"../../SolitaireEnums":"SolitaireEnums","../../SolitaireEvent":"SolitaireEvent","../SolitaireType":"SolitaireType","./Poker":"Poker","./PokerGroup":"PokerGroup"}],SolitaireLangCfg:[function(e,t,o){"use strict";cc._RF.push(t,"61135J55f9DVrhzL5EhQzCe","SolitaireLangCfg"),Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireLangCfg=void 0;var i=function(){function e(){}return e.Register=function(e){console.info("SolitaireLangCfg::Register("+e+") >> \u6ce8\u518c LangJson \u8d44\u6e90"),ii.registerLangJsonCfg(this.lang,e)},e.lang={SolitaireLang:"SolitaireLang"},e}();o.SolitaireLangCfg=i,cc._RF.pop()},{}],SolitaireLogic:[function(e,t,o){"use strict";cc._RF.push(t,"4b47bkrPVNCV5BOeDAA3DIi","SolitaireLogic");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireLogic=void 0;var r=e("../Game/Model/SolitaireJu"),a=e("../SolitaireCfg"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"dataCache",{get:function(){return this.GetDataCache(a.SolitaireCfg.SOLITAIRE_DATACACHE)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"skin",{get:function(){return this.GetDataCache(a.SolitaireCfg.SOLITAIRE_SKIN_DATACACHE)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"player",{get:function(){return this.GetDataCache(a.SolitaireCfg.SOLITAIRE_AUTOPLAYER_DATACACHE)},enumerable:!1,configurable:!0}),t.WatchAD=function(e,t){ii.App.ins.p.ad.IsRewardedVideoAvailable()?ii.UIMgr.ins.OpenDialog2(e,null,function(){ii.App.ins.p.ad.ShowRewardedVideo(function(){t(),ii.App.ins.p.user.SetGameCenterVal("WatchVideo",ii.App.ins.p.user.GetGameCenterVal("WatchVideo")+1)})}):ii.UIMgr.ins.ShowMsg("solitaire.ad_is_not_available")},t.WatchToRewardCoins=function(e){this.__WatchToRewardCoins(this.WATCH_AD_REWARDED_COINS,e)},t.__WatchToRewardCoins=function(e,t){var o=this;this.WatchAD(ii.LangUtil.Get("solitaire.watch_ad_to_reward_coin",e),function(){o.dataCache.ChangeCoins(e,t)})},t.WatchToExtendSkinList=function(e){var t=this;this.WatchAD("Watch AD to extend themes list?",function(){t.skin.ExtendSkinList(e)})},t.WatchToRecordSeed=function(e,t,o){var i=this;this.dataCache.recordBV.v>0?(--this.dataCache.recordBV.v,this.__RecordSeed(e,t,o)):this.WatchAD("Watch video to record seed "+e.Seed+" ?",function(){i.__RecordSeed(e,t,o)})},t.__RecordSeed=function(e,t,o){this.dataCache.RecordSeed(e,o),ii.UIMgr.ins.ShowMsg("Record seed success!"),t()},t.TryUseCoinToPlaySeed=function(){return this.dataCache.coinBV.v>=10?(this.dataCache.ChangeCoins(-10),!0):(ii.UIMgr.ins.ShowMsg("solitaire.need_coins_to_play_the_seed","10"),!1)},t.UseHint=function(e){e.HasOperationHint()?(e.isHintedBV.v=!0,this.emitGlobal(r.SolitaireJu.event.EVENT_LEVEL_MODEL_USING_HINT)):ii.UIMgr.ins.ShowMsg("solitaire.no_hint")},t.UseAutoPlayer=function(e){var t=this;if(e.isHelpedBV.v)e.isPlayerOpenedBV.v=!0;else{var o=function(){--t.dataCache.helpBV.v,e.OnUseHelp()};this.dataCache.helpBV.v>0?o():this.WatchAD(ii.LangUtil.Get("solitaire.watch_ad_to_reward_help"),function(){++t.dataCache.helpBV.v,o()})}},t.HandleGameWin=function(e,t){this.dataCache.HandleGameWin(e),ii.Util.safeCall(t)},t.WATCH_AD_REWARDED_COINS=30,t}(ii.Logic);o.SolitaireLogic=s,cc._RF.pop()},{"../Game/Model/SolitaireJu":"SolitaireJu","../SolitaireCfg":"SolitaireCfg"}],SolitaireMenuUIPanel:[function(e,t,o){"use strict";cc._RF.push(t,"46d16KkemFN3r880bPDgQpP","SolitaireMenuUIPanel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<o;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../Logic/SolitaireLogic"),c=e("../SolitaireAudioCfg"),p=e("../SolitaireEnums"),l=e("../SolitairePrefabCfg"),u=cc._decorator,h=u.ccclass,_=u.property,f=function(){function e(){this._difficulty=p.EGameType.EASY,this.resumeNode=null,this._scoreLabel=null}return Object.defineProperty(e.prototype,"ResumeNode",{get:function(){return this.resumeNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ScoreLabel",{get:function(){return this._scoreLabel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Difficulty",{get:function(){return this._difficulty},enumerable:!1,configurable:!0}),r([_({type:cc.Enum(p.EGameType),visible:!0})],e.prototype,"_difficulty",void 0),r([_({type:cc.Node,visible:!0})],e.prototype,"resumeNode",void 0),r([_({type:cc.Label,visible:!0})],e.prototype,"_scoreLabel",void 0),r([h("MenuResumeItem")],e)}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._playActionNode=null,t._toggleActionNode=null,t._toggleVegas=null,t._toggleCards3=null,t._resumeNodeList=[],t}return n(t,e),t.prototype.OnCreate=function(){this.SetUserData("K_POS_PLAY",this._playActionNode.position),this.SetUserData("K_POS_TOGGLE",this._toggleActionNode.position)},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnPlayEasy",this.OnPlay.bind(this,p.EGameType.EASY),!0),this.SetIIClickHandler("OnPlayHard",this.OnPlay.bind(this,p.EGameType.HARD),!0),this.SetIIClickHandler("OnPlayRecord",this.OnClickPlayRecord.bind(this)),this.SetIIClickHandler("OnPlayResumeEasy",this.OnPlayResume.bind(this,p.EGameType.EASY),!0),this.SetIIClickHandler("OnPlayResumeHard",this.OnPlayResume.bind(this,p.EGameType.HARD),!0),this.SetIIClickHandler("OnPlayResumeRecord",this.OnPlayResume.bind(this,p.EGameType.SEED),!0),this.SetIIClickHandler("OnOptions",this.OnOptions.bind(this)),this.SetIIClickHandler("OnVegas",function(){return s.SolitaireLogic.dataCache.vegasModeBV.v=!s.SolitaireLogic.dataCache.vegasModeBV.v}),this.SetIIClickHandler("OnCards3",function(){return s.SolitaireLogic.dataCache.cards3ModeBV.v=!s.SolitaireLogic.dataCache.cards3ModeBV.v}),this.BindBV(s.SolitaireLogic.dataCache.vegasModeBV,function(t){e.UpdateResumeStatus();var o=t?30:-30;cc.tween(e._toggleVegas).to(.2,{position:cc.v3(o,0,0)}).start()},!0),this.BindBV(s.SolitaireLogic.dataCache.cards3ModeBV,function(t){e.UpdateResumeStatus();var o=t?30:-30;cc.tween(e._toggleCards3).to(.2,{position:cc.v3(o,0,0)}).start()},!0),this.RunSwitchPlayUIAction(!0,.4)},t.prototype.RunSwitchPlayUIAction=function(e,t,o){e&&ii.AudioMgr.ins.PlayEffect(c.SolitaireAudioCfg.effect.move),ii.UIUtil.moveAction(this._playActionNode,e,this.GetUserData("K_POS_PLAY"),t),ii.UIUtil.moveAction(this._toggleActionNode,e,this.GetUserData("K_POS_TOGGLE"),t,o)},t.prototype.UpdateResumeStatus=function(){var e=s.SolitaireLogic.dataCache.vegasModeBV.v,t=s.SolitaireLogic.dataCache.cards3ModeBV.v;this._resumeNodeList.forEach(function(o){var i=s.SolitaireLogic.dataCache.HasSnapData(e,t,o.Difficulty);if(o.ResumeNode.active=i,i){var n=s.SolitaireLogic.dataCache.ReadSnapData(e,t,o.Difficulty);null!=n&&(o.ScoreLabel.string=""+n.score)}})},t.prototype.OnPlay=function(e){var t=this;this.PreLoadSkinRes(function(){ii.UIMgr.ins.Open(l.SolitairePrefabCfg.pfb.panel.SolitaireGameUIPanel.key,{gameType:e,resume:!1,vegas:s.SolitaireLogic.dataCache.vegasModeBV.v,card3:s.SolitaireLogic.dataCache.cards3ModeBV.v},function(){return t.Close()})})},t.prototype.OnPlayResume=function(e){var t=this;this.PreLoadSkinRes(function(){ii.UIMgr.ins.Open(l.SolitairePrefabCfg.pfb.panel.SolitaireGameUIPanel.key,{gameType:e,resume:!0,vegas:s.SolitaireLogic.dataCache.vegasModeBV.v,card3:s.SolitaireLogic.dataCache.cards3ModeBV.v},function(){return t.Close()})})},t.prototype.OnClickPlayRecord=function(){var e=this;this.PreLoadSkinRes(function(){ii.UIMgr.ins.Open(l.SolitairePrefabCfg.pfb.panel.SolitaireSeedListUIPanel.key,{vegas:s.SolitaireLogic.dataCache.vegasModeBV.v,card3:s.SolitaireLogic.dataCache.cards3ModeBV.v,OnSelect:function(t,o,i){ii.UIMgr.ins.Open(l.SolitairePrefabCfg.pfb.panel.SolitaireGameUIPanel.key,{gameType:p.EGameType.SEED,resume:!1,vegas:o,card3:i,markSeed:t},function(){return e.Close()})}})})},t.prototype.OnOptions=function(){ii.UIMgr.ins.Open(l.SolitairePrefabCfg.pfb.panel.SolitaireOptionsUIPanel.key)},t.prototype.PreLoadSkinRes=function(e){s.SolitaireLogic.skin.IsInitSkinChanged()?this.LoadResList(a(s.SolitaireLogic.skin.GetPreloadResList()),e):e()},r([_({type:cc.Node,visible:!0})],t.prototype,"_playActionNode",void 0),r([_({type:cc.Node,visible:!0})],t.prototype,"_toggleActionNode",void 0),r([_({type:cc.Node,visible:!0})],t.prototype,"_toggleVegas",void 0),r([_({type:cc.Node,visible:!0})],t.prototype,"_toggleCards3",void 0),r([_({type:f,visible:!0})],t.prototype,"_resumeNodeList",void 0),r([h],t)}(ii.UIPanel);o.default=d,cc._RF.pop()},{"../Logic/SolitaireLogic":"SolitaireLogic","../SolitaireAudioCfg":"SolitaireAudioCfg","../SolitaireEnums":"SolitaireEnums","../SolitairePrefabCfg":"SolitairePrefabCfg"}],SolitaireOptionsUIPanel:[function(e,t,o){"use strict";cc._RF.push(t,"0d732d9cqlPW6jHTUj14/kg","SolitaireOptionsUIPanel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Logic/SolitaireLogic"),s=e("../SolitairePrefabCfg"),c=e("../_Public/Component/UISettingToggle"),p=e("../_Public/SolitaireActionUIPanel"),l=cc._decorator,u=l.ccclass,h=l.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.musicToggle=null,t.soundToggle=null,t.vibrateToggle=null,t.leftHandToggle=null,t._removeAdsHourLabel=null,t._removeAdsButton=null,t.REMOVE_HOURS=8,t}return n(t,e),t.prototype.OnCreate=function(){var t=this;e.prototype.OnCreate.call(this),this.musicToggle.Init(!ii.AudioMgr.ins.musicOffBV.v,function(e){return ii.AudioMgr.ins.musicOffBV.v=!e}),this.soundToggle.Init(!ii.AudioMgr.ins.effectOffBV.v,function(e){return ii.AudioMgr.ins.effectOffBV.v=!e}),this.vibrateToggle.Init(!ii.App.ins.p.vibrate.off.v,function(e){ii.App.ins.p.vibrate.off.v=!e,e&&ii.App.ins.p.vibrate.Default()}),this.leftHandToggle.Init(a.SolitaireLogic.dataCache.leftHandBV.v,function(e){return a.SolitaireLogic.dataCache.leftHandBV.v=e}),this.SetIIClickHandler("OnBack",this.OnBack.bind(this)),this.SetIIClickHandler("OnStatistics",this.OnStatistics.bind(this)),this.SetIIClickHandler("OnHowToPlay",this.OnHowToPlay.bind(this)),this.SetIIClickHandler("OnGameCenter",function(){return ii.App.ins.p.user.ShowDefaultLeaderboard()}),this.SetIIClickHandler("OnRateGame",function(){return ii.App.ins.p.user.RateUsByOpenUrl()}),this.SetIIClickHandler("OnRemoveAds",function(){a.SolitaireLogic.WatchAD("Watch video to remove ADs for "+t.REMOVE_HOURS+" hours",function(){ii.App.ins.p.ad.RemoveAdsForSeconds(3600*t.REMOVE_HOURS)})}),this.BindBV(ii.App.ins.p.ad.RemoveAdsSecondsBV,function(e){t._removeAdsHourLabel.string=e>0?""+ii.date.Format(e):"No ADs For "+t.REMOVE_HOURS+" Hours",t._removeAdsButton.interactable=0===e},!0)},t.prototype.OnEnter=function(){},t.prototype.OnBack=function(){this.ExitWithAction(this.Close.bind(this),!1)},t.prototype.OnHowToPlay=function(){ii.UIMgr.ins.Open(s.SolitairePrefabCfg.pfb.panel.SolitaireHowToPlayUIPanel.key),this.ExitWithAction(function(){},!0)},t.prototype.OnStatistics=function(){ii.UIMgr.ins.Open(s.SolitairePrefabCfg.pfb.panel.SolitaireStatisticsUIPanel.key),this.ExitWithAction(function(){},!0)},r([h(c.default)],t.prototype,"musicToggle",void 0),r([h(c.default)],t.prototype,"soundToggle",void 0),r([h(c.default)],t.prototype,"vibrateToggle",void 0),r([h(c.default)],t.prototype,"leftHandToggle",void 0),r([h({type:cc.Label,visible:!0})],t.prototype,"_removeAdsHourLabel",void 0),r([h({type:cc.Button,visible:!0})],t.prototype,"_removeAdsButton",void 0),r([u],t)}(p.default);o.default=_,cc._RF.pop()},{"../Logic/SolitaireLogic":"SolitaireLogic","../SolitairePrefabCfg":"SolitairePrefabCfg","../_Public/Component/UISettingToggle":"UISettingToggle","../_Public/SolitaireActionUIPanel":"SolitaireActionUIPanel"}],SolitairePokerDisplayUI:[function(e,t,o){"use strict";cc._RF.push(t,"8b4f94cbHFHmos3caJZTr81","SolitairePokerDisplayUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../SolitaireAutoAtlasCfg"),s=e("../../SolitaireEnums"),c=e("../../SolitaireSpriteFrameCfg"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skinSprite=null,t._pointSprite=null,t._suitSprite=null,t._smallSuitSprite=null,t.m_Status=s.EPokerStatus.CLOSE,t.m_Point=0,t.m_Suit=s.ESuit.HEITAO,t.m_backSkin={kind:"classic",index:0},t.m_frontSkin=0,t.m_FaceSkin=0,t}return n(t,e),Object.defineProperty(t.prototype,"backSkin",{get:function(){return this.m_backSkin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frontSkin",{get:function(){return this.m_frontSkin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skin",{get:function(){return this.m_FaceSkin},enumerable:!1,configurable:!0}),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){this.m_Point=this.args.point,this.m_Suit=this.args.suit,this.m_backSkin.kind=this.args.backSkin.kind,this.m_backSkin.index=this.args.backSkin.index,this.m_frontSkin=this.args.frontSkin,this.m_FaceSkin=this.args.faceSkin,this.m_Status=this.args.status,this.setStatus(this.m_Status),this.__RefreshPointTexture(),this.__RefreshSuitSkinTexture()},t.prototype.__RefreshPointTexture=function(){var e=this;this.m_Suit===s.ESuit.HEITAO||this.m_Suit===s.ESuit.MEIHUA?this.LoadRes(a.SolitaireAutoAtlasCfg.getBlackPointSpriteFrameUrl(this.m_FaceSkin,this.m_Point),function(t){return e._pointSprite.spriteFrame=e.SetAssetProperty("FACE_SKIN",t)},!1,this.UUID_GROUP_KEY("FACE_SKIN")):this.LoadRes(a.SolitaireAutoAtlasCfg.getRedPointSpriteFrameUrl(this.m_FaceSkin,this.m_Point),function(t){return e._pointSprite.spriteFrame=e.SetAssetProperty("FACE_SKIN",t)},!1,this.UUID_GROUP_KEY("FACE_SKIN"))},t.prototype.__RefreshSuitSkinTexture=function(){var e=this;this.LoadRes(a.SolitaireAutoAtlasCfg.getFaceSuitSpritFrameUrl(this.m_FaceSkin,this.m_Suit),function(t){return e._smallSuitSprite.spriteFrame=e.SetAssetProperty("SMALL_SUIT_SKIN",t)},!1,this.UUID_GROUP_KEY("SMALL_SUIT_SKIN")),this.m_Point>=11?this.LoadRes(a.SolitaireAutoAtlasCfg.getJQKSpriteFrameUrl(this.m_FaceSkin,this.m_Suit,this.m_Point),function(t){return e._suitSprite.spriteFrame=e.SetAssetProperty("SUIT_SKIN",t)},!1,this.UUID_GROUP_KEY("SUIT_SKIN")):this.LoadRes(a.SolitaireAutoAtlasCfg.getFaceSuitSpritFrameUrl(this.m_FaceSkin,this.m_Suit),function(t){return e._suitSprite.spriteFrame=e.SetAssetProperty("SUIT_SKIN",t)},!1,this.UUID_GROUP_KEY("SUIT_SKIN"))},t.prototype.setStatus=function(e){var t=this;this.m_Status=e,e==s.EPokerStatus.CLOSE?(this._pointSprite.node.active=!1,this._suitSprite.node.active=!1,this._smallSuitSprite.node.active=!1,this.LoadRes(c.SolitaireSpriteFrameCfg.pokerBackUrl(this.m_backSkin),function(e){return t._skinSprite.spriteFrame=t.SetAssetProperty("SKIN",e)},!1,this.UUID_GROUP_KEY("SKIN"))):(this._pointSprite.node.active=!0,this._suitSprite.node.active=!0,this._smallSuitSprite.node.active=!0,this.LoadRes(c.SolitaireSpriteFrameCfg.pokerFrontUrl(this.m_frontSkin),function(e){return t._skinSprite.spriteFrame=t.SetAssetProperty("SKIN",e)},!1,this.UUID_GROUP_KEY("SKIN")))},t.prototype.Init=function(e,t,o){return this.m_backSkin=t,this.m_frontSkin=o,this.m_FaceSkin=e,this.__RefreshPointTexture(),this.__RefreshSuitSkinTexture(),this.setStatus(this.m_Status),this},t.prototype.setSkin=function(e){this.setFaceSkin(e.faceSkin),this.setFrontSkin(e.frontSkin),this.setBackSkin(e.backSkin),this.__RefreshPointTexture(),this.__RefreshSuitSkinTexture(),this.setStatus(this.m_Status)},t.prototype.setFaceSkin=function(e){this.m_FaceSkin!==e&&(this.m_FaceSkin=e,this.__RefreshPointTexture(),this.__RefreshSuitSkinTexture(),null!==this.m_Status&&this.setStatus(this.m_Status))},t.prototype.setFrontSkin=function(e){this.m_frontSkin=e,null!==this.m_Status&&this.setStatus(this.m_Status)},t.prototype.setBackSkin=function(e){this.m_backSkin=e,null!==this.m_Status&&this.setStatus(this.m_Status)},t.prototype.Refresh=function(e,t,o){this.m_Status=e,this.m_Point=o,this.m_Suit=t,this.__RefreshPointTexture(),this.__RefreshSuitSkinTexture(),this.setStatus(this.m_Status)},r([u({type:cc.Sprite,visible:!0})],t.prototype,"_skinSprite",void 0),r([u({type:cc.Sprite,visible:!0})],t.prototype,"_pointSprite",void 0),r([u({type:cc.Sprite,visible:!0})],t.prototype,"_suitSprite",void 0),r([u({type:cc.Sprite,visible:!0})],t.prototype,"_smallSuitSprite",void 0),r([l],t)}(ii.UIComp);o.default=h,cc._RF.pop()},{"../../SolitaireAutoAtlasCfg":"SolitaireAutoAtlasCfg","../../SolitaireEnums":"SolitaireEnums","../../SolitaireSpriteFrameCfg":"SolitaireSpriteFrameCfg"}],SolitairePrefabCfg:[function(e,t,o){"use strict";cc._RF.push(t,"90cdbMcEpNOq6fKMGEwFqvT","SolitairePrefabCfg"),Object.defineProperty(o,"__esModule",{value:!0}),o.SolitairePrefabCfg=void 0;var i=function(){function e(){}return e.Register=function(e){console.info("SolitairePrefabCfg::Register("+e+") >> \u6ce8\u518c Prefab \u8d44\u6e90"),ii.registerPrefabCfg(this.pfb,e)},e.pfb={panel:{LoadingADUIPanel:{key:"_p/LoadingADUIPanel",z:ii.UIZIndex.PopUp},SolitaireMenuUIPanel:{key:"Menu/SolitaireMenuUIPanel",z:ii.UIZIndex.Normal},SolitaireOptionsUIPanel:{key:"Options/SolitaireOptionsUIPanel",z:ii.UIZIndex.PopUp},SolitaireStatisticsUIPanel:{key:"Statistics/SolitaireStatisticsUIPanel",z:ii.UIZIndex.PopUp},SolitaireThemesUIPanel:{key:"Themes/SolitaireThemesUIPanel",z:ii.UIZIndex.PopUp},SolitaireHowToPlayUIPanel:{key:"HowToPlay/SolitaireHowToPlayUIPanel",z:ii.UIZIndex.PopUp},SolitaireGameUIPanel:{key:"Game/SolitaireGameUIPanel",z:ii.UIZIndex.Normal},UINewGame:{key:"Game/UINewGame",z:ii.UIZIndex.PopUp},UIGameWin:{key:"Game/UIGameWin",z:ii.UIZIndex.PopUp},UIGameLose:{key:"Game/UIGameLose",z:ii.UIZIndex.PopUp},SolitaireSeedListUIPanel:{key:"Seed/SolitaireSeedListUIPanel",z:ii.UIZIndex.PopUp}},comp:{SolitaireUICoin:{key:"_p/SolitaireUICoin"},SolitaireUICoinLabel:{key:"_p/SolitaireUICoinLabel"},SolitaireGameDesktopUI:{key:"Game/SolitaireGameDesktopUI"},SolitaireGameTopInfoUI:{key:"Game/SolitaireGameTopInfoUI"},SolitaireGameBottomMenuUI:{key:"Game/SolitaireGameBottomMenuUI"},SolitairePokerDisplayUI:{key:"Game/SolitairePokerDisplayUI"},UIPoker:{key:"Game/UIPoker"},UIHintMgr:{key:"Game/UIHintMgr"},UIHint:{key:"Game/UIHint"},UIStatisticsPage:{key:"Statistics/UIStatisticsPage"},SolitaireThemesSelfSkinUI:{key:"Themes/SolitaireThemesSelfSkinUI"},SolitaireThemesSelfSkinItemUI:{key:"Themes/SolitaireThemesSelfSkinItemUI"},SolitaireThemesContentsUI:{key:"Themes/SolitaireThemesContentsUI"},SolitaireThemesEffectUI:{key:"Themes/SolitaireThemesEffectUI"},SolitaireThemesEffectColumnUI:{key:"Themes/SolitaireThemesEffectColumnUI"},UIThemeMenuContentPokerBack:{key:"Themes/UIThemeMenuContentPokerBack"},UIThemeMenuContentPokerBackKindItem:{key:"Themes/UIThemeMenuContentPokerBackKindItem"},UIThemeMenuContentPokerBackKindSubItem:{key:"Themes/UIThemeMenuContentPokerBackKindSubItem"},UIThemeMenuContentPokerFace:{key:"Themes/UIThemeMenuContentPokerFace"},UIThemeMenuContentPokerFaceItem:{key:"Themes/UIThemeMenuContentPokerFaceItem"},UIThemeMenuContentBoards:{key:"Themes/UIThemeMenuContentBoards"},UIThemeMenuContentBoardsBackgroundColorItem:{key:"Themes/UIThemeMenuContentBoardsBackgroundColorItem"},UIThemeMenuContentBoardsPatternItem:{key:"Themes/UIThemeMenuContentBoardsPatternItem"},SolitaireSeedListItemUI:{key:"Seed/SolitaireSeedListItemUI"}}},e}();o.SolitairePrefabCfg=i,cc._RF.pop()},{}],SolitaireSeedListItemUI:[function(e,t,o){"use strict";cc._RF.push(t,"31185IfCO5BXYOMBqXQ8SF4","SolitaireSeedListItemUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._label=null,t._gameTypeSprite=null,t._passNode=null,t._notPassNode=null,t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){this.SetIIClickHandler("OnPlay",this.OnPlay.bind(this),!0),this.SetIIClickHandler("OnRemove",this.OnRemove.bind(this)),this.RefreshUI_SetPass(this.args.markSeed.st>0),this.args.markSeed.st>0?this._label.string="Seed: "+this.args.markSeed.s+" Steps: "+this.args.markSeed.st:this._label.string="Seed: "+this.args.markSeed.s,this._gameTypeSprite.spriteFrame=this.args.spriteFrames[this.args.markSeed.t]},t.prototype.RefreshUI_SetPass=function(e){this._passNode.active=e,this._notPassNode.active=!e},t.prototype.OnPlay=function(){this.args.OnPlay(this.args.markSeed)},t.prototype.OnRemove=function(){this.args.OnRemove(this.args.markSeed,this)},r([c({type:cc.Label,visible:!0})],t.prototype,"_label",void 0),r([c({type:cc.Sprite,visible:!0})],t.prototype,"_gameTypeSprite",void 0),r([c({type:cc.Node,visible:!0})],t.prototype,"_passNode",void 0),r([c({type:cc.Node,visible:!0})],t.prototype,"_notPassNode",void 0),r([s],t)}(ii.UIComp);o.default=p,cc._RF.pop()},{}],SolitaireSeedListUIPanel:[function(e,t,o){"use strict";cc._RF.push(t,"2839ec0GXpL75Mhe5uYFkyS","SolitaireSeedListUIPanel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Logic/SolitaireLogic"),s=e("../SolitairePrefabCfg"),c=e("../_Public/SolitaireActionUIPanel"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._layout=null,t._noSeedsNode=null,t._spriteFrames=[],t._watchADDisplayRoot=null,t._watchADEnableNode=null,t._watchADDisableNode=null,t._coinContainer=null,t.m_UICoinLabel=null,t.m_ItemList=null,t}return n(t,e),t.prototype.OnCreate=function(){var t=this;e.prototype.OnCreate.call(this),this.m_ItemList=ii.AnyQueue.Borrow(),this.SetIIClickHandler("OnBack",this.OnBack.bind(this)),this.SetIIClickHandler("OnWatchADNo",this.OnWatchAD.bind(this)),this.SetIIClickHandler("OnWatchADYes",this.OnWatchAD.bind(this)),this.m_UICoinLabel=ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.SolitaireUICoinLabel.key,{coins:a.SolitaireLogic.dataCache.coinBV.v},this._coinContainer).CloseBy(this),this._watchADDisplayRoot.active=ii.App.ins.p.ad.IsSupport(),this._coinContainer.active=ii.App.ins.p.ad.IsSupport(),this.BindBV(ii.App.ins.p.ad.RewardedVideoBV,function(e){t._watchADEnableNode.active=e,t._watchADDisableNode.active=!e},!0)},t.prototype.OnRelease=function(){this.m_ItemList.RemoveAll(function(e){return e.Close()}),this.m_ItemList.Return(),this.m_ItemList=null,e.prototype.OnRelease.call(this)},t.prototype.OnEnter=function(){var e=this;a.SolitaireLogic.dataCache.GetMarkSeedsList(this.args.vegas,this.args.card3).forEach(function(t){e.m_ItemList.Enqueue(ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.SolitaireSeedListItemUI.key,{markSeed:t,OnPlay:function(t){e.OnPlay(t)},OnRemove:function(t,o){e.OnRemove(t,o)},spriteFrames:e._spriteFrames},e._layout.node))}),this.RefreshUI()},t.prototype.OnBack=function(){var e=this;this.ExitWithAction(function(){e.Close()},!1)},t.prototype.OnWatchAD=function(){var e=this;a.SolitaireLogic.WatchToRewardCoins(function(t){e.m_UICoinLabel.PlayEffect(t,e._watchADEnableNode.convertToWorldSpaceAR(cc.Vec3.ZERO))})},t.prototype.OnPlay=function(e){var t=this;ii.UIMgr.ins.OpenDialog2("Cost 5 coins to play level of seed: "+e.s+" ?",null,function(){if(a.SolitaireLogic.TryUseCoinToPlaySeed()){var o=t.args.vegas,i=t.args.card3,n=t.args.OnSelect;t.ExitWithAction(function(){n(e,o,i)})}else t.OnWatchAD()})},t.prototype.OnRemove=function(e,t){var o=this;ii.UIMgr.ins.OpenDialog2("Are you sure to remove the seed: "+e.s+" ?",null,function(){var i=a.SolitaireLogic.dataCache.RemoveSeed(o.args.vegas,o.args.card3,e);console.assert(i,"\u65e0\u6cd5\u79fb\u9664\u79cd\u5b50\uff01"),o.m_ItemList.Remove(function(e){return e===t},function(e){return e.Close()}),o.RefreshUI()})},t.prototype.RefreshUI=function(){var e=a.SolitaireLogic.dataCache.GetMarkSeedsList(this.args.vegas,this.args.card3);this._noSeedsNode.active=0===e.length},r([u({type:cc.Layout,visible:!0})],t.prototype,"_layout",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_noSeedsNode",void 0),r([u({type:[cc.SpriteFrame],visible:!0})],t.prototype,"_spriteFrames",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_watchADDisplayRoot",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_watchADEnableNode",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_watchADDisableNode",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_coinContainer",void 0),r([l],t)}(c.default);o.default=h,cc._RF.pop()},{"../Logic/SolitaireLogic":"SolitaireLogic","../SolitairePrefabCfg":"SolitairePrefabCfg","../_Public/SolitaireActionUIPanel":"SolitaireActionUIPanel"}],SolitaireSkinDataCache:[function(e,t,o){"use strict";cc._RF.push(t,"254cfI1scNDb5ilKh97OfZb","SolitaireSkinDataCache");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireSkinDataCache=void 0;var r=e("../SolitaireAutoAtlasCfg"),a=e("../SolitaireSpriteFrameCfg"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MaxSkinLength=4,t.initSkin=null,t.skinIndexBV=null,t.skinBV=null,t.unlockBV=null,t}return n(t,e),Object.defineProperty(t.prototype,"LSKey",{get:function(){return"ls_solitaire_skin_v1"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DefaultLSData",{get:function(){return{skinIndex:0,skinList:[{faceSkin:0,bgSkin:0,bgPatternSkin:-1,backSkin:{kind:"classic",index:0},frontSkin:0},{faceSkin:1,bgSkin:1,bgPatternSkin:0,backSkin:{kind:"classic",index:1},frontSkin:0},{faceSkin:2,bgSkin:2,bgPatternSkin:1,backSkin:{kind:"classic",index:2},frontSkin:0},{faceSkin:3,bgSkin:3,bgPatternSkin:2,backSkin:{kind:"classic",index:3},frontSkin:0}],unlock:{start:0,end:0}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SkinList",{get:function(){return this.data.skinList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsMaxSkinLength",{get:function(){return this.data.skinList.length>=this.MaxSkinLength},enumerable:!1,configurable:!0}),t.prototype.GetSkin=function(e){return this.data.skinList[e]},t.prototype.OnRegister=function(){var e=this;this.skinIndexBV=ii.NumberBV.Borrow(this.data.skinIndex).ReturnBy(this).Bind(function(t){e.data.skinIndex=t,e.skinBV.v=e.data.skinList[t]},!1,this),this.skinBV=ii.ObjectBV.Borrow(this.data.skinList[this.data.skinIndex]).ReturnBy(this),this.unlockBV=ii.BooleanBV.Borrow(!1).ReturnBy(this),this.initSkin=this.CloneSkin(this.skinBV.v)},t.prototype.OnUnRegister=function(){},t.prototype.GetPreloadResList=function(){var e=[],t=this.skinBV.v;e.push(a.SolitaireSpriteFrameCfg.bgSkinUrl(t.bgSkin)),e.push(a.SolitaireSpriteFrameCfg.pokerBackUrl(t.backSkin)),e.push(a.SolitaireSpriteFrameCfg.pokerFrontUrl(t.frontSkin));for(var o=t.faceSkin,i=1;i<=13;++i)e.push(r.SolitaireAutoAtlasCfg.getBlackPointSpriteFrameUrl(o,i)),e.push(r.SolitaireAutoAtlasCfg.getRedPointSpriteFrameUrl(o,i));for(var n=0;n<4;++n)e.push(r.SolitaireAutoAtlasCfg.getFaceSuitSpritFrameUrl(o,n));for(i=11;i<=13;++i)for(n=0;n<4;++n)e.push(r.SolitaireAutoAtlasCfg.getJQKSpriteFrameUrl(o,n,i));return e},t.prototype.ExtendSkinList=function(e){console.assert(!this.IsMaxSkinLength),this.data.skinList.push(this.Random({faceSkin:0,bgSkin:0,bgPatternSkin:-1,backSkin:{kind:"classic",index:0},frontSkin:0})),this.markDirty(0),e(this.SkinList.length-1)},t.prototype.SelectSkinIndex=function(e){this.skinIndexBV.v=e,this.markDirty(1)},t.prototype.SaveSkin=function(e,t){this.data.skinList[e]=this.CloneSkin(t),this.skinIndexBV.v===e&&(this.skinBV.v=this.data.skinList[e]),this.markDirty(1)},t.prototype.CloneSkin=function(e){return{faceSkin:e.faceSkin,bgSkin:e.bgSkin,bgPatternSkin:e.bgPatternSkin,backSkin:{kind:e.backSkin.kind,index:e.backSkin.index},frontSkin:e.frontSkin}},t.prototype.IsInitSkinChanged=function(){return this.IsSkinChanged(this.initSkin,this.skinBV.v)},t.prototype.IsSkinChanged=function(e,t){return!this.__IsSameSkin(e,t)},t.prototype.__IsSameSkin=function(e,t){return e.faceSkin==t.faceSkin&&e.bgSkin==t.bgSkin&&e.bgPatternSkin==t.bgPatternSkin&&e.backSkin.kind==t.backSkin.kind&&e.backSkin.index==t.backSkin.index&&e.frontSkin==t.frontSkin},t.prototype.Random=function(e){e.bgSkin=this.getRandIndex(a.SolitaireSpriteFrameCfg.bgSkinLength,e.bgSkin),e.bgPatternSkin=this.getRandIndex(a.SolitaireSpriteFrameCfg.bgPatternSkinLength,e.bgPatternSkin),e.faceSkin=this.getRandIndex(r.SolitaireAutoAtlasCfg.FaceSkinCnt,e.faceSkin);for(var t=e.backSkin.kind,o=e.backSkin.index,i=a.SolitaireSpriteFrameCfg.pokerBackKindCfg,n=0;n<i.length;++n)if(i[n].kind==t)return o<i[n].count-1?(e.backSkin.index+=1,e):(e.backSkin.kind=i[(n+1)%i.length].kind,e.backSkin.index=0,e);return e},t.prototype.getRandIndex=function(e,t){return e<=1?t:ii.rand.IntBetween(0,e)%e},t}(ii.LSDataCache);o.SolitaireSkinDataCache=s,cc._RF.pop()},{"../SolitaireAutoAtlasCfg":"SolitaireAutoAtlasCfg","../SolitaireSpriteFrameCfg":"SolitaireSpriteFrameCfg"}],SolitaireSpriteFrameCfg:[function(e,t,o){"use strict";cc._RF.push(t,"d2735T8KdBA0oM8Q3bXkvGu","SolitaireSpriteFrameCfg"),Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireSpriteFrameCfg=void 0;var i=function(){function e(){}return e.__AddKey=function(e){this._sp[e]=e},Object.defineProperty(e,"sp",{get:function(){var e=this;if(null===this._sp){this._sp={},this.pokerBackKindCfg.forEach(function(t){for(var o=0;o<t.count;++o)e.__AddKey(e.__pokerBackUrl(t.kind,o))});for(var t=0;t<this.pokerFrontLength;++t)this.__AddKey(this.pokerFrontUrl(t));for(t=0;t<this.bgSkinLength;++t)this.__AddKey(this.bgSkinUrl(t));for(t=0;t<this.bgPatternSkinLength;++t)this.__AddKey(this.bgPatternSkinUrl(t)),this.__AddKey(this.bgPatternPreviewSkinUrl(t))}return this._sp},enumerable:!1,configurable:!0}),e.Register=function(e){console.info("SolitaireSpriteFrameCfg::Register("+e+") >> \u6ce8\u518c SpriteFrame \u8d44\u6e90"),ii.registerResDict(this.sp,e,ii.EResType.SpriteFrame)},e.bgSkinUrl=function(e){return"skin_bg/skin_bg_"+e},e.bgPatternSkinUrl=function(e){return"skin_bg_pattern/skin_bg_pattern_"+e},e.bgPatternPreviewSkinUrl=function(e){return"skin_bg_pattern_preview/skin_bg_pattern_preview_"+e},e.__pokerBackUrl=function(e,t){return"poker_bg/poker_"+e+"_"+t},e.pokerBackUrl=function(e){return this.__pokerBackUrl(e.kind,e.index)},e.pokerFrontUrl=function(e){return"poker_front/poker_front_"+e},e.getFaceSuitSpritFrameUrl=function(e,t){return"AutoAtlas/p_face/p_face_"+e+"_"+t},e.getJQKSpriteFrameUrl=function(e,t,o){return"AutoAtlas/p_face_point/p_face_point_"+e+"_"+t+"_"+o},e.getBlackPointSpriteFrameUrl=function(e,t){return"AutoAtlas/p_num/p_num_"+e+"_b_"+t},e.getRedPointSpriteFrameUrl=function(e,t){return"AutoAtlas/p_num/p_num_"+e+"_r_"+t},e._sp=null,e.bgSkinLength=27,e.bgPatternSkinLength=14,e.pokerBackKindCfg=[{kind:"classic",count:10},{kind:"animals",count:10},{kind:"artistic",count:10},{kind:"christmas",count:10},{kind:"food",count:10},{kind:"natural",count:10},{kind:"novel",count:10},{kind:"pattern",count:10},{kind:"snow",count:10},{kind:"sporty",count:10}],e.pokerFrontLength=2,e}();o.SolitaireSpriteFrameCfg=i,cc._RF.pop()},{}],SolitaireStage:[function(e,t,o){"use strict";cc._RF.push(t,"9a548vlMWdMK6N371fcjjRt","SolitaireStage");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<o;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./DataCache/SolitaireAutoPlayerDataCache"),c=e("./DataCache/SolitaireDataCache"),p=e("./DataCache/SolitaireSkinDataCache"),l=e("./Logic/SolitaireLogic"),u=e("./SolitaireAudioCfg"),h=e("./SolitaireAutoAtlasCfg"),_=e("./SolitaireCfg"),f=e("./SolitaireJsonCfg"),d=e("./SolitaireLangCfg"),S=e("./SolitairePrefabCfg"),y=e("./SolitaireSpriteFrameCfg"),O=cc._decorator,v=O.ccclass,P=(O.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.GetDefaultEffectAudioKey=function(){return u.SolitaireAudioCfg.effect.default},t.prototype.OnInit=function(e){console.info("Solitaire::OnInit"),u.SolitaireAudioCfg.Register(_.SolitaireCfg.BUNDLE_NAME),d.SolitaireLangCfg.Register(_.SolitaireCfg.BUNDLE_NAME),f.SolitaireJsonCfg.Register(_.SolitaireCfg.BUNDLE_NAME),S.SolitairePrefabCfg.Register(_.SolitaireCfg.BUNDLE_NAME),y.SolitaireSpriteFrameCfg.Register(_.SolitaireCfg.BUNDLE_NAME),h.SolitaireAutoAtlasCfg.Register(_.SolitaireCfg.BUNDLE_NAME),this.AddAutoReleaseDataCache(_.SolitaireCfg.SOLITAIRE_DATACACHE,c.SolitaireDataCache),this.AddAutoReleaseDataCache(_.SolitaireCfg.SOLITAIRE_SKIN_DATACACHE,p.SolitaireSkinDataCache),this.AddAutoReleaseDataCache(_.SolitaireCfg.SOLITAIRE_AUTOPLAYER_DATACACHE,s.SolitaireAutoPlayerDataCache),this.LoadResList(a(ii.resDict2ResKeyList(f.SolitaireJsonCfg.key),ii.resDict2ResKeyList(d.SolitaireLangCfg.lang),ii.prefabCfg2ResKeyList(S.SolitairePrefabCfg.pfb.comp),ii.resDict2ResKeyList(u.SolitaireAudioCfg.effect),l.SolitaireLogic.skin.GetPreloadResList()),function(){ii.AudioMgr.ins.playMusic(u.SolitaireAudioCfg.music.default),ii.UIMgr.ins.Open(S.SolitairePrefabCfg.pfb.panel.SolitaireMenuUIPanel.key,null,e)})},r([v],t)}(ii.UIStage));o.default=P,cc._RF.pop()},{"./DataCache/SolitaireAutoPlayerDataCache":"SolitaireAutoPlayerDataCache","./DataCache/SolitaireDataCache":"SolitaireDataCache","./DataCache/SolitaireSkinDataCache":"SolitaireSkinDataCache","./Logic/SolitaireLogic":"SolitaireLogic","./SolitaireAudioCfg":"SolitaireAudioCfg","./SolitaireAutoAtlasCfg":"SolitaireAutoAtlasCfg","./SolitaireCfg":"SolitaireCfg","./SolitaireJsonCfg":"SolitaireJsonCfg","./SolitaireLangCfg":"SolitaireLangCfg","./SolitairePrefabCfg":"SolitairePrefabCfg","./SolitaireSpriteFrameCfg":"SolitaireSpriteFrameCfg"}],SolitaireStatisticsUIPanel:[function(e,t,o){"use strict";cc._RF.push(t,"4c0d82i1dlDF4Seg17j9R/T","SolitaireStatisticsUIPanel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SolitairePrefabCfg"),s=e("../_Public/SolitaireActionUIPanel"),c=e("./UIStatisticsPage"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageView=null,t}return n(t,e),t.prototype.OnCreate=function(){e.prototype.OnCreate.call(this),this.SetIIClickHandler("OnBack",this.OnBack.bind(this)),this.SetIIClickHandler("OnReset",this.OnReset.bind(this))},t.prototype.OnRelease=function(){var t=this.pageView.getPages();for(this.pageView.removeAllPages();t.length>0;)t.pop().getComponent(c.default).Close();e.prototype.OnRelease.call(this)},t.prototype.OnEnter=function(){var e=this;this.scheduleOnce(function(){for(var t=0;t<2;++t)for(var o=0;o<2;++o){var i=ii.UIMgr.ins.Create(a.SolitairePrefabCfg.pfb.comp.UIStatisticsPage.key,{vegas:1===o,card3:1===t,width:e.pageView.node.width});e.pageView.addPage(i.node)}},0)},t.prototype.OnBack=function(){var e=this;this.ExitWithAction(function(){e.Close()},!1)},t.prototype.OnReset=function(){this.CurrentPage.Reset()},Object.defineProperty(t.prototype,"CurrentPage",{get:function(){var e=this.pageView.getCurrentPageIndex();return this.pageView.getPages()[e].getComponent(c.default)},enumerable:!1,configurable:!0}),r([u(cc.PageView)],t.prototype,"pageView",void 0),r([ii.Util.block(.2)],t.prototype,"OnReset",null),r([l],t)}(s.default);o.default=h,cc._RF.pop()},{"../SolitairePrefabCfg":"SolitairePrefabCfg","../_Public/SolitaireActionUIPanel":"SolitaireActionUIPanel","./UIStatisticsPage":"UIStatisticsPage"}],SolitaireTestData:[function(e,t,o){"use strict";cc._RF.push(t,"6a4c67k161C9Y2KUU9XmowH","SolitaireTestData"),Object.defineProperty(o,"__esModule",{value:!0}),o.SolitaireTestData=void 0;var i=e("../../SolitaireEnums");o.SolitaireTestData={data1:{receives:[[],[],[],[]],open:[],close:[],plays:[[[i.ESuit.HEITAO,1,i.EPokerStatus.OPEN]],[[i.ESuit.FANGKUAI,1,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,2,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,3,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,4,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,5,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,6,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,6,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,8,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,9,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,10,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,11,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,12,i.EPokerStatus.CLOSE],[i.ESuit.FANGKUAI,13,i.EPokerStatus.OPEN]],[[i.ESuit.MEIHUA,1,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,2,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,3,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,4,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,5,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,6,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,6,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,8,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,9,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,10,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,11,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,12,i.EPokerStatus.CLOSE],[i.ESuit.MEIHUA,13,i.EPokerStatus.OPEN]],[[i.ESuit.HONGXIN,1,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,2,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,3,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,4,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,5,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,6,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,6,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,8,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,9,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,10,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,11,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,12,i.EPokerStatus.CLOSE],[i.ESuit.HONGXIN,13,i.EPokerStatus.OPEN]],[[i.ESuit.HEITAO,2,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,3,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,4,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,5,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,6,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,6,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,8,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,9,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,10,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,11,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,12,i.EPokerStatus.CLOSE],[i.ESuit.HEITAO,13,i.EPokerStatus.OPEN]],[],[]]}},cc._RF.pop()},{"../../SolitaireEnums":"SolitaireEnums"}],SolitaireThemesContentsUI:[function(e,t,o){"use strict";cc._RF.push(t,"9ec68YEO/tAN7BJ10qZeYol","SolitaireThemesContentsUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Logic/SolitaireLogic"),s=e("../SolitairePrefabCfg"),c=e("./UIThemeMenuItem"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resetRoot=null,t._themeEffectRoot=null,t.menuContentRoot=null,t.menuItemList=[],t.m_EffectUI=null,t.m_menu=new Map,t.m_selected=-1,t.m_PreSkin=null,t.m_Skin=null,t.m_IsSkinChangedBV=null,t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){this.__ReleaseMenu(),this.m_selected=-1},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnBack",this.OnBack.bind(this)),this.SetIIClickHandler("OnReset",this.OnReset.bind(this)),this.SetIIClickHandler("OnRand",this.OnRand.bind(this)),this.m_PreSkin=this.args.skin,this.m_Skin=a.SolitaireLogic.skin.CloneSkin(this.args.skin),this.m_IsSkinChangedBV=ii.BooleanBV.Borrow(!1).Bind(function(t){return e._resetRoot.active=t},!0,this).ReturnBy(this),this.m_EffectUI=ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.SolitaireThemesEffectUI.key,{skin:this.m_Skin},this._themeEffectRoot).CloseBy(this),this.menuItemList.forEach(function(t){return t.Init(e.m_selected,e.OnClickMenu.bind(e))}),this.Select(0)},t.prototype.__ReleaseMenu=function(){this.m_menu.forEach(function(e){return e.Close()}),this.m_menu.clear()},t.prototype.Select=function(e){if(e>=0&&this.m_selected!=e)if(this.m_selected=e,this.menuItemList.forEach(function(t){return t.OnSelect(e)}),this.m_menu.forEach(function(e){return e.node.active=!1}),this.m_menu.has(e))this.m_menu.get(e).node.active=!0;else{var t=null;switch(e){case 0:t=this.__SelectContentPokerBack();break;case 1:t=this.__SelectContentPokerFace();break;case 2:t=this.__SelectContentBoards()}this.m_menu.set(e,t)}},t.prototype.__SelectContentPokerBack=function(){var e=this;return ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.UIThemeMenuContentPokerBack.key,{backSkin:this.m_Skin.backSkin,OnSelect:function(t,o){return e.OnSelectBackSkin(t,o)}},this.menuContentRoot)},t.prototype.__SelectContentPokerFace=function(){var e=this;return ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.UIThemeMenuContentPokerFace.key,{faceSkin:this.m_Skin.faceSkin,OnSelect:function(t,o){return e.OnSelectFaceSkin(t,o)}},this.menuContentRoot)},t.prototype.__SelectContentBoards=function(){var e=this;return ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.UIThemeMenuContentBoards.key,{bgSkin:this.m_Skin.bgSkin,bgPatternSkin:this.m_Skin.bgPatternSkin,OnSelectBG:function(t,o){return e.OnSelectBGSkin(t,o)},OnSelectBGPattern:function(t,o){return e.OnSelectBGPatternSkin(t,o)}},this.menuContentRoot)},t.prototype.OnClickMenu=function(e){ii.AudioMgr.ins.PlayEffect(),this.Select(e)},t.prototype.OnBack=function(){this.m_IsSkinChangedBV.v&&this.args.OnSave(this.args.index,this.m_Skin),this.args.OnBack()},t.prototype.OnReset=function(){this.m_Skin=a.SolitaireLogic.skin.CloneSkin(this.m_PreSkin),this.m_EffectUI.SetSkin(this.m_Skin);for(var e=0;e<4;++e)this.m_menu.has(e)&&this.m_menu.get(e).OnResetSkin(this.m_Skin)},t.prototype.OnRand=function(){a.SolitaireLogic.skin.Random(this.m_Skin),this.m_EffectUI.SetSkin(this.m_Skin);for(var e=0;e<4;++e)this.m_menu.has(e)&&this.m_menu.get(e).OnResetSkin(this.m_Skin);this.ReculculateIsChangedValue()},t.prototype.OnSelectBackSkin=function(e,t){this.m_Skin.backSkin.kind=t.kind,this.m_Skin.backSkin.index=t.index,this.m_EffectUI.SetSkin(this.m_Skin),e.Select(t),this.ReculculateIsChangedValue()},t.prototype.OnSelectFaceSkin=function(e,t){this.m_Skin.faceSkin=t,this.m_EffectUI.SetSkin(this.m_Skin),e.Select(t),this.ReculculateIsChangedValue()},t.prototype.OnSelectBGSkin=function(e,t){this.m_Skin.bgSkin=t,this.m_EffectUI.SetSkin(this.m_Skin),e.SelectBG(t),this.ReculculateIsChangedValue()},t.prototype.OnSelectBGPatternSkin=function(e,t){this.m_Skin.bgPatternSkin=t,this.m_EffectUI.SetSkin(this.m_Skin),e.SelectBGPattern(t),this.ReculculateIsChangedValue()},t.prototype.ReculculateIsChangedValue=function(){this.m_IsSkinChangedBV.v=a.SolitaireLogic.skin.IsSkinChanged(this.m_PreSkin,this.m_Skin)},r([u({type:cc.Node,visible:!0})],t.prototype,"_resetRoot",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_themeEffectRoot",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"menuContentRoot",void 0),r([u({type:[c.default],visible:!0})],t.prototype,"menuItemList",void 0),r([ii.Util.block(.2)],t.prototype,"OnClickMenu",null),r([l],t)}(ii.UIComp);o.default=h,cc._RF.pop()},{"../Logic/SolitaireLogic":"SolitaireLogic","../SolitairePrefabCfg":"SolitairePrefabCfg","./UIThemeMenuItem":"UIThemeMenuItem"}],SolitaireThemesEffectColumnUI:[function(e,t,o){"use strict";cc._RF.push(t,"c240eRySpVL6oIhvqgGqfrk","SolitaireThemesEffectColumnUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Game/View/SolitaireGameDesktopUI"),s=e("../SolitaireEnums"),c=e("../SolitairePrefabCfg"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.receiveRoot=null,t.playRoot=null,t.m_DisplayPokerUI=[],t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.node.x=this.args.x,this.args.receive.forEach(function(t){e.m_DisplayPokerUI.push(ii.UIMgr.ins.Create(c.SolitairePrefabCfg.pfb.comp.SolitairePokerDisplayUI.key,{point:t.point,suit:t.suit,backSkin:{kind:"classic",index:0},frontSkin:0,status:t.status,faceSkin:0},e.receiveRoot).CloseBy(e))}),this.args.play.forEach(function(t,o){e.m_DisplayPokerUI.push(ii.UIMgr.ins.Create(c.SolitairePrefabCfg.pfb.comp.SolitairePokerDisplayUI.key,{point:t.point,suit:t.suit,backSkin:{kind:"classic",index:0},frontSkin:0,status:t.status,faceSkin:0},e.playRoot).CloseBy(e).PositionTo(0,e.__GetPaddingYWith(e.args.play,t,o)))})},t.prototype.__GetPaddingYWith=function(e,t,o){for(var i=0,n=0;n<o;++n)i-=e[n].status==s.EPokerStatus.CLOSE?a.default.PLAY_CLOSE_POKER_PADDING_Y:a.default.PLAY_OPEN_POKER_PADDING_Y;return i},t.prototype.SetSkin=function(e){this.m_DisplayPokerUI.forEach(function(t){return t.setSkin(e)})},r([u(cc.Node)],t.prototype,"receiveRoot",void 0),r([u(cc.Node)],t.prototype,"playRoot",void 0),r([l],t)}(ii.UIComp);o.default=h,cc._RF.pop()},{"../Game/View/SolitaireGameDesktopUI":"SolitaireGameDesktopUI","../SolitaireEnums":"SolitaireEnums","../SolitairePrefabCfg":"SolitairePrefabCfg"}],SolitaireThemesEffectUI:[function(e,t,o){"use strict";cc._RF.push(t,"fff88GUhhxMb5VvjzvISTlq","SolitaireThemesEffectUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SolitaireEnums"),s=e("../SolitairePrefabCfg"),c=e("../SolitaireSpriteFrameCfg"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSprite=null,t.bgPatternSprite=null,t.columnsRoot=null,t._offsetRoot=null,t.m_Columns=[],t.ColumnCfg=[{receive:[],play:[{suit:a.ESuit.MEIHUA,point:13,status:a.EPokerStatus.OPEN}]},{receive:[{suit:a.ESuit.HONGXIN,point:1,status:a.EPokerStatus.OPEN}],play:[{suit:a.ESuit.HONGXIN,point:1,status:a.EPokerStatus.CLOSE},{suit:a.ESuit.FANGKUAI,point:12,status:a.EPokerStatus.OPEN}]},{receive:[{suit:a.ESuit.HONGXIN,point:13,status:a.EPokerStatus.OPEN}],play:[{suit:a.ESuit.HONGXIN,point:1,status:a.EPokerStatus.CLOSE},{suit:a.ESuit.HONGXIN,point:1,status:a.EPokerStatus.CLOSE},{suit:a.ESuit.HEITAO,point:11,status:a.EPokerStatus.OPEN}]}],t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){null!=this.args.offset&&(this._offsetRoot.position=cc.v3(this.args.offset.x,this.args.offset.y));for(var e=this.ColumnCfg.length,t=0;t<e;++t)this.m_Columns.push(ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.SolitaireThemesEffectColumnUI.key,{x:114*(t-.5*(e-1)),receive:this.ColumnCfg[t].receive,play:this.ColumnCfg[t].play},this.columnsRoot).CloseBy(this));this.SetSkin(this.args.skin)},t.prototype.SetSkin=function(e){var t=this;this.m_Columns.forEach(function(t){return t.SetSkin(e)}),this.LoadRes(c.SolitaireSpriteFrameCfg.bgSkinUrl(e.bgSkin),function(e){t.bgSprite.spriteFrame=t.SetAssetProperty("BG_SKIN",e)},!1,this.UUID_GROUP_KEY("BG_SKIN")),this.bgPatternSprite.node.active=-1!==e.bgPatternSkin,e.bgPatternSkin>=0&&this.LoadRes(c.SolitaireSpriteFrameCfg.bgPatternSkinUrl(e.bgPatternSkin),function(e){return t.bgPatternSprite.spriteFrame=t.SetAssetProperty("BG_PATTERN_SKIN",e)},!1,this.UUID_GROUP_KEY("BG_PATTERN_SKIN"))},r([u(cc.Sprite)],t.prototype,"bgSprite",void 0),r([u(cc.Sprite)],t.prototype,"bgPatternSprite",void 0),r([u(cc.Node)],t.prototype,"columnsRoot",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_offsetRoot",void 0),r([l],t)}(ii.UIComp);o.default=h,cc._RF.pop()},{"../SolitaireEnums":"SolitaireEnums","../SolitairePrefabCfg":"SolitairePrefabCfg","../SolitaireSpriteFrameCfg":"SolitaireSpriteFrameCfg"}],SolitaireThemesSelfSkinItemUI:[function(e,t,o){"use strict";cc._RF.push(t,"27383+MJYZNMb/q/i3FPgcp","SolitaireThemesSelfSkinItemUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Logic/SolitaireLogic"),s=e("../SolitairePrefabCfg"),c=e("../_Public/Component/UISettingToggle"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._content=null,t._titleLabel=null,t._toggle=null,t.m_Effect=null,t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnEdit",this.OnClickEdit.bind(this)),this._titleLabel.string=0===this.args.index?"Default Theme":"Theme - "+this.args.index,this._toggle.Init(this.args.index===a.SolitaireLogic.skin.skinIndexBV.v,function(){a.SolitaireLogic.skin.SelectSkinIndex(e.args.index)}),this.BindBV(a.SolitaireLogic.skin.skinIndexBV,function(t){e._toggle.SyncUI(e.args.index===t),e._toggle.SetBlockInput(e.args.index===t)},!0),this.m_Effect=ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.SolitaireThemesEffectUI.key,{skin:this.args.skin},this._content).CloseBy(this)},t.prototype.OnClickEdit=function(){this.args.OnClickEdit(this.args.index)},t.prototype.RefreshUI=function(e){this.args.skin=e,this.m_Effect.SetSkin(e)},r([u({type:cc.Node,visible:!0})],t.prototype,"_content",void 0),r([u({type:cc.Label,visible:!0})],t.prototype,"_titleLabel",void 0),r([u({type:c.default,visible:!0})],t.prototype,"_toggle",void 0),r([l],t)}(ii.UIComp);o.default=h,cc._RF.pop()},{"../Logic/SolitaireLogic":"SolitaireLogic","../SolitairePrefabCfg":"SolitairePrefabCfg","../_Public/Component/UISettingToggle":"UISettingToggle"}],SolitaireThemesSelfSkinUI:[function(e,t,o){"use strict";cc._RF.push(t,"8b900dHdoZFrJZVKhkkhvCx","SolitaireThemesSelfSkinUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Logic/SolitaireLogic"),s=e("../SolitairePrefabCfg"),c=cc._decorator,p=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._Layout=null,t._unlockRoot=null,t._topBlocker=null,t.m_ItemList=[],t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnUnlock",this.OnUnlock.bind(this)),a.SolitaireLogic.skin.SkinList.forEach(function(t,o){e.__CreateSkin(t,o)}),this._unlockRoot.active=!a.SolitaireLogic.skin.IsMaxSkinLength,cc.tween(this._topBlocker).delay(.3).to(.3,{opacity:0}).set({active:!1,opacity:255}).start()},t.prototype.__CreateSkin=function(e,t){this.m_ItemList.push(ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.SolitaireThemesSelfSkinItemUI.key,{skin:e,index:t,OnClickEdit:this.args.OnClickEdit},this._Layout.node).CloseBy(this))},t.prototype.OnUnlock=function(){var e=this;a.SolitaireLogic.WatchToExtendSkinList(function(t){e.__CreateSkin(a.SolitaireLogic.skin.GetSkin(t),t),e._unlockRoot.active=!a.SolitaireLogic.skin.IsMaxSkinLength})},t.prototype.RefreshUI=function(e,t){this.m_ItemList[e].RefreshUI(t)},r([l({type:cc.Layout,visible:!0})],t.prototype,"_Layout",void 0),r([l({type:cc.Node,visible:!0})],t.prototype,"_unlockRoot",void 0),r([l({type:cc.Node,visible:!0})],t.prototype,"_topBlocker",void 0),r([p],t)}(ii.UIComp);o.default=u,cc._RF.pop()},{"../Logic/SolitaireLogic":"SolitaireLogic","../SolitairePrefabCfg":"SolitairePrefabCfg"}],SolitaireThemesUIPanel:[function(e,t,o){"use strict";cc._RF.push(t,"fbe250cWn9G96Ym6Uyu681R","SolitaireThemesUIPanel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Logic/SolitaireLogic"),s=e("../SolitairePrefabCfg"),c=cc._decorator,p=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ctnSelfList=null,t._ctnContents=null,t.m_SelfSkinUI=null,t.m_ContentsUI=null,t}return n(t,e),t.prototype.__CloseContentsUI=function(){null!==this.m_ContentsUI&&(this.m_ContentsUI.Close(),this.m_ContentsUI=null)},t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){this.__CloseContentsUI()},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnBack",this.OnBack.bind(this)),this.m_SelfSkinUI=ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.SolitaireThemesSelfSkinUI.key,{OnClickEdit:function(t){return e.OnClickEdit(t)}},this._ctnSelfList).CloseBy(this)},t.prototype.OnBack=function(){this.Close()},t.prototype.OnClickEdit=function(e){var t=this;this.m_ContentsUI=ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.SolitaireThemesContentsUI.key,{index:e,skin:a.SolitaireLogic.skin.CloneSkin(a.SolitaireLogic.skin.GetSkin(e)),OnSave:function(e,o){return t.OnSave(e,o)},OnBack:function(){return t.OnContentBack()}},this._ctnContents)},t.prototype.OnSave=function(e,t){a.SolitaireLogic.skin.SaveSkin(e,t),this.m_SelfSkinUI.RefreshUI(e,t)},t.prototype.OnContentBack=function(){this.__CloseContentsUI()},r([l({type:cc.Node,visible:!0})],t.prototype,"_ctnSelfList",void 0),r([l({type:cc.Node,visible:!0})],t.prototype,"_ctnContents",void 0),r([ii.Util.block(1)],t.prototype,"OnBack",null),r([p],t)}(ii.UIPanel);o.default=u,cc._RF.pop()},{"../Logic/SolitaireLogic":"SolitaireLogic","../SolitairePrefabCfg":"SolitairePrefabCfg"}],SolitaireType:[function(e,t,o){"use strict";cc._RF.push(t,"98521Kozz1C9oy78uSDqq7H","SolitaireType"),Object.defineProperty(o,"__esModule",{value:!0}),o.Cmd=o.CmdStack=o.ETOperationHint=o.EChangeType=o.ETUndoCmd=o.EActionType=void 0,function(e){e[e.CLICK=0]="CLICK",e[e.DRAG=1]="DRAG",e[e.UNDO=2]="UNDO"}(o.EActionType||(o.EActionType={})),function(e){e[e.PLAY_TO_PLAY=0]="PLAY_TO_PLAY",e[e.PLAY_TO_RECEIVE=1]="PLAY_TO_RECEIVE",e[e.OPEN_TO_RECEIVE=2]="OPEN_TO_RECEIVE",e[e.OPEN_TO_PLAY=3]="OPEN_TO_PLAY",e[e.CLOSE_TO_OPEN=4]="CLOSE_TO_OPEN",e[e.CLOSES_TO_OPEN=5]="CLOSES_TO_OPEN",e[e.OPEN_TO_CLOSE=6]="OPEN_TO_CLOSE",e[e.RECEIVE_TO_PLAY=7]="RECEIVE_TO_PLAY",e[e.RECEIVE_TO_RECEIVE=8]="RECEIVE_TO_RECEIVE"}(o.ETUndoCmd||(o.ETUndoCmd={})),function(e){e[e.MOVE=0]="MOVE",e[e.FLIP=1]="FLIP"}(o.EChangeType||(o.EChangeType={})),function(e){e[e.PLAY_TO_PLAY=0]="PLAY_TO_PLAY",e[e.PLAY_TO_RECEIVE=1]="PLAY_TO_RECEIVE",e[e.OPEN_TO_RECEIVE=2]="OPEN_TO_RECEIVE",e[e.OPEN_TO_PLAY=3]="OPEN_TO_PLAY",e[e.CLOSE_TO_OPEN=4]="CLOSE_TO_OPEN",e[e.OPEN_TO_CLOSE=5]="OPEN_TO_CLOSE",e[e.RECEIVE_TO_PLAY=6]="RECEIVE_TO_PLAY"}(o.ETOperationHint||(o.ETOperationHint={}));var i=function(){function e(e){this.undoCmdStack=[],this.m_OnUndoStatusChangedCallback=null,this.m_OnUndoStatusChangedCallback=e}return Object.defineProperty(e.prototype,"Length",{get:function(){return this.undoCmdStack.length},enumerable:!1,configurable:!0}),e.prototype.pop=function(){var e=this.undoCmdStack.pop();return this.onStatusChanged(),e},e.prototype.push=function(e){this.undoCmdStack.push(e),this.onStatusChanged()},e.prototype.onStatusChanged=function(){this.m_OnUndoStatusChangedCallback(this.undoCmdStack.length)},e.prototype.Snap=function(){return this.undoCmdStack.map(function(e){return e.Snap()})},e}();o.CmdStack=i;var n=function(){function e(e,t){this.cmdType=void 0,this.cmdChanges=void 0,this.cmdType=e,this.cmdChanges=t}return e.prototype.AddChange=function(e){return this.cmdChanges.push(e),this},e.prototype.Snap=function(){return{cmdType:this.cmdType,cmdChanges:this.cmdChanges.map(function(e){return{typ:e.typ,poker:null==e.poker?null:e.poker.Snap(),pokers:null==e.pokers?null:e.pokers.map(function(e){return e.Snap()}),fromIndex:e.fromIndex,toIndex:e.toIndex,status:e.status}})}},e}();o.Cmd=n,cc._RF.pop()},{}],SolitaireUICoinLabel:[function(e,t,o){"use strict";cc._RF.push(t,"1cdbavR9OdOzoSKMraXYNh1","SolitaireUICoinLabel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../SolitaireAudioCfg"),s=e("../../DataCache/SolitaireDataCache"),c=e("../../SolitairePrefabCfg"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._coinSprite=null,t._coinLabel=null,t.m_Coins=0,t.m_ToRewardedCoin=0,t.m_IsCoinDirty=!1,t.m_DiryCoins=0,t.m_UICoins=null,t}return n(t,e),t.prototype.SetCoins=function(e){this.m_Coins=e,this._coinLabel.string=""+this.m_Coins,cc.tween(this._coinSprite.node).to(.1,{scale:1.2}).to(.2,{scale:1}).start(),cc.tween(this._coinLabel.node).to(.1,{scale:1.2}).to(.2,{scale:1}).start()},t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){this.m_UICoins.RemoveAll(function(e){return e.Close()}),this.m_UICoins.Return(),this.m_UICoins=null},t.prototype.OnOpen=function(){this.SetCoins(this.args.coins),this.onGlobal(s.SolitaireDataCache.event.SYNC_UICOIN,this.ON_EVENT_COIN_CHANGED.bind(this)),this.m_UICoins=ii.AnyQueue.Borrow()},t.prototype.PlayEffect=function(e,t){this.m_ToRewardedCoin+=e;for(var o=this.node.convertToNodeSpaceAR(t),i=this.OnCoinReachDst.bind(this),n=0;n<e;++n)this.m_UICoins.Enqueue(ii.UIMgr.ins.Create(c.SolitairePrefabCfg.pfb.comp.SolitaireUICoin.key,{srcLocalPosition:o,index:n,dst:this._coinSprite.node,onCompleted:i},this.node))},t.prototype.OnCoinReachDst=function(e){this.m_ToRewardedCoin=this.m_ToRewardedCoin-1,this.SetCoins(this.m_Coins+1),ii.AudioMgr.ins.PlayEffect(a.SolitaireAudioCfg.effect.pop),this.m_UICoins.Remove(function(t){return t===e},function(e){return e.Close()}),this.__CheckDirtyCoin()},t.prototype.ON_EVENT_COIN_CHANGED=function(e){this.m_IsCoinDirty=!0,this.m_DiryCoins=e,this.__CheckDirtyCoin()},t.prototype.__CheckDirtyCoin=function(){0==this.m_ToRewardedCoin&&this.m_IsCoinDirty&&(this.m_IsCoinDirty=!1,this.SetCoins(this.m_DiryCoins))},r([u({type:cc.Sprite,visible:!0})],t.prototype,"_coinSprite",void 0),r([u({type:cc.Label,visible:!0})],t.prototype,"_coinLabel",void 0),r([l],t)}(ii.UIComp);o.default=h,cc._RF.pop()},{"../../DataCache/SolitaireDataCache":"SolitaireDataCache","../../SolitaireAudioCfg":"SolitaireAudioCfg","../../SolitairePrefabCfg":"SolitairePrefabCfg"}],SolitaireUICoin:[function(e,t,o){"use strict";cc._RF.push(t,"3a373D+OxREd6HHXfOJvt+7","SolitaireUICoin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../SolitaireAudioCfg"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.fsm=null,t.SM_STATUS={none:"none",spawning:"spawning",exploding:"exploding",flying:"flying",done:"done"},t.SM_EVENT={Spawn:"Spawn",Explode:"Explode",Fly:"Fly",Finish:"Finish",Reset:"Reset"},t.m_SpawnPosition=null,t.m_SpawnTime=null,t.m_SpawnScheduler=null,t.m_FloorY=0,t.m_ExplodePosition=null,t.m_Velocity=null,t.m_ForceGravityUp=-4e3,t.m_ForceGravityDown=-8e3,t.m_Impulse=cc.v2(400,2e3),t.m_ExplodingScheduler=null,t.m_Resistance=cc.v3(0,0,0),t.m_Mutiplyer=.1,t.m_Reduction=.4,t.m_TargetPosition=null,t.m_SrcPosition=null,t.m_Target=null,t.m_OnFinishCallback=null,t}return n(t,e),t.prototype.OnCreate=function(){this.fsm=ii.StateMachine.create({final:this.SM_STATUS.done,events:[{name:this.SM_EVENT.Spawn,from:ii.StateMachine.WILDCARD,to:this.SM_STATUS.spawning},{name:this.SM_EVENT.Explode,from:this.SM_STATUS.spawning,to:this.SM_STATUS.exploding},{name:this.SM_EVENT.Fly,from:this.SM_STATUS.exploding,to:this.SM_STATUS.flying},{name:this.SM_EVENT.Finish,from:this.SM_STATUS.flying,to:this.SM_STATUS.done},{name:this.SM_EVENT.Reset,from:ii.StateMachine.WILDCARD,to:this.SM_STATUS.none}],callbacks:{onenterspawning:this.onEnterSpawning.bind(this),onenterexploding:this.onEnterExploding.bind(this),onenterflying:this.onEnterFlying.bind(this),onenterdone:this.onEnterDone.bind(this),onenternone:this.onEnterNone.bind(this)}})},t.prototype.OnRelease=function(){this.fsm.Reset()},t.prototype.OnOpen=function(){this.sprite.node.active=!1,this.PlayEffect(this.args.srcLocalPosition,this.args.dst,this.args.onCompleted)},t.prototype.onEnterNone=function(){this.m_SpawnScheduler&&(this.unschedule(this.m_SpawnScheduler),this.m_SpawnScheduler=null),this.m_ExplodingScheduler&&(this.unschedule(this.m_ExplodingScheduler),this.m_ExplodingScheduler=null),this.sprite.node.active=!1,cc.Tween.stopAllByTarget(this.node)},t.prototype.onEnterSpawning=function(){var e=this;this.m_SpawnPosition=this.m_SrcPosition,this.node.position=this.m_SpawnPosition,this.m_SpawnTime=1*Math.random(),this.m_SpawnScheduler=function(){e.sprite.node.active=!0,e.m_SpawnScheduler=null,e.fsm.Explode()},this.scheduleOnce(this.m_SpawnScheduler,this.m_SpawnTime)},t.prototype.onEnterExploding=function(){var e=this;ii.AudioMgr.ins.PlayEffect(a.SolitaireAudioCfg.effect.coin_drop),this.m_Velocity=cc.v3(0,0,0),this.m_FloorY=this.m_SpawnPosition.y,this.m_ExplodePosition=cc.v3(this.m_SpawnPosition.x+(Math.random()-.5)*cc.winSize.width*.5,this.m_SpawnPosition.y+Math.random()*cc.winSize.height*.3,0);var t=this.m_ExplodePosition.add(this.m_SpawnPosition.neg()).normalize();this.m_Velocity=this.m_Velocity.add(cc.v3(t.x*this.m_Impulse.x,t.y*this.m_Impulse.y,0)),this.m_ExplodingScheduler=function(t){return e.__updatePerFrameForExploding(t)},this.schedule(this.m_ExplodingScheduler,0,cc.macro.REPEAT_FOREVER)},t.prototype.__updatePerFrameForExploding=function(e){this.m_Resistance=this.m_Velocity.neg().normalizeSelf().mulSelf(this.m_Velocity.len()*this.m_Mutiplyer),this.m_Velocity.x+=this.m_Resistance.x*e,this.m_Velocity.y>0?this.m_Velocity.y+=(this.m_Resistance.y+this.m_ForceGravityUp)*e:this.m_Velocity.y+=(this.m_Resistance.y+this.m_ForceGravityDown)*e,this.node.x+=this.m_Velocity.x*e;var t=this.node.y+this.m_Velocity.y*e;t<this.m_FloorY?(this.node.y=this.m_FloorY,this.m_Velocity.y=Math.abs(this.m_Velocity.y)*this.m_Reduction,this.m_Velocity.y<100&&(this.m_ExplodingScheduler&&(this.unschedule(this.m_ExplodingScheduler),this.m_ExplodingScheduler=null),this.fsm.Fly())):this.node.y=t},t.prototype.onEnterFlying=function(){var e=this;this.m_TargetPosition=this.node.parent.convertToNodeSpaceAR(this.m_Target.convertToWorldSpaceAR(cc.Vec3.ZERO)),cc.tween(this.node).to(1,{position:this.m_TargetPosition},{easing:cc.easing.backIn}).call(function(){e.fsm.Finish()}).start()},t.prototype.onEnterDone=function(){this.m_OnFinishCallback&&(this.m_OnFinishCallback(this),this.m_OnFinishCallback=null)},t.prototype.PlayEffect=function(e,t,o){this.m_SrcPosition=e,this.m_Target=t,this.m_OnFinishCallback=o,this.fsm.Spawn()},r([p(cc.Sprite)],t.prototype,"sprite",void 0),r([c],t)}(ii.UIComp);o.default=l,cc._RF.pop()},{"../../SolitaireAudioCfg":"SolitaireAudioCfg"}],UIGameLose:[function(e,t,o){"use strict";cc._RF.push(t,"16406xrmulH9ZJVyTHv4ySg","UIGameLose");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./SolitaireGameUIPanel"),s=e("../../SolitaireAudioCfg"),c=e("../../Logic/SolitaireLogic"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scoreLabel=null,t._recordSeedNode=null,t._recordedSeedNode=null,t._recordedSeedADIconNode=null,t._seedLabels=[],t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.failed),this.scoreLabel.string="(Score: "+this.args.ju.scoreBV.v+")",this._seedLabels.forEach(function(t){return t.string=""+e.args.ju.Seed}),this.SetIIClickHandler("OnSkipGame",function(){e.emitGlobal(a.default.event.EVENT_GAMESCENE_SKIP_GAME),e.Close()},!0),this.SetIIClickHandler("OnRecordSeed",function(){c.SolitaireLogic.WatchToRecordSeed(e.args.ju,function(){e.RefreshUI_Seed()},!1)}),this.SetIIClickHandler("OnReplay",function(){e.emitGlobal(a.default.event.EVENT_GAMESCENE_REPLAY_GAME),e.Close()},!0),this.SetIIClickHandler("OnContinue",function(){e.args.ju.isContinueBV.v=!0,e.Close()},!0),this.RefreshUI_Seed()},t.prototype.RefreshUI_Seed=function(){this._recordSeedNode.active=c.SolitaireLogic.dataCache.IsCanRecordJuSeed(this.args.ju),this._recordedSeedNode.active=c.SolitaireLogic.dataCache.IsLevelRecorded(this.args.ju),this._recordedSeedADIconNode.active=0===c.SolitaireLogic.dataCache.recordBV.v},r([u(cc.Label)],t.prototype,"scoreLabel",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_recordSeedNode",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_recordedSeedNode",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_recordedSeedADIconNode",void 0),r([u({type:[cc.Label],visible:!0})],t.prototype,"_seedLabels",void 0),r([l],t)}(ii.UIPanel);o.default=h,cc._RF.pop()},{"../../Logic/SolitaireLogic":"SolitaireLogic","../../SolitaireAudioCfg":"SolitaireAudioCfg","./SolitaireGameUIPanel":"SolitaireGameUIPanel"}],UIGameWin:[function(e,t,o){"use strict";cc._RF.push(t,"1dff5F1nK1Cx5BycMI+zGR6","UIGameWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../Logic/SolitaireLogic"),s=e("../../SolitaireAudioCfg"),c=e("../../SolitairePrefabCfg"),p=e("./SolitaireGameUIPanel"),l=cc._decorator,u=l.ccclass,h=l.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLabel=null,t.scoreLabel=null,t.movesLabel=null,t.timeHistoryLabel=null,t.scoreHistoryLabel=null,t.movesHistoryLabel=null,t._recordSeedNode=null,t._recordedSeedNode=null,t._recordedSeedADIconNode=null,t._seedLabels=[],t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnReplay",this.OnReplay.bind(this),!0),this.SetIIClickHandler("OnRecordSeed",this.OnRecordSeed.bind(this)),this.SetIIClickHandler("OnNextGame",this.OnNextGame.bind(this),!0);var t=a.SolitaireLogic.dataCache.GetModeHistory(this.args.ju.isVegasMode,this.args.ju.isCard3Mode).v,o=this.args.ju.gameTime,i=this.args.ju.scoreBV.v,n=this.args.ju.moveStepCountBV.v;this.timeLabel.string=ii.date.Format(o,"mm:ss"),this.scoreLabel.string=""+i,this.movesLabel.string=""+n,this.timeHistoryLabel.string=ii.date.Format(t.gameTimeBest,"mm:ss"),this.scoreHistoryLabel.string=""+t.scoreBest,this.movesHistoryLabel.string=""+t.moveStepBest,this._seedLabels.forEach(function(t){return t.string=""+e.args.ju.Seed}),ii.AudioMgr.ins.PlayEffect(s.SolitaireAudioCfg.effect.successful),this.TryToShowInterstitial(),this.RefreshUI_Seed()},t.prototype.TryToShowInterstitial=function(){a.SolitaireLogic.dataCache.passCountBV.v>=3&&(ii.App.ins.p.ad.IsInterstitialAvailable()?ii.App.ins.p.ad.ShowInterstitialWithBlocker(null,c.SolitairePrefabCfg.pfb.panel.LoadingADUIPanel.key,2):(ii.App.ins.p.ad.LoadInterstitial(),ii.App.ins.p.user.GetGameCenterVal("GameTime")>57600&&ii.App.ins.p.user.FiveStar()))},t.prototype.RefreshUI_Seed=function(){this._recordSeedNode.active=a.SolitaireLogic.dataCache.IsCanRecordJuSeed(this.args.ju),this._recordedSeedNode.active=a.SolitaireLogic.dataCache.IsLevelRecorded(this.args.ju),this._recordedSeedADIconNode.active=0===a.SolitaireLogic.dataCache.recordBV.v},t.prototype.OnReplay=function(){this.emitGlobal(p.default.event.EVENT_GAMESCENE_REPLAY_GAME),this.Close()},t.prototype.OnRecordSeed=function(){var e=this;a.SolitaireLogic.WatchToRecordSeed(this.args.ju,function(){e.RefreshUI_Seed()},!0)},t.prototype.OnNextGame=function(){this.emitGlobal(p.default.event.EVENT_GAMESCENE_NEXT_GAME),this.Close()},r([h({type:cc.Label,visible:!0})],t.prototype,"timeLabel",void 0),r([h({type:cc.Label,visible:!0})],t.prototype,"scoreLabel",void 0),r([h({type:cc.Label,visible:!0})],t.prototype,"movesLabel",void 0),r([h({type:cc.Label,visible:!0})],t.prototype,"timeHistoryLabel",void 0),r([h({type:cc.Label,visible:!0})],t.prototype,"scoreHistoryLabel",void 0),r([h({type:cc.Label,visible:!0})],t.prototype,"movesHistoryLabel",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"_recordSeedNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"_recordedSeedNode",void 0),r([h({type:cc.Node,visible:!0})],t.prototype,"_recordedSeedADIconNode",void 0),r([h({type:[cc.Label],visible:!0})],t.prototype,"_seedLabels",void 0),r([u],t)}(ii.UIPanel);o.default=_,cc._RF.pop()},{"../../Logic/SolitaireLogic":"SolitaireLogic","../../SolitaireAudioCfg":"SolitaireAudioCfg","../../SolitairePrefabCfg":"SolitairePrefabCfg","./SolitaireGameUIPanel":"SolitaireGameUIPanel"}],UIHintMgr:[function(e,t,o){"use strict";cc._RF.push(t,"8b016iqsxpGb7VjRG1XFA45","UIHintMgr");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../SolitairePrefabCfg"),s=e("../Model/SolitaireJu"),c=cc._decorator.ccclass,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){this.onGlobal(s.SolitaireJu.event.EVENT_LEVEL_MODEL_USING_HINT,this.HandleOperationHint.bind(this))},t.prototype.HandleOperationHint=function(){console.assert(this.args.ju.HasOperationHint()),ii.UIMgr.ins.Create(a.SolitairePrefabCfg.pfb.comp.UIHint.key,{hint:this.args.ju.DoOperationHint(),uiMgr:this,desktop:this.args.desktop,ju:this.args.ju},this.node)},r([c],t)}(ii.UIComp);o.default=p,cc._RF.pop()},{"../../SolitairePrefabCfg":"SolitairePrefabCfg","../Model/SolitaireJu":"SolitaireJu"}],UIHint:[function(e,t,o){"use strict";cc._RF.push(t,"6d8039lTFVC74RAua10wlmH","UIHint");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Model/Poker"),s=e("../SolitaireType"),c=e("./SolitaireGameDesktopUI"),p=e("../../SolitaireAudioCfg"),l=e("../../SolitairePrefabCfg"),u=cc._decorator,h=u.ccclass,_=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mui_PokerRoot=null,t.mui_HighLight=null,t}return n(t,e),Object.defineProperty(t.prototype,"vm",{get:function(){return this.args},enumerable:!1,configurable:!0}),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this.vm.hint;switch(e.type){case s.ETOperationHint.PLAY_TO_PLAY:this.HintPlayToPlay(e);break;case s.ETOperationHint.PLAY_TO_RECEIVE:this.HintPlayToReceive(e);break;case s.ETOperationHint.OPEN_TO_RECEIVE:this.HintOpenToReceive(e);break;case s.ETOperationHint.OPEN_TO_PLAY:this.HintOpenToPlay(e);break;case s.ETOperationHint.CLOSE_TO_OPEN:this.HintCloseToOpen(e);break;case s.ETOperationHint.OPEN_TO_CLOSE:this.HintOpenToClose(e);break;case s.ETOperationHint.RECEIVE_TO_PLAY:this.HintReceiveToPlay(e)}},t.prototype.__HintCreateUIPoker=function(e){var t=new a.default(e.point,e.suit,e.status);return ii.UIMgr.ins.Create(l.SolitairePrefabCfg.pfb.comp.UIPoker.key,t).Init(e.view.faceSkin,e.view.backSkin,e.view.frontSkin)},t.prototype.__HintFreeUIPoker=function(e){for(var t=e.length-1;t>=0;--t)e[t].Close()},t.prototype.__HintPrepareFromPlay=function(e){var t=this,o=this.vm.ju.getPlayGroup(e),i=o.rootOpenPoker.view.node.convertToWorldSpaceAR(cc.Vec3.ZERO);this.setWorldPosition(i);var n=[],r=o.GetOpenPokers();return r.forEach(function(e,o){var i=t.__HintCreateUIPoker(e),r=-o*c.default.PLAY_OPEN_POKER_PADDING_Y;i.node.position=cc.v3(0,r,0),t.AddUIPoker(i),n.push(i)}),this.setHighLightHeightEx(c.default.PLAY_OPEN_POKER_PADDING_Y*(r.length-1)),n},t.prototype.__HintPrepareFromReceive=function(e){var t=this.vm.desktop.ReceiveAreaList[e].convertToWorldSpaceAR(cc.Vec3.ZERO);this.setWorldPosition(t);var o=this.vm.ju.getReceiveGroup(e),i=[],n=this.__HintCreateUIPoker(o.top);return n.node.position=cc.Vec3.ZERO,this.node.addChild(n.node),i.push(n),this.setHighLightHeightEx(0),i},t.prototype.__HintPrepareFromOpen=function(){var e=this.vm.desktop.OpenArea.convertToWorldSpaceAR(cc.Vec3.ZERO);this.setWorldPosition(e);var t=this.__HintCreateUIPoker(this.vm.ju.getOpenGroupPoker(-1));t.node.position=cc.v3(0,0,0),this.AddUIPoker(t);var o=[];return o.push(t),this.setHighLightHeightEx(0),o},t.prototype.__HintPrepareFromClose=function(){var e=this.vm.desktop.CloseArea.convertToWorldSpaceAR(cc.Vec3.ZERO);this.setWorldPosition(e);var t=this.__HintCreateUIPoker(this.vm.ju.getCloseGroupPoker(-1));t.node.position=cc.v3(0,0,0),this.AddUIPoker(t);var o=[];return o.push(t),this.setHighLightHeightEx(0),o},t.prototype.__HintCalculateTargetPositionInWorldSpaceAROfToPlay=function(e){var t=this.vm.ju.getPlayGroup(e);return t.IsPokersEmpty()?this.vm.desktop.PlayAreaList[e].convertToWorldSpaceAR(cc.Vec3.ZERO):t.top.view.node.convertToWorldSpaceAR(cc.v3(0,-c.default.PLAY_OPEN_POKER_PADDING_Y,0))},t.prototype.__HintCalculateTargetPositionInWorldSpaceAROfToReceive=function(e){return this.vm.desktop.ReceiveAreaList[e].convertToWorldSpaceAR(cc.Vec3.ZERO)},t.prototype.__HintCalculateTargetPositionInWorldSpaceAROfToOpen=function(){var e=this.vm.ju.OpenAreaGroup;return e.pokers.length>1?this.vm.desktop.OpenArea.convertToWorldSpaceAR(cc.v3(this.vm.desktop.PADDING_PLAY,0,0)):1==e.pokers.length?this.vm.desktop.OpenArea.convertToWorldSpaceAR(cc.v3(this.vm.desktop.PADDING_PLAY/2,0,0)):this.vm.desktop.OpenArea.convertToWorldSpaceAR(cc.Vec3.ZERO)},t.prototype.__HintActioin=function(e,t){var o=this,i=this.node.parent.convertToNodeSpaceAR(e),n=this.vm.desktop.__timeOfDistance(this.node.position,i);this.RunHintAction(n,i,function(){o.__HintFreeUIPoker(t),o.Close()})},t.prototype.HintPlayToPlay=function(e){var t=this.__HintPrepareFromPlay(e.from),o=this.__HintCalculateTargetPositionInWorldSpaceAROfToPlay(e.to);this.__HintActioin(o,t)},t.prototype.HintPlayToReceive=function(e){var t=this.__HintPrepareFromPlay(e.from),o=this.__HintCalculateTargetPositionInWorldSpaceAROfToReceive(e.to);this.__HintActioin(o,t)},t.prototype.HintOpenToReceive=function(e){var t=this.__HintPrepareFromOpen(),o=this.__HintCalculateTargetPositionInWorldSpaceAROfToReceive(e.to);this.__HintActioin(o,t)},t.prototype.HintOpenToPlay=function(e){var t=this.__HintPrepareFromOpen(),o=this.__HintCalculateTargetPositionInWorldSpaceAROfToPlay(e.to);this.__HintActioin(o,t)},t.prototype.HintCloseToOpen=function(){var e=this.__HintPrepareFromClose(),t=this.__HintCalculateTargetPositionInWorldSpaceAROfToOpen();this.__HintActioin(t,e)},t.prototype.HintOpenToClose=function(){cc.tween(this.vm.desktop.CloseAreaBackground).to(.2,{scale:1.2}).to(.4,{scale:.9}).to(.4,{scale:1.2}).to(.2,{scale:1}).start()},t.prototype.HintReceiveToPlay=function(e){var t=this.__HintPrepareFromReceive(e.from),o=this.__HintCalculateTargetPositionInWorldSpaceAROfToPlay(e.to);this.__HintActioin(o,t)},t.prototype.setWorldPosition=function(e){this.node.setPosition(this.node.parent.convertToNodeSpaceAR(e))},t.prototype.AddUIPoker=function(e){this.mui_PokerRoot.addChild(e.node)},t.prototype.setHighLightHeightEx=function(e){this.mui_HighLight.height=128+e},t.prototype.RunHintAction=function(e,t,o){var i=this;this.mui_HighLight.opacity=0,cc.tween(this.mui_HighLight).to(.4,{opacity:255}).start(),cc.tween(this.node).delay(.4).to(e,{position:t}).call(function(){ii.AudioMgr.ins.PlayEffect(p.SolitaireAudioCfg.effect.move),cc.tween(i.mui_HighLight).to(.8,{opacity:0}).start()}).delay(.8).call(function(){o()}).start()},r([_(cc.Node)],t.prototype,"mui_PokerRoot",void 0),r([_(cc.Node)],t.prototype,"mui_HighLight",void 0),r([h],t)}(ii.UIComp);o.default=f,cc._RF.pop()},{"../../SolitaireAudioCfg":"SolitaireAudioCfg","../../SolitairePrefabCfg":"SolitairePrefabCfg","../Model/Poker":"Poker","../SolitaireType":"SolitaireType","./SolitaireGameDesktopUI":"SolitaireGameDesktopUI"}],UINewGame:[function(e,t,o){"use strict";cc._RF.push(t,"5da80ae2XVE/4xn405OatYX","UINewGame");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../Logic/SolitaireLogic"),s=e("../../SolitaireEnums"),c=e("./SolitaireGameUIPanel"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mui_ActionNode=null,t._recordSeedNode=null,t._recordedSeedNode=null,t._recordedSeedADIconNode=null,t._gameTypeLabel=null,t._gameTypeSprite=null,t._skipGameLabel=null,t._seedLabels=[],t._spriteFrames=[],t}return n(t,e),t.prototype.OnCreate=function(){this.SetUserData("ACTION_POSITION",this.mui_ActionNode.position)},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;switch(this.SetIIClickHandler("OnBG",this.OnBG.bind(this)),this.SetIIClickHandler("OnSeed",this.OnSeed.bind(this)),this.SetIIClickHandler("OnRecordSeed",this.OnRecordSeed.bind(this)),this.SetIIClickHandler("OnSkipGame",this.OnSkipGame.bind(this)),this.SetIIClickHandler("OnReplayDeck",this.OnReplayDeck.bind(this)),this.SetIIClickHandler("OnCancel",this.OnCancel.bind(this)),ii.UIUtil.moveAction(this.mui_ActionNode,!0,this.GetUserData("ACTION_POSITION"),.3),this.args.ju.gameType){case s.EGameType.EASY:this._gameTypeLabel.string="Easy",this._skipGameLabel.string="Skip This Level";break;case s.EGameType.HARD:this._gameTypeLabel.string="Hard",this._skipGameLabel.string="Skip This Level";break;case s.EGameType.SEED:this._gameTypeLabel.string="Seed",this._skipGameLabel.string="Play Next Seed"}this._gameTypeSprite.spriteFrame=this._spriteFrames[this.args.ju.gameType],this._seedLabels.forEach(function(t){return t.string=""+e.args.ju.Seed}),this.RefreshUI_RecordSeed()},t.prototype.RefreshUI_RecordSeed=function(){this._recordSeedNode.active=a.SolitaireLogic.dataCache.IsCanRecordJuSeed(this.args.ju),this._recordedSeedNode.active=a.SolitaireLogic.dataCache.IsLevelRecorded(this.args.ju),this._recordedSeedADIconNode.active=0===a.SolitaireLogic.dataCache.recordBV.v},t.prototype.ExitWithAction=function(e){var t=this;ii.UIUtil.moveAction(this.mui_ActionNode,!1,this.GetUserData("ACTION_POSITION"),.3,function(){e&&e(),t.Close()})},t.prototype.OnBG=function(){this.ExitWithAction()},t.prototype.OnSeed=function(){var e=this;this.ExitWithAction(function(){return e.emitGlobal(c.default.event.EVENT_GAMESCENE_SEED)})},t.prototype.OnRecordSeed=function(){var e=this;a.SolitaireLogic.WatchToRecordSeed(this.args.ju,function(){e.RefreshUI_RecordSeed()},!1)},t.prototype.OnSkipGame=function(){var e=this;this.ExitWithAction(function(){return e.emitGlobal(c.default.event.EVENT_GAMESCENE_SKIP_GAME)})},t.prototype.OnReplayDeck=function(){var e=this;this.ExitWithAction(function(){return e.emitGlobal(c.default.event.EVENT_GAMESCENE_REPLAY_GAME)})},t.prototype.OnCancel=function(){this.ExitWithAction()},r([u(cc.Node)],t.prototype,"mui_ActionNode",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_recordSeedNode",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_recordedSeedNode",void 0),r([u({type:cc.Node,visible:!0})],t.prototype,"_recordedSeedADIconNode",void 0),r([u({type:cc.Label,visible:!0})],t.prototype,"_gameTypeLabel",void 0),r([u({type:cc.Sprite,visible:!0})],t.prototype,"_gameTypeSprite",void 0),r([u({type:cc.Label,visible:!0})],t.prototype,"_skipGameLabel",void 0),r([u({type:[cc.Label],visible:!0})],t.prototype,"_seedLabels",void 0),r([u({type:[cc.SpriteFrame],visible:!0})],t.prototype,"_spriteFrames",void 0),r([ii.Util.block(1)],t.prototype,"OnBG",null),r([ii.Util.block(1)],t.prototype,"OnRecordSeed",null),r([ii.Util.block(1)],t.prototype,"OnSkipGame",null),r([ii.Util.block(1)],t.prototype,"OnReplayDeck",null),r([ii.Util.block(1)],t.prototype,"OnCancel",null),r([l],t)}(ii.UIPanel);o.default=h,cc._RF.pop()},{"../../Logic/SolitaireLogic":"SolitaireLogic","../../SolitaireEnums":"SolitaireEnums","./SolitaireGameUIPanel":"SolitaireGameUIPanel"}],UIPoker:[function(e,t,o){"use strict";cc._RF.push(t,"8a51bnfKoxOlqy/HLUBpJNo","UIPoker");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../SolitaireEnums"),s=e("../../SolitairePrefabCfg"),c=e("./SolitaireGameDesktopUI"),p=cc._decorator,l=p.ccclass,u=(p.property,p.requireComponent,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Display=null,t._touchDelegate=null,t._bBindTouch=!1,t._moveTargetPosition=null,t}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"backSkin",{get:function(){return this.m_Display.backSkin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frontSkin",{get:function(){return this.m_Display.frontSkin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"faceSkin",{get:function(){return this.m_Display.skin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vm",{get:function(){return this.args},enumerable:!1,configurable:!0}),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){this.UnbindTouch()},t.prototype.OnOpen=function(){this.vm.view=this,this.m_Display=ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.SolitairePokerDisplayUI.key,{point:this.vm.point,suit:this.vm.suit,backSkin:{kind:"classic",index:0},frontSkin:0,status:this.vm.status,faceSkin:0},this.node).CloseBy(this)},t.prototype.Init=function(e,t,o){return this.m_Display.Init(e,t,o),this},t.prototype.setSkin=function(e){this.m_Display.setSkin(e)},t.prototype.setFaceSkin=function(e){this.m_Display.setFaceSkin(e)},t.prototype.setFrontSkin=function(e){this.m_Display.setFrontSkin(e)},t.prototype.setBackSkin=function(e){this.m_Display.setBackSkin(e)},t.prototype.Refresh=function(){this.m_Display.Refresh(this.vm.status,this.vm.suit,this.vm.point)},t.prototype.isOpen=function(){return this.vm.status==a.EPokerStatus.OPEN},t.prototype.isPoint=function(e){return this.vm.point==e},t.prototype.SetTouchDelegate=function(e){this._touchDelegate=e,this.BindTouch()},t.prototype.BindTouch=function(){this._bBindTouch||(this._bBindTouch=!0,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this))},t.prototype.UnbindTouch=function(){this._bBindTouch&&(this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this._bBindTouch=!1)},t.prototype.onTouchStart=function(e){return this._touchDelegate.OnDragTouchStart(this,e)},t.prototype.onTouchMove=function(e){this._touchDelegate.OnDragTouchMove(this,e)},t.prototype.onTouchEnd=function(e){this._touchDelegate.OnDragTouchEnd(this,e)},t.prototype.DragStartTest=function(){return!(!this.isOpen()||this.vm.location===a.ELocation.OPEN&&!this.vm.isTop)},t.prototype.OnDragStart=function(e){var t=this.node.parent.convertToNodeSpaceAR(e.getLocation());this._moveTargetPosition=cc.v2(t.x,t.y+o.DRAG_OFFSET_Y),this.StartScheduler("MOVE_TO_TARGET",this.__MoveToTarget.bind(this),0)},t.prototype.OnDragMove=function(e){var t=this.node.parent.convertToNodeSpaceAR(e.getLocation());this._moveTargetPosition=cc.v2(t.x,t.y+o.DRAG_OFFSET_Y),this.HasScheduler("MOVE_TO_TARGET")||this.setPositionWhenFollow(t.x,t.y)},t.prototype.OnDragEnd=function(){this.StopScheduler("MOVE_TO_TARGET")},t.prototype.__MoveToTarget=function(e){var t=this._moveTargetPosition.x-this.node.x,o=this._moveTargetPosition.y-this.node.y;t*t+o*o<10?this.setPositionWhenFollow(this._moveTargetPosition.x,this._moveTargetPosition.y):this.setPositionWhenFollow(this.node.x+18*t*e,this.node.y+18*o*e)},t.prototype.setPositionWhenFollow=function(e,t){if(this.node.x=e,this.node.y=t,!this.vm.isTop)for(var o=this.vm.indexInGroup,i=this.vm.group.pokers.length,n=o+1;n<i;++n){var r=this.vm.group.GetPoker(n).view.node;r.x=e,r.y=this.node.y-c.default.PLAY_OPEN_POKER_PADDING_Y*(n-o)}},t.DRAG_OFFSET_Y=80,o=r([l],t)}(ii.UIComp));o.default=u,cc._RF.pop()},{"../../SolitaireEnums":"SolitaireEnums","../../SolitairePrefabCfg":"SolitairePrefabCfg","./SolitaireGameDesktopUI":"SolitaireGameDesktopUI"}],UISettingToggle:[function(e,t,o){"use strict";cc._RF.push(t,"42cb7Uh8+BJGryKJhs8QZDy","UISettingToggle");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSprite=null,t.offSprite=null,t.toggleSprite=null,t.m_onToggleCallback=null,t.m_isOn=!1,t.m_IsBlockInput=!1,t.m_Scheduler=null,t}return n(t,e),t.prototype.Init=function(e,t){this.m_isOn=e,this.m_onToggleCallback=t,this.toggleSprite.node.position=this.getTogglePositionByStatus(!this.m_isOn),this.toggleAction(this.m_isOn)},t.prototype.getTogglePositionByStatus=function(e){return e?cc.v3(20,this.toggleSprite.node.y,0):cc.v3(-24,this.toggleSprite.node.y,0)},t.prototype.toggleAction=function(e){var t=this,o=this.getTogglePositionByStatus(e);cc.tween(this.toggleSprite.node).to(.2,{position:o}).start(),this.__StopScheduler();var i=e?0:1,n=((e?1:0)-i)/12;this.m_Scheduler=function(){t.onSprite.getComponent(cc.Sprite).fillRange=i,((i+=n)>1||i<0)&&t.__StopScheduler()},this.schedule(this.m_Scheduler)},t.prototype.__StopScheduler=function(){this.m_Scheduler&&(this.unschedule(this.m_Scheduler),this.m_Scheduler=null)},t.prototype.OnClick=function(){this.m_IsBlockInput||(ii.AudioMgr.ins.PlayEffect(),this.m_isOn=!this.m_isOn,this.toggleAction(this.m_isOn),this.m_onToggleCallback&&this.m_onToggleCallback(this.m_isOn))},t.prototype.SetBlockInput=function(e){this.m_IsBlockInput=e},t.prototype.SyncUI=function(e){e!=this.m_isOn&&(this.m_isOn=e,this.toggleSprite.node.position=this.getTogglePositionByStatus(!this.m_isOn),this.toggleAction(e))},r([c(cc.Sprite)],t.prototype,"onSprite",void 0),r([c(cc.Sprite)],t.prototype,"offSprite",void 0),r([c(cc.Sprite)],t.prototype,"toggleSprite",void 0),r([ii.Util.block(.2)],t.prototype,"OnClick",null),r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],UIStatisticsCircleProgress:[function(e,t,o){"use strict";cc._RF.push(t,"6ef35H0EBJBhqs+ULNYJPTq","UIStatisticsCircleProgress");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressLabel=null,t.countLabel=null,t.progressSprite=null,t}return n(t,e),t.prototype.Init=function(e,t){var o=0==t?0:Math.floor(100*e/t);this.progressLabel.string=o+"%",this.countLabel.string=""+e,this.progressSprite.fillRange=o/100},r([c(cc.Label)],t.prototype,"progressLabel",void 0),r([c(cc.Label)],t.prototype,"countLabel",void 0),r([c(cc.Sprite)],t.prototype,"progressSprite",void 0),r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],UIStatisticsPage:[function(e,t,o){"use strict";cc._RF.push(t,"4ac2eCMq41CNZE1cF6F53jS","UIStatisticsPage");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Logic/SolitaireLogic"),s=e("./UIStatisticsCircleProgress"),c=cc._decorator,p=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLabel=null,t.highScoreLabel=null,t.bestTimeLabel=null,t.averageGameTimeLabel=null,t.averageMovesLabel=null,t.lowestMovesLabel=null,t.highestMovesLabel=null,t.wonProgress=null,t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){this.node.width=this.args.width,this.Refresh()},t.prototype.Refresh=function(){var e=this.modeHistory.v;this.titleLabel.string=this.GetTitleString(this.args.vegas,this.args.card3),this.highScoreLabel.string=""+e.scoreBest,this.wonProgress.Init(e.passCount,e.passCount+e.loseCount),this.bestTimeLabel.string=""+e.gameTimeBest,this.averageGameTimeLabel.string=""+e.gameTimeAverage,this.averageMovesLabel.string=""+e.moveStepAverage,this.lowestMovesLabel.string=""+e.moveStepBest,this.highestMovesLabel.string=""+e.moveStepWorest},t.prototype.GetTitleString=function(e,t){return(e?"Vegas":"Normal")+"-"+(t?"3Cards":"1Card")},t.prototype.Reset=function(){var e=this;ii.UIMgr.ins.OpenDialog2("Reset "+(this.args.vegas?"Vegas":"Normal")+"-"+(this.args.card3?"Card3":"Card1")+" history ?",null,function(){return e.resetHistory()})},Object.defineProperty(t.prototype,"index",{get:function(){return 2*(this.args.vegas?1:0)+(this.args.card3?1:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modeHistory",{get:function(){return a.SolitaireLogic.dataCache.GetModeHistory(this.args.vegas,this.args.card3)},enumerable:!1,configurable:!0}),t.prototype.resetHistory=function(){a.SolitaireLogic.dataCache.ResetModeHistory(this.args.vegas,this.args.card3),this.Refresh()},r([l(cc.Label)],t.prototype,"titleLabel",void 0),r([l(cc.Label)],t.prototype,"highScoreLabel",void 0),r([l(cc.Label)],t.prototype,"bestTimeLabel",void 0),r([l(cc.Label)],t.prototype,"averageGameTimeLabel",void 0),r([l(cc.Label)],t.prototype,"averageMovesLabel",void 0),r([l(cc.Label)],t.prototype,"lowestMovesLabel",void 0),r([l(cc.Label)],t.prototype,"highestMovesLabel",void 0),r([l(s.default)],t.prototype,"wonProgress",void 0),r([p],t)}(ii.UIComp);o.default=u,cc._RF.pop()},{"../Logic/SolitaireLogic":"SolitaireLogic","./UIStatisticsCircleProgress":"UIStatisticsCircleProgress"}],UIThemeMenuContentBoardsBackgroundColorItem:[function(e,t,o){"use strict";cc._RF.push(t,"893caaEDJZM2qZxua4mfN3M","UIThemeMenuContentBoardsBackgroundColorItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SolitaireSpriteFrameCfg"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSprite=null,t.highLightNode=null,t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnClick",this.OnItemClick.bind(this)),this.highLightNode.active=!1,this.LoadRes(a.SolitaireSpriteFrameCfg.bgSkinUrl(this.args.bgSkin),function(t){return e.bgSprite.spriteFrame=e.SetAssetProperty("BG_SKIN",t)},!1)},t.prototype.OnItemClick=function(){this.args.OnSelect(this.args.bgSkin)},t.prototype.Select=function(e){this.highLightNode.active=this.args.bgSkin==e},r([p(cc.Sprite)],t.prototype,"bgSprite",void 0),r([p(cc.Node)],t.prototype,"highLightNode",void 0),r([c],t)}(ii.UIComp);o.default=l,cc._RF.pop()},{"../SolitaireSpriteFrameCfg":"SolitaireSpriteFrameCfg"}],UIThemeMenuContentBoardsPatternItem:[function(e,t,o){"use strict";cc._RF.push(t,"8385cIfhA1O4pSwQ+ezNkc5","UIThemeMenuContentBoardsPatternItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SolitaireSpriteFrameCfg"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSprite=null,t.highLightNode=null,t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnClick",this.OnItemClick.bind(this)),this.highLightNode.active=!1,this.args.bgPatternSkin>=0&&this.LoadRes(a.SolitaireSpriteFrameCfg.bgPatternSkinUrl(this.args.bgPatternSkin),function(t){return e.bgSprite.spriteFrame=e.SetAssetProperty("BG_PATTERN_SKIN",t)},!1)},t.prototype.OnItemClick=function(){this.args.OnSelect(this.args.bgPatternSkin)},t.prototype.Select=function(e){this.highLightNode.active=this.args.bgPatternSkin==e},r([p(cc.Sprite)],t.prototype,"bgSprite",void 0),r([p(cc.Node)],t.prototype,"highLightNode",void 0),r([c],t)}(ii.UIComp);o.default=l,cc._RF.pop()},{"../SolitaireSpriteFrameCfg":"SolitaireSpriteFrameCfg"}],UIThemeMenuContentBoards:[function(e,t,o){"use strict";cc._RF.push(t,"5ab378/wUJAGaN0vEabYzKV","UIThemeMenuContentBoards");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SolitairePrefabCfg"),s=e("../SolitaireSpriteFrameCfg"),c=e("./UIThemeMenuContent"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSkinScrollView=null,t.bgPatternSkinScrollView=null,t.m_bgSkinItemArray=[],t.m_bgPatternSkinItemArray=[],t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){for(var e=this,t=0;t<s.SolitaireSpriteFrameCfg.bgSkinLength;++t)this.m_bgSkinItemArray.push(ii.UIMgr.ins.Create(a.SolitairePrefabCfg.pfb.comp.UIThemeMenuContentBoardsBackgroundColorItem.key,{bgSkin:t,OnSelect:function(t){return e.args.OnSelectBG(e,t)}},this.bgSkinScrollView.content).CloseBy(this));this.SelectBG(this.args.bgSkin);for(var o=-1;o<s.SolitaireSpriteFrameCfg.bgPatternSkinLength;++o)this.m_bgPatternSkinItemArray.push(ii.UIMgr.ins.Create(a.SolitairePrefabCfg.pfb.comp.UIThemeMenuContentBoardsPatternItem.key,{bgPatternSkin:o,OnSelect:function(t){return e.args.OnSelectBGPattern(e,t)}},this.bgPatternSkinScrollView.content).CloseBy(this));this.SelectBG(this.args.bgSkin),this.SelectBGPattern(this.args.bgPatternSkin)},t.prototype.SelectBG=function(e){this.m_bgSkinItemArray.forEach(function(t){return t.Select(e)})},t.prototype.OnResetSkin=function(e){this.SelectBG(e.bgSkin),this.SelectBGPattern(e.bgPatternSkin)},t.prototype.SelectBGPattern=function(e){this.m_bgPatternSkinItemArray.forEach(function(t){return t.Select(e)})},r([u(cc.ScrollView)],t.prototype,"bgSkinScrollView",void 0),r([u(cc.ScrollView)],t.prototype,"bgPatternSkinScrollView",void 0),r([l],t)}(c.default);o.default=h,cc._RF.pop()},{"../SolitairePrefabCfg":"SolitairePrefabCfg","../SolitaireSpriteFrameCfg":"SolitaireSpriteFrameCfg","./UIThemeMenuContent":"UIThemeMenuContent"}],UIThemeMenuContentPokerBackKindItem:[function(e,t,o){"use strict";cc._RF.push(t,"f85c41ogxRCMZhNDlTQqOLl","UIThemeMenuContentPokerBackKindItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SolitairePrefabCfg"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLabel=null,t.layout=null,t.m_itemArray=[],t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){this.titleLabel.string=this.args.kind.kind;for(var e=0;e<this.args.kind.count;++e)this.m_itemArray.push(ii.UIMgr.ins.Create(a.SolitairePrefabCfg.pfb.comp.UIThemeMenuContentPokerBackKindSubItem.key,{backSkin:{kind:this.args.kind.kind,index:e},onClick:this.args.onClick},this.layout).CloseBy(this))},t.prototype.Select=function(e){this.m_itemArray.forEach(function(t){return t.Select(e)})},r([p(cc.Label)],t.prototype,"titleLabel",void 0),r([p(cc.Node)],t.prototype,"layout",void 0),r([c],t)}(ii.UIComp);o.default=l,cc._RF.pop()},{"../SolitairePrefabCfg":"SolitairePrefabCfg"}],UIThemeMenuContentPokerBackKindSubItem:[function(e,t,o){"use strict";cc._RF.push(t,"5dfbcV4bhNGLpJxnIF2s9AS","UIThemeMenuContentPokerBackKindSubItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SolitaireSpriteFrameCfg"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSprite=null,t.highLightNode=null,t.lockAvailableNode=null,t.lockLockedNode=null,t.mui_DotSprite=null,t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.lockAvailableNode.active=!1,this.lockLockedNode.active=!1,this.mui_DotSprite.node.active=!1,this.highLightNode.active=!1,this.SetIIClickHandler("OnClick",this.OnClick.bind(this)),this.LoadRes(a.SolitaireSpriteFrameCfg.pokerBackUrl(this.args.backSkin),function(t){return e.bgSprite.spriteFrame=e.SetAssetProperty("BACK_SKIN",t)},!1)},t.prototype.OnClick=function(){this.args.onClick(this.args.backSkin,this)},t.prototype.Select=function(e){this.highLightNode.active=this.args.backSkin.kind==e.kind&&this.args.backSkin.index==e.index},r([p(cc.Sprite)],t.prototype,"bgSprite",void 0),r([p(cc.Node)],t.prototype,"highLightNode",void 0),r([p(cc.Node)],t.prototype,"lockAvailableNode",void 0),r([p(cc.Node)],t.prototype,"lockLockedNode",void 0),r([p(cc.Sprite)],t.prototype,"mui_DotSprite",void 0),r([ii.Util.block(.5)],t.prototype,"OnClick",null),r([c],t)}(ii.UIComp);o.default=l,cc._RF.pop()},{"../SolitaireSpriteFrameCfg":"SolitaireSpriteFrameCfg"}],UIThemeMenuContentPokerBack:[function(e,t,o){"use strict";cc._RF.push(t,"4ff92St4QdCZ5++3u9tocjD","UIThemeMenuContentPokerBack");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SolitairePrefabCfg"),s=e("../SolitaireSpriteFrameCfg"),c=e("./UIThemeMenuContent"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.m_itemArray=[],t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this,t=this.OnItemClick.bind(this);s.SolitaireSpriteFrameCfg.pokerBackKindCfg.forEach(function(o){e.m_itemArray.push(ii.UIMgr.ins.Create(a.SolitairePrefabCfg.pfb.comp.UIThemeMenuContentPokerBackKindItem.key,{kind:o,onClick:t},e.scrollView.content).CloseBy(e))}),this.Select(this.args.backSkin)},t.prototype.OnItemClick=function(e){this.args.OnSelect(this,e)},t.prototype.Select=function(e){ii.AudioMgr.ins.PlayEffect(),this.m_itemArray.forEach(function(t){return t.Select(e)})},t.prototype.OnResetSkin=function(e){this.Select(e.backSkin)},r([u(cc.ScrollView)],t.prototype,"scrollView",void 0),r([l],t)}(c.default);o.default=h,cc._RF.pop()},{"../SolitairePrefabCfg":"SolitairePrefabCfg","../SolitaireSpriteFrameCfg":"SolitaireSpriteFrameCfg","./UIThemeMenuContent":"UIThemeMenuContent"}],UIThemeMenuContentPokerFaceItem:[function(e,t,o){"use strict";cc._RF.push(t,"58660xU9b9PYrfSN1bdScvR","UIThemeMenuContentPokerFaceItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SolitaireEnums"),s=e("../SolitairePrefabCfg"),c=cc._decorator,p=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSprite=null,t.highLightNode=null,t._layout=null,t.m_DisplayPokerUI=[],t}var o;return n(t,e),o=t,t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){var e=this;this.SetIIClickHandler("OnClick",this.OnItemClick.bind(this));for(var t=function(t){o.POKER_POINTS.forEach(function(o){e.m_DisplayPokerUI.push(ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.SolitairePokerDisplayUI.key,{point:o,suit:t,backSkin:{kind:"classic",index:0},frontSkin:0,status:a.EPokerStatus.OPEN,faceSkin:e.args.faceSkin},e._layout.node).CloseBy(e))})},i=a.ESuit.HEITAO;i<=a.ESuit.FANGKUAI;++i)t(i);this.highLightNode.active=!1},t.prototype.OnItemClick=function(){this.args.OnSelect(this.args.faceSkin)},t.prototype.Select=function(e){this.highLightNode.active=this.args.faceSkin===e},t.POKER_POINTS=[1,11,12,13],r([l(cc.Sprite)],t.prototype,"bgSprite",void 0),r([l(cc.Node)],t.prototype,"highLightNode",void 0),r([l({type:cc.Layout,visible:!0})],t.prototype,"_layout",void 0),o=r([p],t)}(ii.UIComp);o.default=u,cc._RF.pop()},{"../SolitaireEnums":"SolitaireEnums","../SolitairePrefabCfg":"SolitairePrefabCfg"}],UIThemeMenuContentPokerFace:[function(e,t,o){"use strict";cc._RF.push(t,"b43980deBtOTaa2aI86HDi2","UIThemeMenuContentPokerFace");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SolitaireAutoAtlasCfg"),s=e("../SolitairePrefabCfg"),c=e("./UIThemeMenuContent"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.m_itemArray=[],t}return n(t,e),t.prototype.OnCreate=function(){},t.prototype.OnRelease=function(){},t.prototype.OnOpen=function(){for(var e=this,t=0;t<a.SolitaireAutoAtlasCfg.FaceSkinCnt;++t)this.m_itemArray.push(ii.UIMgr.ins.Create(s.SolitairePrefabCfg.pfb.comp.UIThemeMenuContentPokerFaceItem.key,{faceSkin:t,OnSelect:function(t){e.args.OnSelect(e,t)}},this.scrollView.content).CloseBy(this));this.Select(this.args.faceSkin)},t.prototype.Select=function(e){ii.AudioMgr.ins.PlayEffect(),this.m_itemArray.forEach(function(t){return t.Select(e)})},t.prototype.OnResetSkin=function(e){this.Select(e.faceSkin)},r([u(cc.ScrollView)],t.prototype,"scrollView",void 0),r([l],t)}(c.default);o.default=h,cc._RF.pop()},{"../SolitaireAutoAtlasCfg":"SolitaireAutoAtlasCfg","../SolitairePrefabCfg":"SolitairePrefabCfg","./UIThemeMenuContent":"UIThemeMenuContent"}],UIThemeMenuContent:[function(e,t,o){"use strict";cc._RF.push(t,"6d060q7nlZKnJXMYDrlHLSc","UIThemeMenuContent");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),r([a],t)}(ii.UIComp);o.default=s,cc._RF.pop()},{}],UIThemeMenuItem:[function(e,t,o){"use strict";cc._RF.push(t,"10393NCVe5IGIYmmSrR9x85","UIThemeMenuItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.dotSprite=null,t.normalSpriteFrame=null,t.selectedSpriteFrame=null,t.index=0,t._selected=!1,t}return n(t,e),t.prototype.Init=function(e,t){this.OnSelect(e),this._onClickCallback=t},t.prototype.OnClick=function(){this._selected||(ii.AudioMgr.ins.PlayEffect(),this._onClickCallback&&this._onClickCallback(this.index))},t.prototype.OnSelect=function(e){var t=this.index==e;this._selected!=t&&(this._selected=t,this.sprite.spriteFrame=this._selected?this.selectedSpriteFrame:this.normalSpriteFrame)},t.prototype.ShowDot=function(e){this.dotSprite.node.active=e},r([c(cc.Sprite)],t.prototype,"sprite",void 0),r([c(cc.Sprite)],t.prototype,"dotSprite",void 0),r([c(cc.SpriteFrame)],t.prototype,"normalSpriteFrame",void 0),r([c(cc.SpriteFrame)],t.prototype,"selectedSpriteFrame",void 0),r([c],t.prototype,"index",void 0),r([ii.Util.block(.2)],t.prototype,"OnClick",null),r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["SolitaireAutoPlayerDataCache","SolitaireDataCache","SolitaireSkinDataCache","Poker","PokerGroup","SolitaireConfigGenerator","SolitaireJu","SolitaireTestData","SolitaireType","SolitaireGameBottomMenuUI","SolitaireGameDesktopUI","SolitaireGameTopInfoUI","SolitaireGameUIPanel","SolitairePokerDisplayUI","UIGameLose","UIGameWin","UIHint","UIHintMgr","UINewGame","UIPoker","SolitaireHowToPlayUIPanel","SolitaireLogic","SolitaireMenuUIPanel","SolitaireOptionsUIPanel","SolitaireSeedListItemUI","SolitaireSeedListUIPanel","SolitaireAudioCfg","SolitaireAutoAtlasCfg","SolitaireCfg","SolitaireEnums","SolitaireEvent","SolitaireJsonCfg","SolitaireLangCfg","SolitairePrefabCfg","SolitaireSpriteFrameCfg","SolitaireStage","SolitaireStatisticsUIPanel","UIStatisticsCircleProgress","UIStatisticsPage","SolitaireThemesContentsUI","SolitaireThemesEffectColumnUI","SolitaireThemesEffectUI","SolitaireThemesSelfSkinItemUI","SolitaireThemesSelfSkinUI","SolitaireThemesUIPanel","UIThemeMenuContent","UIThemeMenuContentBoards","UIThemeMenuContentBoardsBackgroundColorItem","UIThemeMenuContentBoardsPatternItem","UIThemeMenuContentPokerBack","UIThemeMenuContentPokerBackKindItem","UIThemeMenuContentPokerBackKindSubItem","UIThemeMenuContentPokerFace","UIThemeMenuContentPokerFaceItem","UIThemeMenuItem","ActionBreath","UISettingToggle","LoadingADUIPanel","SolitaireActionUIPanel","SolitaireUICoin","SolitaireUICoinLabel"]);